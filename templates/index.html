<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Celestial Atlas of Geva Kipper</title>
    <style>
        /* ---  Reset and Base Styles --- */
        :root {
            --color-glow-main: #00ffff; /* Cyan */
            --color-glow-magenta: #ff00ff;
            --color-glow-orange: #ff8c00;
            --color-glow-yellow: #ffff00;
            --color-glow-gold: #ffd700;
            --color-bg: #01010a;
            --font-primary: 'Orbitron', 'Helvetica Neue', sans-serif;
            --font-secondary: 'Raleway', 'Helvetica Neue', sans-serif;
            --font-mono: 'Share Tech Mono', 'Courier New', monospace;
        }

        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Raleway:wght@300;400&family=Share+Tech+Mono&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--color-bg);
            color: #fff;
            font-family: var(--font-secondary);
            overflow-x: hidden;
        }

        html {
            scroll-behavior: smooth;
        }

        /* --- Canvas Background --- */
        #star-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* --- Page Structure & Content --- */
        .content-wrapper {
            position: relative;
            z-index: 1;
        }

        section {
            display: flex;
            align-items: center;
            min-height: 100vh;
            padding: 5vh 5vw;
            position: relative;
        }

        /* --- Hero Section ('Big Bang') --- */
        #hero {
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            height: 100vh;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        #hero h1 {
            font-family: var(--font-primary);
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: #fff;
            text-shadow: 0 0 8px #fff, 0 0 20px var(--color-glow-main), 0 0 35px var(--color-glow-main);
            margin-bottom: 0.25em;
        }

        #hero p {
            font-size: clamp(1rem, 2.5vw, 1.5rem);
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        #hero .subtitle {
            font-family: var(--font-secondary);
            font-weight: 300;
            font-style: italic;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: #ccc;
            margin-top: 2em;
            text-shadow: 0 0 5px rgba(200, 200, 255, 0.5);
        }

        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 60px;
            background: linear-gradient(to top, rgba(0, 255, 255, 0.8) 0%, rgba(0, 255, 255, 0) 100%);
            animation: pulse-comet 3s infinite ease-in-out;
        }

        @keyframes pulse-comet {
            0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            50% { opacity: 1; }
            100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
        }
        
        /* --- Alignment for Project Sections --- */
        .project-section:nth-child(odd) {
            justify-content: flex-start;
        }
        .project-section:nth-child(even) {
            justify-content: flex-end;
        }
        @media (max-width: 768px) {
            .project-section:nth-child(odd), .project-section:nth-child(even) {
                justify-content: center;
            }
        }

        /* --- Info Cards --- */
        .info-card {
            background: rgba(10, 20, 40, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 12px;
            padding: 2rem;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            
            /* Animation */
            opacity: 0;
            transform: translateY(30px) scale(0.98);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .info-card.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .info-card h2 {
            font-family: var(--font-primary);
            font-size: 2rem;
            margin-bottom: 0.5em;
            letter-spacing: 0.05em;
        }
        
        /* Specific card header colors */
        #glglstats .info-card h2 { color: var(--color-glow-magenta); text-shadow: 0 0 10px var(--color-glow-magenta); }
        #ahuzat-dibuk .info-card h2 { color: var(--color-glow-orange); text-shadow: 0 0 10px var(--color-glow-orange); }
        #cgl-prime .info-card h2 { color: var(--color-glow-main); text-shadow: 0 0 10px var(--color-glow-main); }
        #turing-jest .info-card h2 { color: #ccff00; text-shadow: 0 0 10px #ccff00; }
        #rhymes-of-israel .info-card h2 { color: var(--color-glow-yellow); text-shadow: 0 0 10px var(--color-glow-yellow); }
        #portfolio-meta .info-card h2 { color: var(--color-glow-gold); text-shadow: 0 0 10px var(--color-glow-gold); }
        #contact .info-card h2 { color: #fff; text-shadow: 0 0 10px #fff; }

        .info-card p {
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 1.5em;
            color: #e0e0e0;
        }

        .info-card .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .glowing-button {
            display: inline-block;
            padding: 0.75em 1.5em;
            border: 2px solid;
            border-radius: 5px;
            font-family: var(--font-primary);
            font-weight: 400;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            background: transparent;
            transition: all 0.3s ease;
        }

        .glowing-button:hover, .glowing-button:focus {
            color: #000;
            transform: translateY(-2px);
        }
        
        #glglstats .glowing-button { color: var(--color-glow-magenta); border-color: var(--color-glow-magenta); text-shadow: 0 0 5px var(--color-glow-magenta); }
        #glglstats .glowing-button:hover { background: var(--color-glow-magenta); box-shadow: 0 0 15px var(--color-glow-magenta); }
        
        #ahuzat-dibuk .glowing-button { color: var(--color-glow-orange); border-color: var(--color-glow-orange); text-shadow: 0 0 5px var(--color-glow-orange); }
        #ahuzat-dibuk .glowing-button:hover { background: var(--color-glow-orange); box-shadow: 0 0 15px var(--color-glow-orange); }

        #cgl-prime .glowing-button { color: var(--color-glow-main); border-color: var(--color-glow-main); text-shadow: 0 0 5px var(--color-glow-main); }
        #cgl-prime .glowing-button:hover { background: var(--color-glow-main); box-shadow: 0 0 15px var(--color-glow-main); }

        #turing-jest .glowing-button { color: #ccff00; border-color: #ccff00; text-shadow: 0 0 5px #ccff00; }
        #turing-jest .glowing-button:hover { background: #ccff00; box-shadow: 0 0 15px #ccff00; }

        #rhymes-of-israel .glowing-button { color: var(--color-glow-yellow); border-color: var(--color-glow-yellow); text-shadow: 0 0 5px var(--color-glow-yellow); }
        #rhymes-of-israel .glowing-button:hover { background: var(--color-glow-yellow); box-shadow: 0 0 15px var(--color-glow-yellow); }

        #portfolio-meta .glowing-button { color: var(--color-glow-gold); border-color: var(--color-glow-gold); text-shadow: 0 0 5px var(--color-glow-gold); }
        #portfolio-meta .glowing-button:hover { background: var(--color-glow-gold); box-shadow: 0 0 15px var(--color-glow-gold); }

        /* --- Contact Section --- */
        #contact .info-card {
            margin: 0 auto;
            text-align: center;
        }
        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
        }
        .social-links a {
            color: #fff;
            transition: all 0.3s ease;
        }
        .social-links a:hover,
        .social-links a:focus {
            color: var(--color-glow-main);
            transform: scale(1.1) translateY(-5px);
            filter: drop-shadow(0 0 10px var(--color-glow-main));
        }
        .social-links svg {
            width: 50px;
            height: 50px;
        }

        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 4rem 2rem 2rem;
            position: relative;
            z-index: 1;
            font-family: var(--font-mono);
            color: #888;
            font-size: 0.9rem;
            line-height: 1.8;
        }

    </style>
</head>
<body>
    <canvas id="star-canvas"></canvas>

    <div class="content-wrapper">
        <header id="hero" class="project-section">
            <div class="hero-content">
                <h1>Geva Kipper</h1>
                <p>Currently building the future of AI anwsering at Google.</p>
                <p class="subtitle">This celestial map is procedurally re-drawn by AI each day, offering an ever-changing digital universe.</p>
            </div>
            <div class="scroll-indicator"></div>
        </header>
        
        <main>
            <section id="glglstats" class="project-section">
                <div class="info-card">
                    <h2>GlglStats</h2>
                    <p>A Python project measuring the repetitiveness of Israeli pop-chart songs using LZ77 compression, with visualizations of song patterns.</p>
                    <div class="button-group">
                        <a href="https://glglstats.geekip.dev" target="_blank" rel="noopener noreferrer" class="glowing-button">Explore the Data</a>
                        <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank" rel="noopener noreferrer" class="glowing-button">Watch PyData Talk</a>
                    </div>
                </div>
            </section>
            
            <section id="ahuzat-dibuk" class="project-section">
                <div class="info-card">
                    <h2>Ahuzat Dibuk</h2>
                    <p>Python scraping and data visualization of Tel-Aviv parking lot occupancy, generating heat-maps to help residents find parking.</p>
                    <div class="button-group">
                        <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank" rel="noopener noreferrer" class="glowing-button">News: Channel 13</a>
                        <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank" rel="noopener noreferrer" class="glowing-button">News: Mako</a>
                        <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" target="_blank" rel="noopener noreferrer" class="glowing-button">Original FB Post</a>
                    </div>
                </div>
            </section>
            
            <section id="cgl-prime" class="project-section">
                <div class="info-card">
                    <h2>2D Part Orienting</h2>
                    <p>A C++ implementation of an efficient algorithm to construct a 'push plan' for orienting any given polygon, contributed to an open-source computational geometry library.</p>
                    <div class="button-group">
                        <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" rel="noopener noreferrer" class="glowing-button">View Code & Details</a>
                    </div>
                </div>
            </section>
            
            <section id="turing-jest" class="project-section">
                <div class="info-card">
                    <h2>The Turing Jest</h2>
                    <p>An LLM arena where AI models compete to generate and explain puns, with user-based ratings to determine the wittiest machine.</p>
                    <div class="button-group">
                        <a href="https://jest.geekip.dev" target="_blank" rel="noopener noreferrer" class="glowing-button">Judge the AIs</a>
                    </div>
                </div>
            </section>

            <section id="rhymes-of-israel" class="project-section">
                <div class="info-card">
                    <h2>Rhymes of Israel</h2>
                    <p>A Chrome extension using an LLM to transform Israeli news headlines into comedic, high-school-yearbook-style rhymes.</p>
                    <div class="button-group">
                        <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank" rel="noopener noreferrer" class="glowing-button">Install from Chrome Store</a>
                    </div>
                </div>
            </section>

            <section id="portfolio-meta" class="project-section">
                <div class="info-card">
                    <h2>The Celestial Atlas</h2>
                    <p>This portfolio. A single-page, cosmic-themed website designed by AI, where my projects are represented as planets in an ever-changing universe.</p>
                    <div class="button-group">
                        <a href="https://geekip.dev" class="glowing-button">Reload Universe</a>
                    </div>
                </div>
            </section>

             <section id="contact" class="project-section">
                <div class="info-card">
                    <h2>Contact & Code</h2>
                    <div class="social-links">
                        <a href="https://github.com/gevak" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                            <svg viewBox="0 0 1024 1024" fill="currentColor"><path d="M512 12.7c-282.8 0-512 229.2-512 512 0 226 146.7 417.8 350.2 485.4 25.6 4.7 34.9-11.1 34.9-24.6l-.1-86.5c-142.4 30.9-172.5-68.5-172.5-68.5-23.3-59.1-56.8-74.8-56.8-74.8-46.4-31.8 3.5-31.1 3.5-31.1 51.4 3.6 78.4 52.7 78.4 52.7 45.7 78.2 119.8 55.6 149 42.5 4.6-33 17.9-55.6 32.5-68.3-113.8-12.9-233.5-56.9-233.5-253.2 0-55.9 20-101.6 52.7-137.4-5.3-13-22.8-65.1 5-135.5 0 0 43-13.8 141.1 52.4 40.9-11.4 84.7-17.1 128.4-17.3 43.7.2 87.5 5.9 128.4 17.3 98-66.1 140.9-52.4 140.9-52.4 27.9 70.4 10.3 122.5 5 135.5 32.7 35.8 52.7 81.5 52.7 137.4 0 196.8-119.9 240.2-234.1 252.8 18.4 15.8 34.7 47.1 34.7 94.9l-.2 140.9c0 13.7 9.3 29.5 35.1 24.6 203.3-67.8 350-259.6 350-485.6 0-282.8-229.2-512-512-512z"></path></svg>
                        </a>
                        <a href="https://linkedin.com/in/gevakip" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                           <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                        </a>
                        <a href="https://facebook.com/geva.kipper" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.223c0-1.851 1.007-2.777 2.756-2.777h2.244v3z"></path></svg>
                        </a>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>Design and concept generated by a GPT-4 class AI.</p>
            <p>Time since last universal reset: <span id="stopwatch">00:00:00</span></p>
        </footer>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- Canvas & Core Animation ---
        const canvas = document.getElementById('star-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let stars = [], nebulae = [];
        let scrollY = window.scrollY;
        let time = 0;
        let activePlanetId = 'hero';

        // --- Procedural Generation Seeding ---
        function seededRandom(seed) {
            let state = seed % 2147483647;
            if (state <= 0) state += 2147483646;
            return () => {
                state = (state * 16807) % 2147483647;
                return (state - 1) / 2147483646;
            };
        }
        const date = new Date();
        const dateSeed = date.getFullYear() * 10000 + (date.getMonth() + 1) * 100 + date.getDate();
        const rand = seededRandom(dateSeed);

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            
            // Re-generate stars and nebulae on resize to fit new dimensions
            stars = [];
            const starCount = Math.floor((width * height) / 2000);
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: rand() * width,
                    y: rand() * (height * 8), // Distribute across total scroll height
                    z: rand() * 2 + 0.5, // Parallax factor
                    radius: rand() * 1.5 + 0.5,
                    alpha: rand() * 0.5 + 0.5,
                    alphaChange: (rand() - 0.5) * 0.02
                });
            }

            nebulae = [];
            const nebulaeCount = 5;
            for(let i=0; i<nebulaeCount; i++){
                nebulae.push({
                    x: rand() * width,
                    y: rand() * (height*8),
                    radius: rand() * width * 0.5 + width * 0.2,
                    color1: `rgba(${Math.floor(rand()*50)}, ${Math.floor(rand()*50)}, ${Math.floor(rand()*100 + 100)}, ${rand()*0.05 + 0.02})`,
                    color2: 'rgba(0,0,0,0)'
                });
            }
        }

        // --- Planet Definitions ---
        const planets = {
            'glglstats': { y: height * 1.5, size: 80, color: 'magenta', draw: drawGlglStats },
            'ahuzat-dibuk': { y: height * 2.5, size: 90, color: 'darkorange', draw: drawAhuzatDibuk },
            'cgl-prime': { y: height * 3.5, size: 85, color: 'cyan', draw: drawCglPrime },
            'turing-jest': { y: height * 4.5, size: 70, color: '#ccff00', draw: drawTuringJest },
            'rhymes-of-israel': { y: height * 5.5, size: 90, color: 'yellow', draw: drawRhymesOfIsrael },
            'portfolio-meta': { y: height * 6.5, size: 100, color: 'gold', draw: drawPortfolioMeta },
            'contact': { y: height * 7.5, size: 120, draw: drawContactArray }
        };
        
        // --- Planet Drawing Functions ---
        function setGlow(isActive, color) {
            const glow = isActive ? 1.5 : 1.0;
            ctx.shadowBlur = 15 * glow;
            ctx.shadowColor = color;
        }

        function drawGlglStats(planet, isActive) {
            setGlow(isActive, planet.color);
            const r = planet.size * (isActive ? 1.2 : 1);
            for(let i = 0; i < 5; i++){
                ctx.beginPath();
                ctx.strokeStyle = `rgba(255, 0, 255, ${0.2 + i*0.1})`;
                ctx.lineWidth = 1 + i;
                const phase = Math.sin(time * 0.5 + i * 1.5) * 10;
                ctx.arc(0, 0, r * 0.5 + i*5 + phase, 0, Math.PI * 2);
                ctx.stroke();
            }
            // Abstract pulsing core
            ctx.fillStyle = `rgba(255, 0, 255, ${0.5 + Math.sin(time*2)*0.2})`;
            ctx.beginPath();
            ctx.arc(0, 0, r * 0.2, 0, Math.PI*2);
            ctx.fill();
        }

        function drawAhuzatDibuk(planet, isActive) {
            setGlow(isActive, planet.color);
            const r = planet.size * (isActive ? 1.1 : 1);
            // Base Planet
            ctx.fillStyle = '#3D2B1F';
            ctx.beginPath();
            ctx.arc(0, 0, r, 0, Math.PI * 2);
            ctx.fill();
            // Grid
            ctx.strokeStyle = `rgba(255, 140, 0, 0.4)`;
            ctx.lineWidth = 1;
            for(let i = -6; i <= 6; i++){
                const x = i * r / 6;
                const yRange = Math.sqrt(r*r - x*x);
                ctx.beginPath();
                ctx.moveTo(x, -yRange);
                ctx.lineTo(x, yRange);
                ctx.stroke();
            }
            for(let i = -6; i <= 6; i++){
                const y = i * r / 6;
                const xRange = Math.sqrt(r*r - y*y);
                ctx.beginPath();
                ctx.moveTo(-xRange, y);
                ctx.lineTo(xRange, y);
                ctx.stroke();
            }
            // Heat pulses
             if (isActive) {
                const pulseX = Math.sin(time) * r * 0.5;
                const pulseY = Math.cos(time * 0.7) * r * 0.5;
                const gradient = ctx.createRadialGradient(pulseX, pulseY, 0, pulseX, pulseY, r * 0.3);
                gradient.addColorStop(0, 'rgba(255, 69, 0, 0.6)');
                gradient.addColorStop(1, 'rgba(255, 69, 0, 0)');
                ctx.fillStyle = gradient;
                ctx.fillRect(-r, -r, r*2, r*2);
            }
        }
        
        function drawCglPrime(planet, isActive) {
            setGlow(isActive, planet.color);
            const r = planet.size * (isActive ? 1.2 : 1);
            const sides = 7;
            const angleStep = Math.PI * 2 / sides;
            ctx.save();
            ctx.rotate(time * 0.2);
            // Draw shape
            ctx.beginPath();
            ctx.moveTo(r, 0);
            for(let i=1; i<=sides; i++){
                ctx.lineTo(r * Math.cos(angleStep * i), r * Math.sin(angleStep * i));
            }
            ctx.closePath();
            ctx.strokeStyle = planet.color;
            ctx.lineWidth = 2;
            ctx.stroke();
            // Glowing face
            if (isActive) {
                ctx.beginPath();
                ctx.moveTo(r, 0);
                ctx.lineTo(r * Math.cos(angleStep), r * Math.sin(angleStep));
                ctx.lineWidth = 4;
                ctx.strokeStyle = '#fff';
                ctx.shadowBlur = 20;
                ctx.shadowColor = '#fff';
                ctx.stroke();
            }
            ctx.restore();
        }

       function drawTuringJest(planet, isActive) {
            setGlow(isActive, planet.color);
            const r = planet.size * (isActive ? 1.1 : 1);
            const orbitRadius = r * 1.5;
            
            // LLM World (circuit board)
            ctx.save();
            ctx.translate(Math.cos(time) * orbitRadius, Math.sin(time) * orbitRadius);
            ctx.fillStyle = '#1a1a2a';
            ctx.beginPath(); ctx.arc(0, 0, r * 0.5, 0, Math.PI*2); ctx.fill();
            ctx.strokeStyle = '#33ffff'; ctx.lineWidth = 1;
            for(let i=0; i<4; i++){ ctx.strokeRect(-r*0.25 + i*5, -r*0.25, 2, r*0.5); }
            ctx.restore();
            
            // Jester World
            ctx.save();
            ctx.translate(Math.cos(time + Math.PI) * orbitRadius, Math.sin(time + Math.PI) * orbitRadius);
            ctx.fillStyle = '#5a005a';
            ctx.beginPath(); ctx.arc(0, 0, r * 0.5, 0, Math.PI*2); ctx.fill();
            ctx.fillStyle = '#ffcc00';
            ctx.beginPath(); ctx.moveTo(0, -r*0.5); ctx.lineTo(r*0.43, r*0.25); ctx.lineTo(-r*0.43, r*0.25); ctx.closePath(); ctx.fill();
            ctx.restore();

            // Sparks
            if(isActive && Math.random() > 0.95) {
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(Math.cos(time) * orbitRadius * rand(), Math.sin(time) * orbitRadius * rand(), 2, 0, Math.PI*2);
                ctx.fill();
            }
        }

        function drawRhymesOfIsrael(planet, isActive){
            setGlow(isActive, planet.color);
            const r = planet.size * (isActive ? 1.1 : 1);
            ctx.fillStyle = 'rgba(255, 255, 0, 0.7)';
            ctx.beginPath(); ctx.arc(0, 0, r, 0, Math.PI * 2); ctx.fill();
            // Scrolling text effect
            ctx.save();
            ctx.clip(); // Clip text to the sphere
            ctx.fillStyle = 'rgba(0,0,0,0.5)';
            ctx.font = '12px ' + getComputedStyle(document.body).getPropertyValue('--font-mono');
            for(let i=0; i<10; i++){
                const yOffset = (time*20 + i*20) % (r*2) - r;
                ctx.fillText("headline becomes rhyme", -r*0.9, yOffset);
            }
            if(isActive){
                ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.font = 'bold 14px ' + getComputedStyle(document.body).getPropertyValue('--font-mono');
                ctx.fillText("-> witty couplet <-", -r*0.8, 0);

            }
            ctx.restore();
        }

        function drawPortfolioMeta(planet, isActive) {
            setGlow(isActive, planet.color);
            const r = planet.size * (isActive ? 1.1 : 1);
            
            // Sun
            ctx.fillStyle = 'gold';
            ctx.beginPath();
            ctx.arc(0, 0, r * 0.2, 0, Math.PI*2);
            ctx.fill();

            // Orbits
            ctx.strokeStyle = 'rgba(255, 215, 0, 0.3)';
            ctx.lineWidth = 1;
            for(let i=1; i<=5; i++){
                ctx.beginPath();
                ctx.arc(0, 0, r * 0.3 + i*r*0.14, 0, Math.PI*2);
                ctx.stroke();
            }
            // Mini-planets
            const miniPlanets = [
                { color: 'magenta', speed: 1, p_idx: 1 },
                { color: 'darkorange', speed: 0.8, p_idx: 2 },
                { color: 'cyan', speed: 0.6, p_idx: 3 },
                { color: '#ccff00', speed: 0.5, p_idx: 4 },
                { color: 'yellow', speed: 0.4, p_idx: 5 },
            ];
            miniPlanets.forEach((p) => {
                const orbitR = r * 0.3 + p.p_idx * r*0.14;
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(Math.cos(time * p.speed) * orbitR, Math.sin(time * p.speed) * orbitR, 5, 0, Math.PI*2);
                ctx.fill();
            });
        }
        
        function drawContactArray(planet, isActive) {
            const size = planet.size * (isActive ? 1.1 : 1);
            const glowColor = `rgba(255, 255, 255, ${0.7 + Math.sin(time*2)*0.3})`;
            ctx.strokeStyle = glowColor;
            ctx.lineWidth = 3;
            setGlow(isActive, 'white');
            
            // Central dish
            ctx.beginPath();
            ctx.arc(0, -size*0.3, size*0.4, Math.PI*0.1, Math.PI*0.9, false);
            ctx.stroke();
            
            // Main structure
            ctx.beginPath();
            ctx.moveTo(0, size*0.5);
            ctx.lineTo(0, -size*0.3);
            ctx.stroke();

            // Antennas
            for(let i=-1; i<=1; i++){
                ctx.save();
                ctx.rotate(i*0.5);
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(0, -size);
                ctx.stroke();
                ctx.beginPath();
                ctx.fillStyle = glowColor;
                ctx.arc(0, -size, 4, 0, Math.PI*2);
                ctx.fill();
                ctx.restore();
            }
        }


        // --- Main Animation Loop ---
        function animate() {
            time += 0.01;
            ctx.clearRect(0, 0, width, height);

            // Draw Nebulae
            nebulae.forEach(n => {
                const gradient = ctx.createRadialGradient(n.x, n.y - scrollY * 0.1, 0, n.x, n.y - scrollY * 0.1, n.radius);
                gradient.addColorStop(0, n.color1);
                gradient.addColorStop(1, n.color2);
                ctx.fillStyle = gradient;
                ctx.fillRect(0,0,width,height);
            });

            // Draw Stars
            stars.forEach(star => {
                star.alpha += star.alphaChange;
                if (star.alpha <= 0.1 || star.alpha >= 1) {
                    star.alphaChange *= -1;
                }
                const sy = (star.y - scrollY * star.z) % (height*8); // Wrap around y
                if(sy < 0 || sy > height) return;
                
                ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
                ctx.beginPath();
                ctx.arc(star.x, sy, star.radius, 0, Math.PI * 2);
                ctx.fill();
            });

            // Draw Orbital Path
            ctx.beginPath();
            ctx.moveTo(width / 2, planets['glglstats'].y - scrollY);
            let planetKeys = Object.keys(planets);
            for(let i=0; i<planetKeys.length; i++){
                 const planet = planets[planetKeys[i]];
                 const nextPlanet = planets[planetKeys[i+1]];
                 const xPos = (i % 2 === 0) ? width * 0.75 : width * 0.25;
                 if(window.innerWidth <= 768) xPos = width * 0.5; // Center on mobile

                 if(nextPlanet) {
                     const nextXPos = (i+1 % 2 === 0) ? width * 0.75 : width * 0.25;
                     const cpx1 = xPos;
                     const cpy1 = planet.y - scrollY + height*0.3;
                     const cpx2 = nextXPos;
                     const cpy2 = nextPlanet.y - scrollY - height*0.3;
                     ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, nextXPos, nextPlanet.y - scrollY);
                 }
            }
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.1)';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Draw Planets
            ctx.shadowBlur = 0; ctx.shadowColor = 'transparent';
            Object.keys(planets).forEach((id, index) => {
                const planet = planets[id];
                const isActive = (id === activePlanetId);
                const a_x = (index % 2 === 0) ? width * 0.75 : width * 0.25;
                const a_y = planet.y - scrollY;
                if(window.innerWidth <= 768) a_x = width * 0.5; // Center on mobile
                
                if (a_y > -height && a_y < height*2) { // Culling
                    ctx.save();
                    ctx.translate(a_x, a_y);
                    planet.draw(planet, isActive);
                    ctx.restore();
                }
            });

            requestAnimationFrame(animate);
        }

        // --- Interaction & Scroll ---
        window.addEventListener('scroll', () => {
            scrollY = window.scrollY;
        });

        const sections = document.querySelectorAll('.project-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const card = entry.target.querySelector('.info-card');
                if (entry.isIntersecting) {
                    if(card) card.classList.add('is-visible');
                    activePlanetId = entry.target.id;
                } else {
                    if(card) card.classList.remove('is-visible');
                }
            });
        }, { rootMargin: '0px', threshold: 0.5 });

        sections.forEach(section => observer.observe(section));


        // --- Footer Stopwatch ---
        const stopwatchEl = document.getElementById('stopwatch');
        const resetTime = new Date('2025-07-14T04:09:37Z').getTime();
        
        setInterval(() => {
            const now = Date.now();
            const elapsed = Math.max(0, now - resetTime);
            
            const hours = Math.floor(elapsed / 3600000);
            const minutes = Math.floor((elapsed % 3600000) / 60000);
            const seconds = Math.floor((elapsed % 60000) / 1000);

            stopwatchEl.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }, 1000);
        
        // --- Initialisation ---
        resize();
        window.addEventListener('resize', resize);
        animate();
    });
    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250714",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>