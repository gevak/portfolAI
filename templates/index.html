<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Geva Kipper · Living Particle Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      color-scheme: dark;
      --bg: #05060a;
      --text: #e4e7f5;
      --text-soft: #a7acc6;
      --accent: #1de9b6;
      --accent-soft: rgba(29, 233, 182, 0.25);
      --card-radius: 18px;
      --glass-bg: rgba(10, 12, 20, 0.78);
      --glass-border: rgba(255, 255, 255, 0.04);
      --header-height: 64px;
      --timeline-line: rgba(255, 255, 255, 0.08);
    }

    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--text);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
    }

    body {
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
    }

    canvas#particle-canvas {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: -3;
      background: radial-gradient(circle at top, #111525 0, #05060a 55%, #020308 100%);
    }

    #particle-dim-overlay {
      position: fixed;
      inset: 0;
      pointer-events: none;
      background: rgba(0, 0, 0, 0);
      z-index: -2;
      transition: background 0.4s ease-out;
    }

    .page-shell {
      position: relative;
      z-index: 1;
    }

    /* Header / Nav */

    .site-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--header-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 5vw;
      background: linear-gradient(to bottom, rgba(5, 6, 10, 0.95), rgba(5, 6, 10, 0));
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      z-index: 10;
      pointer-events: none;
    }

    .site-header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      pointer-events: auto;
    }

    .logo {
      font-size: 0.9rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-soft);
      opacity: 0.8;
    }

    .main-nav {
      display: flex;
      gap: 1.5rem;
      font-size: 0.78rem;
      letter-spacing: 0.19em;
      text-transform: uppercase;
      color: var(--text-soft);
    }

    .main-nav a {
      color: inherit;
      text-decoration: none;
      position: relative;
      padding-bottom: 0.15rem;
    }

    .main-nav a::after {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 1px;
      background: linear-gradient(to right, transparent, var(--accent), transparent);
      transform: scaleX(0);
      transform-origin: center;
      transition: transform 0.25s ease-out;
    }

    .main-nav a:hover::after,
    .main-nav a:focus-visible::after {
      transform: scaleX(1);
    }

    /* Hero */

    .hero {
      position: relative;
      min-height: 100vh;
      padding: calc(var(--header-height) + 6vh) 8vw 12vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      overflow: hidden;
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 20% -10%, rgba(255, 255, 255, 0.16), transparent 55%),
        radial-gradient(circle at 80% 110%, rgba(0, 0, 0, 0.7), transparent 55%);
      mix-blend-mode: screen;
      opacity: 0.14;
      pointer-events: none;
      z-index: -1;
    }

    .hero-content {
      max-width: 720px;
      position: relative;
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    }

    .hero-title {
      font-size: clamp(2.6rem, 5vw, 3.9rem);
      font-weight: 600;
      letter-spacing: 0.04em;
      margin: 0 0 0.75rem;
      text-shadow: 0 0 24px rgba(0, 0, 0, 0.9);
    }

    .hero-role {
      font-size: 1.05rem;
      max-width: 36rem;
      color: var(--text-soft);
      margin-bottom: 1.5rem;
    }

    .hero-subtitle {
      font-size: 0.9rem;
      color: var(--text-soft);
      max-width: 30rem;
      position: relative;
      display: inline-block;
    }

    .hero-subtitle.glitch-active {
      animation: glitch-flicker 0.25s steps(2, end);
    }

    @keyframes glitch-flicker {
      0% {
        text-shadow:
          1px 0 var(--accent),
          -1px 0 rgba(255, 0, 128, 0.7);
        transform: translate3d(-0.5px, 0, 0);
      }
      50% {
        text-shadow:
          -1px 0 var(--accent),
          1px 0 rgba(0, 200, 255, 0.7);
        transform: translate3d(0.5px, 0, 0);
      }
      100% {
        text-shadow: none;
        transform: none;
      }
    }

    .style-of-day {
      margin-top: 0.5rem;
      font-size: 0.78rem;
      color: rgba(167, 172, 198, 0.78);
      text-align: right;
      max-width: 100%;
    }

    .style-of-day span {
      color: var(--accent);
    }

    /* Sections */

    main {
      position: relative;
      z-index: 1;
    }

    section {
      padding: 6vh 8vw 8vh;
    }

    .section-heading {
      font-size: 0.9rem;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 0.75rem;
    }

    .section-title {
      font-size: 1.6rem;
      margin: 0 0 1.5rem;
    }

    /* Resume */

    .resume-shell {
      max-width: 780px;
      position: relative;
      margin: 0 auto;
    }

    .resume-panel {
      background: linear-gradient(135deg, rgba(8, 10, 20, 0.90), rgba(10, 13, 25, 0.96));
      border-radius: 20px;
      padding: 2.2rem 2.4rem;
      border: 1px solid rgba(255, 255, 255, 0.04);
      box-shadow:
        0 0 0 1px rgba(255, 255, 255, 0.015),
        0 24px 80px rgba(0, 0, 0, 0.85);
      position: relative;
      overflow: hidden;
    }

    .resume-panel::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.03), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255, 255, 255, 0.02), transparent 45%);
      mix-blend-mode: screen;
      opacity: 0.6;
      pointer-events: none;
    }

    .resume-name {
      font-size: 1.7rem;
      font-weight: 600;
      margin: 0 0 0.15rem;
    }

    .resume-role {
      font-size: 0.95rem;
      color: var(--text-soft);
      margin-bottom: 1.2rem;
    }

    .resume-summary {
      font-size: 0.92rem;
      line-height: 1.6;
      color: var(--text-soft);
      margin-bottom: 1.6rem;
    }

    .resume-divider {
      height: 1px;
      background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.32), transparent);
      opacity: 0.7;
      margin: 1.25rem 0 1.8rem;
    }

    .resume-meta {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 1.5rem;
      font-size: 0.85rem;
      color: var(--text-soft);
    }

    .resume-label {
      font-size: 0.7rem;
      letter-spacing: 0.24em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 0.4rem;
    }

    /* Projects Timeline */

    .projects-section {
      position: relative;
    }

    .projects-timeline {
      position: relative;
      max-width: 1040px;
      margin: 0 auto;
      padding-top: 1rem;
    }

    .projects-timeline::before {
      content: "";
      position: absolute;
      top: 0.5rem;
      bottom: 0.5rem;
      left: 50%;
      width: 1px;
      transform: translateX(-0.5px);
      background: linear-gradient(to bottom,
        transparent,
        var(--timeline-line) 15%,
        var(--timeline-line) 85%,
        transparent);
      pointer-events: none;
    }

    .project-card {
      position: relative;
      width: 48%;
      margin-bottom: 3.5rem;
      background: var(--glass-bg);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      border-radius: var(--card-radius);
      border: 1px solid var(--glass-border);
      padding: 1.6rem 1.7rem;
      box-shadow:
        0 18px 50px rgba(0, 0, 0, 0.7),
        0 0 0 1px rgba(255, 255, 255, 0.02);
      overflow: hidden;
      transition:
        box-shadow 0.3s ease-out,
        transform 0.3s ease-out,
        border-color 0.3s ease-out,
        background 0.3s ease-out,
        padding 0.25s ease-out;
    }

    .project-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, var(--accent-soft), transparent 62%);
      opacity: 0.0;
      mix-blend-mode: screen;
      transition: opacity 0.25s ease-out;
      pointer-events: none;
    }

    .project-card:hover {
      transform: translateY(-4px);
      border-color: rgba(255, 255, 255, 0.08);
      box-shadow:
        0 24px 60px rgba(0, 0, 0, 0.9),
        0 0 0 1px rgba(255, 255, 255, 0.04);
    }

    .project-card:hover::before {
      opacity: 0.6;
    }

    .project-card.left {
      margin-right: auto;
      transform-origin: right center;
    }

    .project-card.right {
      margin-left: auto;
      transform-origin: left center;
    }

    .project-title {
      font-size: 1.1rem;
      margin: 0 0 0.2rem;
      color: var(--accent);
    }

    .project-subtitle {
      font-size: 0.88rem;
      color: var(--text-soft);
      margin-bottom: 0.8rem;
    }

    .project-body {
      font-size: 0.9rem;
      line-height: 1.6;
      color: var(--text);
      margin-bottom: 1.1rem;
    }

    .project-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      align-items: center;
      margin-top: 0.6rem;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 0.1rem 0.5rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.04);
      font-size: 0.7rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-soft);
    }

    /* Buttons */

    .btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.48rem 0.9rem;
      border-radius: 999px;
      border: 1px solid transparent;
      font-size: 0.84rem;
      font-weight: 500;
      text-decoration: none;
      cursor: pointer;
      white-space: nowrap;
      transition:
        background 0.2s ease-out,
        color 0.2s ease-out,
        box-shadow 0.2s ease-out,
        transform 0.2s ease-out,
        border-color 0.2s ease-out;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), #ffffff);
      color: #020308;
      box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.4),
        0 10px 34px rgba(0, 0, 0, 0.6);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.5),
        0 16px 40px rgba(0, 0, 0, 0.9);
    }

    .btn-secondary {
      border-color: rgba(255, 255, 255, 0.2);
      color: var(--text-soft);
      background: rgba(255, 255, 255, 0.02);
    }

    .btn-secondary:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: rgba(0, 0, 0, 0.4);
      box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);
    }

    .btn-mini {
      padding: 0.3rem 0.7rem;
      font-size: 0.78rem;
    }

    /* GlglStats preview bar */

    .glgl-preview {
      margin-top: 1.1rem;
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .glgl-bars {
      flex: 1;
      display: flex;
      gap: 2px;
      align-items: flex-end;
      height: 22px;
      position: relative;
      overflow: hidden;
    }

    .glgl-bar {
      flex: 1;
      background: linear-gradient(to top, rgba(255, 255, 255, 0.12), var(--accent));
      opacity: 0.8;
      border-radius: 999px;
      transform-origin: bottom center;
      animation: bars-idle 1.9s ease-in-out infinite;
      animation-play-state: paused;
    }

    .glgl-bars .glgl-bar:nth-child(odd) {
      animation-duration: 2.1s;
    }

    .project-card.glgl:hover .glgl-bar {
      animation-play-state: running;
    }

    @keyframes bars-idle {
      0% { transform: scaleY(0.2); opacity: 0.4; }
      25% { transform: scaleY(0.9); opacity: 1; }
      50% { transform: scaleY(0.4); opacity: 0.6; }
      75% { transform: scaleY(0.7); opacity: 0.9; }
      100% { transform: scaleY(0.2); opacity: 0.4; }
    }

    /* Ahuzat Dibuk heat map halo */

    .project-card.ahuzat::before {
      background:
        radial-gradient(circle at 20% 30%, rgba(0, 255, 0, 0.15), transparent 55%),
        radial-gradient(circle at 70% 70%, rgba(255, 0, 0, 0.18), transparent 60%);
      opacity: 0.25;
      filter: blur(8px);
    }

    /* 2D Part Orienting polygon */

    .wireframe {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.4;
      mix-blend-mode: screen;
    }

    .wireframe svg {
      width: 100%;
      height: 100%;
    }

    .wireframe path {
      stroke: rgba(255, 255, 255, 0.22);
      stroke-width: 0.9;
      fill: transparent;
      stroke-dasharray: 3 4;
    }

    .wireframe .push-path {
      stroke: var(--accent);
      stroke-dasharray: 2 5;
      stroke-dashoffset: 22;
      opacity: 0;
      transition: opacity 0.2s ease-out;
    }

    .project-card.orient:hover .wireframe .push-path {
      opacity: 1;
      animation: push-trace 2.2s ease-in-out infinite;
    }

    @keyframes push-trace {
      from { stroke-dashoffset: 22; }
      to   { stroke-dashoffset: -22; }
    }

    /* Turing Jest laughter ripple */

    .turing-jest-title {
      display: inline-block;
      position: relative;
    }

    .project-card.jest:hover .turing-jest-title span {
      animation: laugh-ripple 0.25s ease-out;
      display: inline-block;
    }

    .turing-jest-title span:nth-child(odd) {
      animation-delay: 0.015s;
    }

    @keyframes laugh-ripple {
      0% { transform: translateY(0); }
      50% { transform: translateY(-1px); }
      100% { transform: translateY(0); }
    }

    /* Rhymes wave effect (background mask) */

    .project-card.rhymes::before {
      background:
        repeating-linear-gradient(
          -45deg,
          rgba(255, 255, 255, 0.04) 0,
          rgba(255, 255, 255, 0.04) 2px,
          transparent 2px,
          transparent 6px
        );
      opacity: 0.0;
    }

    .project-card.rhymes:hover::before {
      opacity: 0.3;
      animation: rhyme-wave 2.4s linear infinite;
    }

    @keyframes rhyme-wave {
      from { transform: translateX(-14px); }
      to   { transform: translateX(14px); }
    }

    .rhymes-examples {
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: rgba(228, 231, 245, 0.8);
      font-style: italic;
    }

    /* Meta-portfolio breathing */

    .project-card.meta:hover {
      padding: 1.5rem 1.6rem;
      animation: meta-breathe 0.26s ease-out;
    }

    @keyframes meta-breathe {
      0% { transform: translateY(-3px) scale(1.01); }
      100% { transform: translateY(-4px) scale(1); }
    }

    /* Elsewhere */

    .project-card.elsewhere {
      width: 100%;
      text-align: center;
      margin-top: 1rem;
    }

    .social-links {
      margin-top: 1.2rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .social-pill {
      display: inline-flex;
      align-items: center;
      padding: 0.6rem 1.1rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(0, 0, 0, 0.3);
      color: var(--text);
      text-decoration: none;
      font-size: 0.9rem;
      gap: 0.55rem;
      transition:
        box-shadow 0.25s ease-out,
        border-color 0.25s ease-out,
        transform 0.2s ease-out;
    }

    .social-pill svg {
      width: 16px;
      height: 16px;
      fill: var(--accent);
    }

    .social-pill:hover {
      border-color: var(--accent);
      box-shadow: 0 0 18px rgba(29, 233, 182, 0.4);
      transform: translateY(-1px);
    }

    /* Contact */

    .contact-section {
      max-width: 780px;
      margin: 0 auto;
      padding-bottom: 6vh;
    }

    .contact-body {
      font-size: 0.94rem;
      color: var(--text-soft);
      line-height: 1.7;
    }

    .contact-body a {
      color: var(--accent);
      text-decoration: none;
    }

    .contact-body a:hover {
      text-decoration: underline;
    }

    /* Footer + stopwatch */

    footer {
      position: relative;
      padding: 0.7rem 6vw 0.8rem;
      border-top: 1px solid rgba(255, 255, 255, 0.06);
      background: linear-gradient(to top, rgba(5, 6, 10, 0.96), rgba(5, 6, 10, 0.8));
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      font-size: 0.78rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.2rem;
      z-index: 5;
    }

    footer.footer-fixed {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
    }

    .footer-left {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      color: var(--text-soft);
    }

    .footer-left strong {
      color: var(--text);
      font-weight: 500;
    }

    .stopwatch {
      font-family: "JetBrains Mono", "Fira Mono", "SF Mono", Menlo, Consolas, monospace;
      font-size: 0.82rem;
      display: flex;
      align-items: baseline;
      gap: 0.5rem;
      white-space: nowrap;
    }

    .stopwatch-label {
      color: var(--text-soft);
    }

    .stopwatch-digits {
      display: inline-flex;
      align-items: baseline;
      gap: 0.25rem;
    }

    .time-group {
      position: relative;
      padding: 0 0.35rem;
    }

    .time-group::before {
      content: "";
      position: absolute;
      top: -0.06rem;
      bottom: -0.06rem;
      right: -0.05rem;
      width: 1px;
      background: radial-gradient(circle, var(--accent), transparent 70%);
      opacity: 0.4;
    }

    .time-group:last-child::before {
      display: none;
    }

    .time-value {
      display: inline-block;
      min-width: 2.4ch;
      text-align: right;
      transition: opacity 0.18s ease-out, transform 0.18s ease-out;
    }

    .time-value.changed {
      opacity: 0;
      transform: translateY(1px);
    }

    .time-unit {
      font-size: 0.72rem;
      color: var(--text-soft);
      margin-left: 0.08rem;
    }

    /* Utilities */

    .muted {
      color: var(--text-soft);
    }

    .nowrap {
      white-space: nowrap;
    }

    /* Responsive */

    @media (max-width: 960px) {
      .hero {
        padding-left: 6vw;
        padding-right: 6vw;
      }
      section {
        padding-left: 6vw;
        padding-right: 6vw;
      }
      .projects-timeline {
        max-width: 100%;
      }
    }

    @media (max-width: 820px) {
      .main-nav {
        gap: 1rem;
        font-size: 0.75rem;
      }
      .resume-meta {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 720px) {
      .site-header {
        padding-inline: 5vw;
        height: 58px;
      }
      .hero {
        padding-top: calc(var(--header-height) + 4vh);
        padding-bottom: 10vh;
      }
      .projects-timeline::before {
        left: 1.4rem;
      }
      .project-card {
        width: 100%;
        margin-left: 0;
        margin-right: 0;
        padding: 1.4rem 1.5rem;
      }
      .project-card.left,
      .project-card.right {
        margin-left: 0;
        margin-right: 0;
      }
      .projects-timeline {
        padding-top: 0.5rem;
      }
      .projects-timeline > .project-card {
        padding-left: 2.4rem;
      }
      .project-card::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 999px;
        border: 2px solid var(--accent);
        left: 1.4rem;
        top: 1.6rem;
        transform: translate(-50%, -50%);
        background: radial-gradient(circle, var(--accent), transparent 70%);
        box-shadow: 0 0 12px rgba(29, 233, 182, 0.4);
      }
      footer {
        flex-direction: column;
        align-items: flex-start;
      }
      .stopwatch {
        font-size: 0.8rem;
      }
    }

    @media (max-width: 480px) {
      .hero-title {
        font-size: 2.3rem;
      }
      .hero-content {
        max-width: 100%;
      }
      .social-links {
        flex-direction: column;
      }
      .social-pill {
        justify-content: center;
        width: 100%;
      }
      .resume-panel {
        padding: 1.6rem 1.5rem;
      }
    }
  </style>
</head>
<body>
<canvas id="particle-canvas"></canvas>
<div id="particle-dim-overlay"></div>

<div class="page-shell">
  <header class="site-header">
    <div class="site-header-inner">
      <div class="logo">Geva&nbsp;Kipper</div>
      <nav class="main-nav" aria-label="Main">
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section id="top" class="hero">
      <div class="hero-content" id="hero-content">
        <h1 class="hero-title">Geva Kipper</h1>
        <p class="hero-role">
          Software engineer at Google, building large‑scale data and ads infrastructure.
        </p>
        <p class="hero-subtitle" id="hero-subtitle">
          This portfolio is re‑designed each day by AI. Refresh tomorrow for a different layout.
        </p>
        <div class="style-of-day" id="style-of-day">
          Style of the day:
          <span id="style-accent">Teal</span>,
          <span id="style-particles">dots</span>,
          <span id="style-corners">rounded</span>.
        </div>
      </div>
    </section>

    <!-- About / Resume -->
    <section id="about" aria-label="Résumé">
      <div class="resume-shell">
        <div class="section-heading">About</div>
        <h2 class="section-title">Résumé in motion</h2>
        <div class="resume-panel" id="resume-panel">
          <div class="resume-header">
            <div class="resume-name">Geva Kipper</div>
            <div class="resume-role">
              Software Engineer, Google — building privacy‑aware, data‑driven infrastructure and tools.
            </div>
          </div>
          <div class="resume-summary">
            I like problems that mix algorithms, data, and human behavior — from compression‑based
            metrics for pop songs, to parking heat maps, to computational geometry and playful
            language games with large language models.<br><br>
            My toolkit spans Python, C++, distributed systems, data visualization, and practical
            ML/LLM integration, with a focus on explainability and thoughtful UX.
          </div>
          <div class="resume-divider"></div>
          <div class="resume-meta">
            <div>
              <div class="resume-label">Experience</div>
              <div>
                <strong>Google · Software Engineer</strong><br>
                Building and maintaining large‑scale data and ads systems, collaborating across
                product and research teams, and designing APIs that are robust yet ergonomic.
              </div>
            </div>
            <div>
              <div class="resume-label">Focus &amp; Skills</div>
              <ul style="margin:0; padding-left:1.1rem;">
                <li>Python &amp; C++, distributed pipelines, data tooling</li>
                <li>Algorithmic thinking: compression, geometry, optimization</li>
                <li>Interactive visualizations and developer‑friendly UX</li>
                <li>LLM‑driven experiences, evaluation, and guardrails</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects" class="projects-section" aria-label="Selected Work">
      <div class="section-heading">Projects</div>
      <h2 class="section-title">Selected Work</h2>
      <div class="projects-timeline" id="projects-timeline">

        <!-- 1. GlglStats -->
        <article class="project-card left glgl" data-attractor="true">
          <h3 class="project-title">GlglStats</h3>
          <div class="project-subtitle">
            Measuring repetitiveness in Israeli pop‑chart songs via LZ77 compression.
          </div>
          <div class="project-body">
            GlglStats is a Python project that applies LZ77‑based compression to audio‑derived
            sequences, turning compression rates into a proxy for lyrical and melodic
            repetitiveness. It computes song‑level metrics, compares artists and charts, and
            renders visualizations of repetition patterns for well‑known Israeli songs.
          </div>
          <div class="project-actions">
            <a class="btn btn-primary" href="https://glglstats.geekip.dev" target="_blank" rel="noopener">
              Explore GlglStats
            </a>
            <a class="btn btn-secondary" href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank" rel="noopener">
              Watch PyData TLV Talk
            </a>
          </div>
          <div class="glgl-preview">
            <span class="badge">Repetition Meter</span>
            <div class="glgl-bars" aria-hidden="true">
              <div class="glgl-bar" style="height:40%;"></div>
              <div class="glgl-bar" style="height:90%;"></div>
              <div class="glgl-bar" style="height:55%;"></div>
              <div class="glgl-bar" style="height:70%;"></div>
              <div class="glgl-bar" style="height:35%;"></div>
              <div class="glgl-bar" style="height:85%;"></div>
            </div>
          </div>
        </article>

        <!-- 2. Ahuzat Dibuk -->
        <article class="project-card right ahuzat" data-attractor="true">
          <h3 class="project-title">Ahuzat Dibuk</h3>
          <div class="project-subtitle">
            Parking data scraping and heat‑maps for Tel Aviv residents.
          </div>
          <div class="project-body">
            Ahuzat Dibuk collects live occupancy data from municipal parking lots in Tel Aviv,
            scrapes and cleans it with Python, and aggregates it into intuitive heat maps. The
            project surfaces where spots actually exist at different times of day, giving drivers
            a data‑driven edge in a notoriously constrained city.
          </div>
          <div class="project-actions" style="flex-direction:column; align-items:flex-start;">
            <div class="resume-label" style="margin-bottom:0.3rem;">Links</div>
            <div style="display:flex; flex-wrap:wrap; gap:0.4rem;">
              <a class="btn btn-mini btn-secondary"
                 href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/"
                 target="_blank" rel="noopener">
                Channel 13 News Story
              </a>
              <a class="btn btn-mini btn-secondary"
                 href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm"
                 target="_blank" rel="noopener">
                Mako Feature
              </a>
              <a class="btn btn-mini btn-secondary"
                 href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943/"
                 target="_blank" rel="noopener">
                Original Facebook Post
              </a>
            </div>
          </div>
        </article>

        <!-- 3. 2D Part Orienting -->
        <article class="project-card left orient" data-attractor="true">
          <div class="wireframe" aria-hidden="true">
            <svg viewBox="0 0 200 120" preserveAspectRatio="none">
              <path d="M20 80 L60 20 L130 20 L180 70 L140 110 L60 100 Z" />
              <path class="push-path" d="M30 78 L65 40 L120 30 L165 72 L135 98 L70 92 Z" />
            </svg>
          </div>
          <h3 class="project-title">2D Part Orienting</h3>
          <div class="project-subtitle">
            Computational geometry push plans for polygon orientation (C++).
          </div>
          <div class="project-body">
            An implementation, within an open‑source computational geometry library, of an
            efficient algorithm that constructs a push plan to orient a given polygon. The
            algorithm discovers how to move a flat part inside a container using a sequence of
            pushes, without collisions, until it reaches a desired orientation.
          </div>
          <div class="project-actions">
            <a class="btn btn-primary"
               href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/"
               target="_blank" rel="noopener">
              Algorithm &amp; Code
            </a>
          </div>
        </article>

        <!-- 4. The Turing Jest -->
        <article class="project-card right jest" data-attractor="true">
          <h3 class="project-title">
            <span class="turing-jest-title">
              <!-- Split into spans for ripple -->
              <span>The</span>&nbsp;<span>Turing</span>&nbsp;<span>Jest</span>
            </span>
          </h3>
          <div class="project-subtitle">
            LLMs compete to craft and dissect puns; humans rate the punchlines.
          </div>
          <div class="project-body">
            The Turing Jest is a small arena where multiple LLMs generate puns plus explanations,
            then face off in head‑to‑head battles. Users judge funniness and clarity, turning
            subjective humor into structured feedback that can be analyzed and visualized over time.
          </div>
          <div class="project-actions">
            <a class="btn btn-primary" href="https://jest.geekip.dev" target="_blank" rel="noopener">
              Enter the Arena
            </a>
          </div>
        </article>

        <!-- 5. Rhymes of Israel -->
        <article class="project-card left rhymes" data-attractor="true">
          <h3 class="project-title">Rhymes of Israel</h3>
          <div class="project-subtitle">
            Chrome extension that turns Israeli news headlines into yearbook‑style rhyming jokes.
          </div>
          <div class="project-body">
            A lightweight Chrome extension that intercepts Israeli news headlines and asks an LLM
            to rewrite them as playful, rhyming one‑liners. The result feels like a yearbook
            committee re‑imagining the daily news cycle — equal parts satire and language toy.
          </div>
          <div class="project-actions">
            <a class="btn btn-primary"
               href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb"
               target="_blank" rel="noopener">
              Install Extension
            </a>
          </div>
          <div class="rhymes-examples">
            “Minister’s blunder at the stand? — ‘Oops, I lost the master plan.’”<br>
            “Markets slide but spirits rise: ‘Economic lows, morale high fives.’”
          </div>
        </article>

        <!-- 6. Meta-portfolio -->
        <article class="project-card right meta" data-attractor="true">
          <h3 class="project-title">This Portfolio (How Meta)</h3>
          <div class="project-subtitle">
            A living, AI‑redesigned single page for showcasing all of this.
          </div>
          <div class="project-body">
            This site is itself a project: a cinematic particle field that morphs between text and
            structure; a scroll‑driven storyline for work; and a daily, AI‑driven variation engine
            that changes accent colors, shapes, easing, and edges while keeping the content stable.
          </div>
          <div class="project-actions">
            <a class="btn btn-primary" href="https://geekip.dev" target="_blank" rel="noopener">
              Visit geekip.dev
            </a>
            <span class="badge">
              <span id="layout-date-label">Today&rsquo;s layout version:</span>&nbsp;
              <span id="layout-date"></span>&nbsp;·&nbsp;AI‑generated
            </span>
          </div>
        </article>

        <!-- 7. Elsewhere -->
        <article class="project-card elsewhere" data-attractor="true">
          <h3 class="project-title">Elsewhere on the Web</h3>
          <div class="project-subtitle">
            More code, talks, and experiments — in slightly less theatrical layouts.
          </div>
          <div class="social-links">
            <a class="social-pill" href="https://github.com/gevak" target="_blank" rel="noopener">
              <svg viewBox="0 0 16 16" aria-hidden="true">
                <path d="M8 .5A7.5 7.5 0 0 0 5.1 15c.4.1.5-.2.5-.4v-1.4c-2 .4-2.4-.9-2.4-.9-.3-.8-.7-1-.7-1-.6-.4 0-.4 0-.4.6 0 .9.7.9.7.6 1 .1 1.3.1 1.3-.5.1-.9-.4-.9-.4-.5-.8-.1-1.4.1-1.6.2-.1.1-.3 0-.5-.4-.1-1.2-.6-1.2-1.7 0-.4.1-.7.4-1-.1-.2-.2-.8 0-1.5 0 0 .3-.1 1 .4a3.4 3.4 0 0 1 3 0c.7-.5 1-.4 1-.4.2.7.1 1.3 0 1.5.2.3.4.6.4 1 0 1.1-.8 1.6-1.3 1.7.1.1.2.3.2.6v2c0 .2.1.5.5.4A7.5 7.5 0 0 0 8 .5Z"/>
              </svg>
              <span>GitHub</span>
            </a>
            <a class="social-pill" href="https://linkedin.com/in/gevakip" target="_blank" rel="noopener">
              <svg viewBox="0 0 16 16" aria-hidden="true">
                <path d="M3.1 2.1a1.4 1.4 0 1 1 0 2.9 1.4 1.4 0 0 1 0-2.9Zm-1.1 3.7h2.2V13H2V5.8Zm4.1 0h2.1v1h.1c.3-.6 1.1-1.3 2.3-1.3 2.5 0 3 1.6 3 3.8V13h-2.3V9.9c0-.7 0-1.7-1.1-1.7-1.2 0-1.3.8-1.3 1.6V13H6.1V5.8Z"/>
              </svg>
              <span>LinkedIn</span>
            </a>
            <a class="social-pill" href="https://facebook.com/geva.kipper" target="_blank" rel="noopener">
              <svg viewBox="0 0 16 16" aria-hidden="true">
                <path d="M9.2 6.1V4.7c0-.6.4-.7.7-.7H11V2H9.2C7.3 2 6.6 3.4 6.6 4.6v1.5H5v2h1.6V14h2.6V8.1H11l.1-2H9.2Z"/>
              </svg>
              <span>Facebook</span>
            </a>
          </div>
        </article>

      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="contact-section">
      <div class="section-heading">Contact</div>
      <h2 class="section-title">Say hello</h2>
      <div class="contact-body">
        The simplest way to reach me is via
        <a href="https://linkedin.com/in/gevakip" target="_blank" rel="noopener">LinkedIn</a>
        or <a href="https://facebook.com/geva.kipper" target="_blank" rel="noopener">Facebook</a>.
        You can also explore more code on
        <a href="https://github.com/gevak" target="_blank" rel="noopener">GitHub</a>.
        <br><br>
        If you&rsquo;re interested in any of the projects above — or in building similarly
        playful, data‑driven experiences — I&rsquo;d be happy to talk.
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer id="site-footer">
    <div class="footer-left">
      <div>
        <strong>Layout and concept generated by OpenAI&rsquo;s ChatGPT.</strong>
      </div>
      <div class="muted">
        Regenerated daily by AI design logic.
      </div>
    </div>
    <div class="stopwatch" aria-label="Time since last regeneration">
      <span class="stopwatch-label">
        Time since 2025‑11‑18 01:05:53 (UTC):
      </span>
      <span class="stopwatch-digits">
        <span class="time-group">
          <span id="time-hours" class="time-value">0000</span>
          <span class="time-unit">h</span>
        </span>
        <span class="time-group">
          <span id="time-mins" class="time-value">00</span>
          <span class="time-unit">m</span>
        </span>
        <span class="time-group">
          <span id="time-secs" class="time-value">00</span>
          <span class="time-unit">s</span>
        </span>
      </span>
    </div>
  </footer>
</div>

<script>
(function() {
  /* ---------- Daily Style Logic ---------- */

  const accentOptions = [
    { name: 'Teal', value: '#1de9b6' },
    { name: 'Violet', value: '#b388ff' },
    { name: 'Amber', value: '#ffca28' }
  ];

  const particleShapeOptions = [
    { name: 'dots', type: 'circle' },
    { name: 'hexagons', type: 'hex' },
    { name: 'pixels', type: 'square' }
  ];

  const cornerOptions = [
    { name: 'sharp', radius: '4px' },
    { name: 'rounded', radius: '18px' },
    { name: 'pill‑shaped', radius: '999px' }
  ];

  const easingOptions = [
    { name: 'soft in‑out', fn: t => t < 0.5 ? 2*t*t : -1 + (4 - 2*t)*t },
    { name: 'cubic ease‑out', fn: t => 1 - Math.pow(1 - t, 3) },
    { name: 'sine', fn: t => 0.5 - 0.5 * Math.cos(Math.PI*t) }
  ];

  const dayIndex = Math.floor(Date.now() / (1000*60*60*24));
  const accent = accentOptions[dayIndex % accentOptions.length];
  const particleChoice = particleShapeOptions[(dayIndex + 1) % particleShapeOptions.length];
  const cornerChoice = cornerOptions[(dayIndex + 2) % cornerOptions.length];
  const easingChoice = easingOptions[(dayIndex) % easingOptions.length];

  document.documentElement.style.setProperty('--accent', accent.value);
  document.documentElement.style.setProperty('--accent-soft', hexToRGBA(accent.value, 0.25));
  document.documentElement.style.setProperty('--card-radius', cornerChoice.radius);

  document.getElementById('style-accent').textContent = accent.name;
  document.getElementById('style-particles').textContent = particleChoice.name;
  document.getElementById('style-corners').textContent = cornerChoice.name;

  const layoutDate = new Date();
  const layoutDateStr = layoutDate.toISOString().slice(0, 10);
  const layoutDateEl = document.getElementById('layout-date');
  if (layoutDateEl) layoutDateEl.textContent = layoutDateStr;

  /* ---------- Glitch subtitle every few seconds ---------- */

  const subtitle = document.getElementById('hero-subtitle');
  if (subtitle) {
    setInterval(() => {
      subtitle.classList.add('glitch-active');
      setTimeout(() => subtitle.classList.remove('glitch-active'), 260);
    }, 4600);
  }

  /* ---------- Stopwatch ---------- */

  const baseTimeUTC = Date.UTC(2025, 10, 18, 1, 5, 53); // month 10 -> November

  const hoursEl = document.getElementById('time-hours');
  const minsEl = document.getElementById('time-mins');
  const secsEl = document.getElementById('time-secs');

  function updateStopwatch() {
    const nowUTC = Date.now();
    let diffMs = Math.max(0, nowUTC - baseTimeUTC);
    const totalSeconds = Math.floor(diffMs / 1000);
    const hours = Math.floor(totalSeconds / 3600);
    const minutes = Math.floor((totalSeconds % 3600) / 60);
    const seconds = totalSeconds % 60;

    setTimeValue(hoursEl, hours.toString().padStart(4, '0'));
    setTimeValue(minsEl, minutes.toString().padStart(2, '0'));
    setTimeValue(secsEl, seconds.toString().padStart(2, '0'));
  }

  function setTimeValue(el, newText) {
    if (!el) return;
    if (el.textContent !== newText) {
      el.classList.add('changed');
      // Trigger reflow to restart transition
      void el.offsetWidth;
      el.textContent = newText;
      requestAnimationFrame(() => {
        el.classList.remove('changed');
      });
    }
  }

  updateStopwatch();
  setInterval(updateStopwatch, 1000);

  /* ---------- Footer fixation & particle dim near bottom ---------- */

  const footer = document.getElementById('site-footer');
  const dimOverlay = document.getElementById('particle-dim-overlay');
  let scrollTicking = false;

  function onScroll() {
    if (!scrollTicking) {
      scrollTicking = true;
      requestAnimationFrame(handleScrollEffects);
    }
  }

  function handleScrollEffects() {
    scrollTicking = false;
    const doc = document.documentElement;
    const scrollY = window.scrollY || doc.scrollTop;
    const viewportH = window.innerHeight || doc.clientHeight;
    const totalHeight = doc.scrollHeight - viewportH;

    // Footer fixed when bottom reached
    if (scrollY + viewportH >= doc.scrollHeight - 2) {
      footer.classList.add('footer-fixed');
    } else {
      footer.classList.remove('footer-fixed');
    }

    // Dim particles near bottom
    const distanceFromBottom = totalHeight - scrollY;
    const fadeThreshold = 600;
    let alpha = 0;
    if (distanceFromBottom < fadeThreshold) {
      alpha = Math.min(0.7, (fadeThreshold - distanceFromBottom) / fadeThreshold * 0.7);
    }
    dimOverlay.style.background = `rgba(0, 0, 0, ${alpha.toFixed(3)})`;

    // Hero fade / morph progress
    updateHeroAndResume(scrollY, viewportH);
  }

  window.addEventListener('scroll', onScroll, { passive: true });

  /* ---------- Hero -> Resume scroll morph ---------- */

  const heroContent = document.getElementById('hero-content');
  const resumePanel = document.getElementById('resume-panel');
  let scrollMorphProgress = 0;

  function updateHeroAndResume(scrollY, viewportH) {
    const heroHeight = viewportH * 0.9;
    const startFade = heroHeight * 0.15;
    const endFade = heroHeight * 0.8;

    const p = clamp((scrollY - startFade) / (endFade - startFade), 0, 1);
    scrollMorphProgress = p;

    if (heroContent) {
      heroContent.style.opacity = (1 - p * 1.2).toFixed(3);
      heroContent.style.transform = `translateY(${p * -40}px)`;
    }
    if (resumePanel) {
      resumePanel.style.opacity = (0.2 + p * 1.0).toFixed(3);
      resumePanel.style.transform = `translateY(${(1 - p) * 24}px)`;
    }

    // Feed progress into particle system
    if (particleSystem) {
      particleSystem.morphProgress = easingChoice.fn(p);
    }
  }

  /* ---------- Particle system ---------- */

  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext('2d');
  const isMobile = window.matchMedia && window.matchMedia('(max-width: 720px)').matches;
  const maxParticles = isMobile ? 300 : 750;

  let particleSystem = null;

  function createParticleSystem() {
    if (!canvas || !ctx) return null;
    resizeCanvas();

    const particles = [];
    const center = { x: canvas.width / 2, y: canvas.height / 2 };

    for (let i = 0; i < maxParticles; i++) {
      const angle = Math.random() * Math.PI * 2;
      const radius = (Math.random() * 15) + 4;
      const speed = (Math.random() * 0.9 + 0.4) * (isMobile ? 0.5 : 1);
      particles.push({
        x: center.x,
        y: center.y,
        z: Math.random() * 0.8 + 0.2,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        homeX: center.x,
        homeY: center.y,
        gridX: center.x,
        gridY: center.y,
        free: false,
        life: Math.random() * 1000,
        size: Math.random() * 1.6 + 0.6,
      });
    }

    const system = {
      particles,
      center,
      time: 0,
      morphProgress: 0,
      pointer: { x: center.x, y: center.y, active: false },
      attractor: null,
      resize: () => {
        resizeCanvas();
        system.center.x = canvas.width / 2;
        system.center.y = canvas.height / 2;
        computeTextTargets(system);
        computeGridTargets(system);
      }
    };

    computeTextTargets(system);
    computeGridTargets(system);
    return system;
  }

  function resizeCanvas() {
    if (!canvas) return;
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  window.addEventListener('resize', () => {
    if (particleSystem) particleSystem.resize();
  });

  function computeTextTargets(system) {
    const off = document.createElement('canvas');
    const offCtx = off.getContext('2d');
    const width = canvas.clientWidth;
    const height = canvas.clientHeight;
    off.width = width;
    off.height = height;

    const fontSize = Math.min(120, width * 0.16);
    offCtx.clearRect(0, 0, width, height);
    offCtx.fillStyle = '#ffffff';
    offCtx.textAlign = 'center';
    offCtx.textBaseline = 'middle';
    offCtx.font = `600 ${fontSize}px system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;

    const text = 'Geva Kipper';
    const tx = width / 2;
    const ty = height * (isMobile ? 0.36 : 0.33);
    offCtx.fillText(text, tx, ty);

    const img = offCtx.getImageData(0, 0, width, height);
    const data = img.data;
    const points = [];
    const step = isMobile ? 7 : 5;

    for (let y = 0; y < height; y += step) {
      for (let x = 0; x < width; x += step) {
        const idx = (y * width + x) * 4 + 3;
        if (data[idx] > 120) {
          points.push({ x, y });
        }
      }
    }

    shuffle(points);

    const particles = system.particles;
    for (let i = 0; i < particles.length; i++) {
      const p = particles[i];
      const point = points[i % points.length];
      p.homeX = point.x;
      p.homeY = point.y;
    }
  }

  function computeGridTargets(system) {
    const particles = system.particles;
    const width = canvas.clientWidth;
    const height = canvas.clientHeight;

    const gridWidth = Math.min(520, width * 0.65);
    const gridHeight = Math.min(260, height * 0.4);
    const startX = (width - gridWidth) / 2;
    const startY = height * (isMobile ? 0.42 : 0.43);

    const cols = Math.round(gridWidth / (isMobile ? 14 : 12));
    const rows = Math.round(gridHeight / (isMobile ? 18 : 16));
    const cellW = gridWidth / cols;
    const cellH = gridHeight / rows;

    const gridPoints = [];
    for (let row = 0; row < rows; row++) {
      for (let col = 0; col < cols; col++) {
        const x = startX + col * cellW + (Math.random() * cellW * 0.2);
        const y = startY + row * cellH + (Math.random() * cellH * 0.2);
        if (Math.random() < 0.9) {
          gridPoints.push({ x, y });
        }
      }
    }

    shuffle(gridPoints);
    const len = gridPoints.length;
    for (let i = 0; i < particles.length; i++) {
      const p = particles[i];
      const point = gridPoints[i % len];
      p.gridX = point.x;
      p.gridY = point.y;
    }
  }

  function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = (Math.random() * (i + 1)) | 0;
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }

  function hexToRGBA(hex, alpha) {
    const h = hex.replace('#', '');
    const bigint = parseInt(h, 16);
    const r = (bigint >> 16) & 255;
    const g = (bigint >> 8) & 255;
    const b = bigint & 255;
    return `rgba(${r}, ${g}, ${b}, ${alpha})`;
  }

  function clamp(v, min, max) {
    return v < min ? min : (v > max ? max : v);
  }

  // Pointer interactions
  if (canvas) {
    canvas.addEventListener('pointermove', (e) => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      if (particleSystem) {
        particleSystem.pointer.x = x;
        particleSystem.pointer.y = y;
        particleSystem.pointer.active = true;
      }
    }, { passive: true });

    canvas.addEventListener('pointerleave', () => {
      if (particleSystem) {
        particleSystem.pointer.active = false;
      }
    }, { passive: true });
  }

  /* ---------- Project cards as particle attractors ---------- */

  const attractorCards = document.querySelectorAll('.project-card[data-attractor="true"]');

  function updateAttractorFromElement(el) {
    const rect = el.getBoundingClientRect();
    const cx = rect.left + rect.width / 2;
    const cy = rect.top + rect.height / 2;
    const radius = Math.max(rect.width, rect.height) * 0.7;
    if (particleSystem) {
      particleSystem.attractor = {
        x: cx,
        y: cy,
        radius,
        strength: 0.06
      };
    }
  }

  function clearAttractor() {
    if (particleSystem) {
      particleSystem.attractor = null;
    }
  }

  attractorCards.forEach(card => {
    card.addEventListener('mouseenter', () => updateAttractorFromElement(card));
    card.addEventListener('mouseleave', clearAttractor);

    // mobile: treat tap as hover preview, second tap follows links normally
    card.addEventListener('touchstart', (e) => {
      updateAttractorFromElement(card);
      setTimeout(clearAttractor, 1200);
    }, { passive: true });
  });

  /* ---------- Main animation loop ---------- */

  particleSystem = createParticleSystem();
  if (particleSystem) {
    let lastTime = performance.now();

    function animate(now) {
      const dt = (now - lastTime) / 16.7; // ~frames (60fps normal)
      lastTime = now;
      particleSystem.time += dt;
      renderParticles(particleSystem, dt);
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
  }

  function renderParticles(system, dt) {
    const { particles, pointer, attractor, center } = system;
    const width = canvas.clientWidth;
    const height = canvas.clientHeight;

    ctx.clearRect(0, 0, width, height);

    const t = system.time;
    const explosionPhase = t < 60; // frames
    const easeMorph = system.morphProgress || 0;

    const pointerInfluence = pointer.active ? 1 : 0;
    const baseTrailAlpha = 0.16;
    ctx.fillStyle = `rgba(5, 6, 10, ${baseTrailAlpha})`;
    ctx.fillRect(0, 0, width, height);

    const accentColor = getComputedStyle(document.documentElement)
      .getPropertyValue('--accent').trim() || '#1de9b6';

    ctx.save();
    ctx.globalCompositeOperation = 'lighter';

    for (let i = 0; i < particles.length; i++) {
      const p = particles[i];

      const targetX = lerp(p.homeX, p.gridX, easeMorph);
      const targetY = lerp(p.homeY, p.gridY + 12 * easeMorph, easeMorph);

      const spring = explosionPhase ? 0.03 : 0.06;
      const damping = explosionPhase ? 0.96 : 0.90;

      const dx = targetX - p.x;
      const dy = targetY - p.y;

      p.vx += dx * spring;
      p.vy += dy * spring;

      // gentle downward swirl when morphing
      p.vy += easeMorph * 0.03;

      // pointer repulsion
      if (pointerInfluence > 0) {
        const mx = pointer.x;
        const my = pointer.y;
        const ddx = p.x - mx;
        const ddy = p.y - my;
        const distSq = ddx*ddx + ddy*ddy;
        const radius = 180;
        if (distSq < radius * radius) {
          const dist = Math.sqrt(distSq) || 1;
          const force = (1 - dist / radius) * 0.7 * pointerInfluence;
          p.vx += (ddx / dist) * force;
          p.vy += (ddy / dist) * force;
        }
      }

      // attractor halo
      if (attractor) {
        const ax = attractor.x;
        const ay = attractor.y;
        const ddx = ax - p.x;
        const ddy = ay - p.y;
        const dist = Math.sqrt(ddx*ddx + ddy*ddy) || 1;
        const radius = attractor.radius;
        if (dist < radius) {
          const edgeFactor = Math.abs(dist - radius * 0.7) / (radius * 0.7);
          const halo = clamp(1 - edgeFactor, 0, 1);
          const force = attractor.strength * halo;
          p.vx += (ddx / dist) * force;
          p.vy += (ddy / dist) * force * 0.8;
        }
      }

      // slight random motion
      const jitter = isMobile ? 0.02 : 0.03;
      p.vx += (Math.random() - 0.5) * jitter;
      p.vy += (Math.random() - 0.5) * jitter;

      p.vx *= damping;
      p.vy *= damping;

      p.x += p.vx * dt;
      p.y += p.vy * dt;

      // keep near bounds
      if (p.x < -50 || p.x > width + 50 || p.y < -50 || p.y > height + 50) {
        p.x = center.x + (Math.random() - 0.5) * width * 0.1;
        p.y = center.y + (Math.random() - 0.5) * height * 0.1;
        p.vx = 0;
        p.vy = 0;
      }

      const depth = p.z;
      const size = p.size * (0.8 + depth);
      const alpha = 0.35 + depth * 0.45;
      drawParticle(ctx, p.x, p.y, size, alpha, accentColor, particleChoice.type);
    }

    ctx.restore();
  }

  function lerp(a, b, t) {
    return a + (b - a) * t;
  }

  function drawParticle(ctx, x, y, size, alpha, color, type) {
    ctx.globalAlpha = alpha;
    ctx.fillStyle = color;
    ctx.beginPath();

    switch (type) {
      case 'square':
        ctx.moveTo(x - size, y - size);
        ctx.lineTo(x + size, y - size);
        ctx.lineTo(x + size, y + size);
        ctx.lineTo(x - size, y + size);
        ctx.closePath();
        break;
      case 'hex': {
        const s = size * 1.2;
        for (let i = 0; i < 6; i++) {
          const angle = (Math.PI / 3) * i + Math.PI / 6;
          const px = x + Math.cos(angle) * s;
          const py = y + Math.sin(angle) * s;
          if (i === 0) ctx.moveTo(px, py);
          else ctx.lineTo(px, py);
        }
        ctx.closePath();
        break;
      }
      default:
        ctx.arc(x, y, size * 1.1, 0, Math.PI * 2);
    }

    ctx.fill();
  }

})();
</script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20251118",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>