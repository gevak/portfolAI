<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper - The Ever-Changing Codex</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-dark-bg: #0a0a0a;
            --color-parchment: #fdf6e3;
            --color-text: #2c2c2c;
            --color-spine: #3a2e26;
            --color-gold: #ffc700;
            --color-leather: #2a1f18;
            --font-serif: 'Lora', serif;
            --font-mono: 'Source Code Pro', monospace;
            --dynamic-accent-color: var(--color-gold);
            --dynamic-font-weight: 700;
        }

        /* --- Basic Setup & Scrollbar --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--color-dark-bg);
            color: var(--color-text);
            font-family: var(--font-serif);
            overflow-x: hidden;
            font-size: 16px;
        }

        body::-webkit-scrollbar { width: 8px; }
        body::-webkit-scrollbar-track { background: #222; }
        body::-webkit-scrollbar-thumb { background: var(--color-gold); border-radius: 4px; }


        /* --- 1. Initial View: Floating Book --- */
        #book-loader {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 2000px;
            z-index: 1000;
            cursor: pointer;
            transition: opacity 1s ease-in-out, visibility 1s;
        }
        
        #particle-canvas {
            position: absolute;
            inset: 0;
            z-index: -1;
        }

        .book {
            width: 300px;
            height: 450px;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateY(-30deg) rotateX(15deg);
            transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .book-cover {
            position: absolute;
            width: 100%;
            height: 100%;
            background: var(--color-leather);
            border: 2px solid #503c2f;
            border-radius: 2px 8px 8px 2px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform-origin: left;
            transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: inset 4px 0 10px rgba(0,0,0,0.4), 0 5px 20px rgba(0,0,0,0.5);
            color: #d1b7a0;
            text-align: center;
            padding: 20px;
        }
        
        .book-cover::before {
             content: '';
             position: absolute;
             left: 10px;
             top: 0;
             bottom: 0;
             width: 5px;
             background: linear-gradient(to right, rgba(0,0,0,0.3), transparent);
        }

        .book-cover h1 {
            font-family: var(--font-serif);
            font-size: 2.5rem;
            font-weight: 700;
            text-shadow: 1px 1px 0px #1a1511, -1px -1px 0px #5c473a;
        }
        
        .book-spine {
            position: absolute;
            width: 40px;
            height: 100%;
            background: #1a1511;
            transform: translateX(-40px) rotateY(90deg);
            transform-origin: right;
            border-top: 2px solid #503c2f;
            border-bottom: 2px solid #503c2f;
        }
        
        .book-pages-stack {
            position: absolute;
            width: 98%;
            height: 98%;
            top: 1%;
            left: 0;
            background: var(--color-parchment);
            border-radius: 0 4px 4px 0;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
            transform: translateZ(-38px);
        }


        body.site-loaded #book-loader {
            opacity: 0;
            visibility: hidden;
        }
        
        body.site-loaded .book {
            transform: rotateY(0deg) rotateX(0deg) translateZ(0);
        }

        body.site-loaded .book-cover {
            transform: rotateY(-180deg) translateZ(1px);
        }

        /* --- 2. Main Codex Layout --- */
        #main-codex {
            display: none;
            padding: 3rem 0;
        }
        
        body.site-loaded #main-codex {
             display: block;
        }

        .spine {
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 100vh;
            background-color: var(--color-spine);
            background-image: linear-gradient(rgba(255, 255, 255, 0.05) 50%, transparent 50%),
                              linear-gradient(to right, rgba(255, 255, 255, 0.05) 50%, transparent 50%);
            background-size: 30px 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            z-index: 10;
        }
        .spine::before, .spine::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 1px;
            background: linear-gradient(to bottom, rgba(0,0,0,0), #000, rgba(0,0,0,0));
        }
        .spine::before { left: 5px; }
        .spine::after { right: 5px; }

        .spread {
            display: grid;
            grid-template-columns: 1fr 1fr;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            padding: 0 55px; /* space from spine */
            gap: 50px; /* gutter between page and spine */
            min-height: 90vh;
        }

        .page {
            position: relative;
            background: var(--color-parchment);
            padding: 4rem 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .page-left { border-right: 1px dashed rgba(0,0,0,0.1); }
        .page-right { border-left: 1px dashed rgba(0,0,0,0.1); }


        /* --- 3. Header --- */
        header.spread .page-left {
            align-items: flex-end;
            text-align: right;
        }
        header.spread .page-left h1 {
            font-size: 4rem;
            font-weight: 700;
        }
        header.spread .page-left p {
            font-size: 1.25rem;
            max-width: 400px;
        }

        header.spread .page-right {
           align-items: flex-start;
        }
        header.spread .page-right h2 {
            font-size: 1.5rem;
            font-weight: 400;
            max-width: 400px;
        }
        
        .glitch-text {
            position: relative;
            color: var(--dynamic-accent-color);
            font-weight: var(--dynamic-font-weight);
            animation: glitch-scan 5s infinite linear;
        }

        .glitch-text::before, .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-parchment);
            overflow: hidden;
            color: var(--dynamic-accent-color);
        }

        .glitch-text::before {
            left: 2px;
            text-shadow: -2px 0 red;
            animation: glitch 2s infinite linear alternate-reverse;
        }

        .glitch-text::after {
            left: -2px;
            text-shadow: -2px 0 blue;
            animation: glitch 3s infinite linear alternate-reverse;
        }

        @keyframes glitch {
          0% { clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%); }
          10% { clip-path: polygon(0 15%, 100% 15%, 100% 17%, 0 17%); }
          20% { clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%); }
          30% { clip-path: polygon(0 30%, 100% 30%, 100% 32%, 0 32%); }
          40% { clip-path: polygon(0 5%, 100% 5%, 100% 10%, 0 10%); }
          50% { clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%); }
          60% { clip-path: polygon(0 70%, 100% 70%, 100% 72%, 0 72%); }
          70% { clip-path: polygon(0 80%, 100% 80%, 100% 85%, 0 85%); }
          80% { clip-path: polygon(0 50%, 100% 50%, 100% 52%, 0 52%); }
          90% { clip-path: polygon(0 25%, 100% 25%, 100% 30%, 0 30%); }
          100% { clip-path: polygon(0 60%, 100% 60%, 100% 65%, 0 65%); }
        }
        @keyframes glitch-scan {
            0%, 100% { clip-path: inset(0 0 99% 0); }
            50% { clip-path: inset(0.01% 0 0.01% 0); }
        }

        /* --- 4. Core Interaction & Project Sections --- */
        .project {
            align-items: center;
        }

        .project .code-block {
            background-color: rgba(0,0,0,0.03);
            border: 1px solid rgba(0,0,0,0.1);
            padding: 1rem;
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 0.85rem;
            white-space: pre-wrap;
            min-height: 250px;
            transition: background-color 0.3s;
        }
        
        .code-block::after {
            content: 'â–‹';
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
        
        .project.is-visible .code-block.typed::after {
            display: none;
        }

        .project-visual {
            width: 100%;
            height: 300px;
            position: relative;
        }
        
        .project-info {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease 0.5s, transform 0.8s ease 0.5s;
        }
        .project.is-visible .project-info {
            opacity: 1;
            transform: translateY(0);
        }

        .project-info h3 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        .project-info p {
            font-size: 1rem;
            margin-bottom: 1rem;
            max-width: 90%;
        }
        .project-info .links a {
            color: var(--color-text);
            text-decoration: none;
            border-bottom: 2px solid transparent;
            padding-bottom: 2px;
            transition: all 0.3s ease;
            margin-right: 1.5rem;
            font-weight: bold;
        }
        .project-info .links a:hover {
            color: var(--color-gold);
            border-bottom-color: var(--color-gold);
        }
        section a, footer a {
            color: var(--color-text);
            transition: color 0.3s;
        }
        section a:hover, footer a:hover {
            color: var(--color-gold);
        }
        
        /* --- 5. Project-Specific Animations --- */

        /* GlglStats */
        #glglstats-viz svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }
        #glglstats-viz .waveform {
            stroke: var(--color-gold);
            stroke-width: 3;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }
        .project.is-visible #glglstats-viz .waveform {
            animation: draw-line 2s ease-out forwards 0.5s;
        }
        @keyframes draw-line { to { stroke-dashoffset: 0; } }
        .data-particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: var(--color-gold);
            border-radius: 50%;
            opacity: 0;
        }
        .project.is-visible .data-particle { animation: fly-particle 1.5s ease-out forwards; }
        @keyframes fly-particle {
             0% { left: 0; top: 50%; opacity: 1; transform: scale(0.5); }
             50% { left: 50%; opacity: 1; }
             100% { left: var(--end-x); top: var(--end-y); opacity: 0; transform: scale(0); }
        }
        .yt-icon {
             display: inline-block;
             width: 20px;
             height: 14px;
             background: #c00;
             border-radius: 3px;
             position: relative;
             top: 2px;
             margin-right: 5px;
         }
        .yt-icon::after {
            content:'';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-40%, -50%);
            border-left: 6px solid white;
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
        }

        /* Ahuzat Dibuk */
        #ahuzat-viz svg { width: 100%; height: 100%; opacity: 0; transition: opacity 1s; }
        .project.is-visible #ahuzat-viz svg { opacity: 1; }
        #ahuzat-viz .heatmap-overlay {
            fill: url(#heatmap-gradient);
            mask: url(#map-mask);
            transform-origin: 0% 50%;
            transform: scaleX(0);
        }
        .project.is-visible #ahuzat-viz .heatmap-overlay {
            animation: wipe-in 1.5s ease-out forwards 0.8s;
        }
        @keyframes wipe-in { to { transform: scaleX(1); } }
        #ahuzat-viz .map-stroke {
           opacity: 0.5;
           stroke: #333;
           stroke-width: 3px;
        }

        /* 2D Part Orienting */
        #orienting-viz { display: flex; align-items: center; justify-content: center; }
        #orienting-viz svg { width: 60%; height: 60%; overflow: visible; opacity: 0; }
        #orienting-viz .polygon {
            fill: none;
            stroke: var(--color-gold);
            stroke-width: 4;
            transform-origin: center center;
        }
        .project.is-visible #orienting-viz svg { animation: fade-in-poly 1s forwards; }
        @keyframes fade-in-poly { to { opacity: 1; } }
        .project.is-visible #orienting-viz .polygon { animation: orient-poly 2s ease-in-out forwards 1s; }
        @keyframes orient-poly { 
            0% { transform: translate(30px, -20px) rotate(45deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        /* Pushing lines would be complex, simplified to just the polygon rotation */

        /* The Turing Jest */
        #jest-viz .chat-container { width: 100%; display: flex; flex-direction: column; gap: 10px; }
        #jest-viz .bubble { background: #e0e0e0; padding: 10px 15px; border-radius: 18px; max-width: 70%; opacity: 0; transform: scale(0.5); }
        #jest-viz .question { background: var(--color-gold); color: #fff; align-self: flex-end; border-bottom-right-radius: 5px; }
        #jest-viz .answer { background: #f1f1f1; align-self: flex-start; border-bottom-left-radius: 5px; min-height: 5em;}
        .project.is-visible #jest-viz .question { animation: pop-in 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards 0.5s; }
        .project.is-visible #jest-viz .answer { animation: pop-in 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards 1s; }
        @keyframes pop-in { to { opacity: 1; transform: scale(1); } }

        /* Rhymes of Israel */
        #rhymes-viz .headline-transform {
             font-size: 1.7rem; font-weight: bold; text-align: center;
             height: 100px; display: flex; align-items: center; justify-content: center;
        }
        .project.is-visible #rhymes-viz .letter {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px) rotate(15deg);
            animation: fall-in 0.5s forwards;
            animation-delay: calc(var(--i) * 0.05s + 0.5s);
        }
        .project.is-visible #rhymes-viz .letter.gold {
            color: var(--color-gold);
            font-weight: bold;
        }
        @keyframes fall-in { to { opacity: 1; transform: translateY(0) rotate(0); }}
        .chrome-icon { display: inline-block; vertical-align: middle; margin-right: 8px; }

        /* Meta Portfolio */
        #meta-viz svg {
           width: 80%; height: 80%;
           stroke: #333; stroke-width: 2; fill: none;
           stroke-linecap: round;
        }
        #meta-viz .wireframe {
             stroke-dasharray: 500; stroke-dashoffset: 500;
        }
        .project.is-visible #meta-viz .wireframe {
             animation: draw-line 2s forwards 0.5s;
        }
        #meta-viz .scroll-dot { fill: var(--color-gold); }


        /* --- 6. Final Spread & Footer --- */
        .final-spread .code-block { min-height: 100px; }
        .final-spread .social-seals {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 3rem;
        }
        .social-seals .seal {
            position: relative;
            cursor: pointer;
        }
        .social-seals svg {
            width: 80px;
            height: 80px;
            fill: #4c3f36;
            transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.2));
        }
        .social-seals .seal:hover svg {
            fill: var(--color-gold);
            transform: scale(1.1);
            filter: drop-shadow(0 0 15px var(--color-gold));
        }
        .social-seals .platform-name {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
            background: var(--color-gold);
            color: #fff;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            white-space: nowrap;
        }
        .social-seals .seal:hover .platform-name {
            opacity: 1;
            bottom: -35px;
        }

        .site-footer {
            background-color: #1a1511;
            background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="4" height="4" viewBox="0 0 4 4"%3E%3Cpath fill="%232c2c2c" fill-opacity="0.1" d="M1 3h1v1H1V3zm2-2h1v1H3V1z"%3E%3C/path%3E%3C/svg%3E');
            color: #c0c0c0;
            padding: 2rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 20;
            border-top: 2px solid var(--color-spine);
            padding-left: 55px;
            padding-right: 55px;
        }
        .site-footer p { font-size: 0.9rem; }
        .site-footer .stopwatch {
            font-family: var(--font-mono);
            font-size: 1.5rem;
            color: var(--color-gold);
            font-weight: bold;
        }

        /* --- Utilities & Lightbox --- */
        #lightbox {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s, visibility 0.4s;
        }
        #lightbox.visible {
            opacity: 1;
            visibility: visible;
        }
        #lightbox #lightbox-content {
            position: relative;
            width: 90%;
            max-width: 960px;
            height: 0;
            padding-bottom: 54%; /* 16:9 Aspect ratio */
        }
        #lightbox iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        #lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }
        #lightbox-close:hover { transform: scale(1.2); }

        /* Responsive Design */
        @media (max-width: 900px) {
            .spine { display: none; }
            .spread {
                grid-template-columns: 1fr;
                padding: 0 20px;
                gap: 0;
                min-height: auto;
            }
            .page { padding: 4rem 1.5rem; }
            .page-left { border-right: none; }
            .page-right { border-left: none; }
            
            header.spread .page-left { align-items: center; text-align: center; }
            header.spread .page-right { align-items: center; text-align: center; }
            header.spread .page-left h1 { font-size: 3rem; }

            .project-visual { height: 250px; }
            #orienting-viz svg { width: 40%; height: 40%; }
            .site-footer {
                flex-direction: column;
                gap: 1rem;
                padding-left: 20px; padding-right: 20px;
                text-align: center;
            }
        }
    </style>
</head>
<body>

    <!-- 1. INITIAL BOOK LOADER -->
    <div id="book-loader">
        <canvas id="particle-canvas"></canvas>
        <div class="book">
            <div class="book-cover">
                <h1>Geva Kipper</h1>
            </div>
            <div class="book-spine"></div>
            <div class="book-pages-stack"></div>
        </div>
    </div>

    <!-- MAIN CONTENT (Initially Hidden) -->
    <div id="main-codex">
        <div class="spine"></div>

        <!-- 2. HEADER SPREAD -->
        <header class="spread">
            <div class="page page-left">
                <h1>Geva Kipper</h1>
                <p>Software Engineer at Google, working on the future of search.</p>
            </div>
            <div class="page page-right">
                <h2 class="glitch-text" data-text="This portfolio is a living document, re-designed by AI each day.">
                    This portfolio is a living document, re-designed by AI each day.
                </h2>
            </div>
        </header>

        <!-- 3. PROJECT SPREADS -->
        <main>
            <!-- GlglStats -->
            <section class="project spread" id="project-glglstats">
                <div class="page page-left">
                    <pre><code class="code-block" id="code-glglstats"></code></pre>
                </div>
                <div class="page page-right">
                    <div class="project-visual" id="glglstats-viz">
                        <!-- Particles will be injected by JS -->
                        <svg viewBox="0 0 300 150">
                            <path class="waveform" d="M 0 75 Q 30 10, 60 75 T 120 75 Q 150 140, 180 75 T 240 75 Q 270 20, 300 75"/>
                        </svg>
                    </div>
                    <div class="project-info">
                        <h3>GlglStats</h3>
                        <p>A data visualization tool that finds and visualizes structural repetition in songs using the LZ77 compression algorithm.</p>
                        <div class="links">
                            <a href="https://glglstats.geekip.dev" target="_blank" rel="noopener noreferrer">Visit Site</a>
                            <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" class="video-link">
                                <span class="yt-icon"></span>Watch Presentation
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Ahuzat Dibuk -->
            <section class="project spread" id="project-ahuzat">
                <div class="page page-left">
                    <pre><code class="code-block" id="code-ahuzat"></code></pre>
                </div>
                <div class="page page-right">
                    <div class="project-visual" id="ahuzat-viz">
                         <svg viewBox="0 0 200 150">
                            <defs>
                                <linearGradient id="heatmap-gradient" x1="0" x2="1" y1="0" y2="0">
                                    <stop offset="0%" stop-color="rgba(70, 130, 180, 0.7)" /> <!-- SteelBlue -->
                                    <stop offset="50%" stop-color="rgba(255, 255, 0, 0.7)" /> <!-- Yellow -->
                                    <stop offset="100%" stop-color="rgba(255, 69, 0, 0.7)" /> <!-- RedOrange -->
                                </linearGradient>
                                <mask id="map-mask">
                                    <path d="M10 10 L190 10 L190 50 L160 50 L160 140 L40 140 L10 100 Z" fill="white" />
                                    <circle cx="80" cy="80" r="20" fill="white" />
                                </mask>
                            </defs>
                            <path class="map-stroke" d="M10 10 L190 10 L190 50 L160 50 L160 140 L40 140 L10 100 Z" fill="rgba(0,0,0,0.05)" />
                            <circle class="map-stroke" cx="80" cy="80" r="20" fill="rgba(0,0,0,0.05)" />
                            <rect class="heatmap-overlay" x="0" y="0" width="200" height="150" />
                        </svg>
                    </div>
                    <div class="project-info">
                        <h3>Ahuzat Dibuk</h3>
                        <p>A real-time scraper and map that visualizes parking availability in Tel Aviv's public lots, helping drivers find spots faster.</p>
                        <div class="links">
                            <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" target="_blank" rel="noopener noreferrer">Facebook Post</a>
                            <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank" rel="noopener noreferrer">13tv News</a>
                            <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank" rel="noopener noreferrer">Mako</a>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 2D Part Orienting -->
            <section class="project spread" id="project-orienting">
                <div class="page page-left">
                     <pre><code class="code-block" id="code-orienting"></code></pre>
                </div>
                <div class="page page-right">
                    <div class="project-visual" id="orienting-viz">
                        <svg viewBox="-50 -50 200 200">
                           <polygon class="polygon" points="50,0 100,50 50,100 0,50" />
                        </svg>
                    </div>
                    <div class="project-info">
                         <h3>2D Part Orienting</h3>
                        <p>An academic project implementing CGAL algorithms to determine the stable resting orientation of a 2D polygonal part under gravity.</p>
                        <div class="links">
                            <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" rel="noopener noreferrer">Learn More & Code</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- The Turing Jest -->
            <section class="project spread" id="project-jest">
                <div class="page page-left">
                    <pre><code class="code-block" id="code-jest"></code></pre>
                </div>
                <div class="page page-right">
                    <div class="project-visual" id="jest-viz">
                        <div class="chat-container">
                            <div class="bubble question">Got any good computer puns?</div>
                            <div class="bubble answer" id="jest-answer"></div>
                        </div>
                    </div>
                    <div class="project-info">
                        <h3>The Turing Jest</h3>
                        <p>An exploration of humor with LLMs. This site generates and explains computer science puns, testing the boundaries of AI creativity.</p>
                        <div class="links">
                            <a href="https://jest.geekip.dev" target="_blank" rel="noopener noreferrer">Try It Out</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Rhymes of Israel -->
            <section class="project spread" id="project-rhymes">
                <div class="page page-left">
                    <pre><code class="code-block" id="code-rhymes"></code></pre>
                </div>
                <div class="page page-right">
                    <div class="project-visual" id="rhymes-viz">
                       <h3 class="headline-transform" id="rhyming-headline"></h3>
                    </div>
                    <div class="project-info">
                        <h3>Rhymes of Israel</h3>
                        <p>A satirical Chrome extension that rewrites news headlines from Israeli websites into comedic rhymes.</p>
                        <div class="links">
                            <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank" rel="noopener noreferrer">
                                <svg class="chrome-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line></svg>
                               Add to Chrome
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- The Meta Portfolio -->
            <section class="project spread" id="project-meta">
                <div class="page page-left">
                    <pre><code class="code-block" id="code-meta"></code></pre>
                </div>
                <div class="page page-right">
                    <div class="project-visual" id="meta-viz">
                        <svg viewBox="0 0 100 150">
                           <path class="wireframe" d="M 10 10 H 90 V 140 H 10 Z" />
                           <line class="wireframe" x1="50" y1="10" y2="140" />
                           <circle id="scroll-dot" class="scroll-dot" cx="50" cy="12" r="3" />
                        </svg>
                    </div>
                    <div class="project-info">
                        <h3>The Meta Portfolio</h3>
                        <p>This very website. Designed by an AI, built as a single-file application to showcase interactive, narrative-driven web development.</p>
                        <div class="links">
                            <a href="https://geekip.dev" target="_blank" rel="noopener noreferrer">View Source (You're looking at it!)</a>
                        </div>
                    </div>
                </div>
            </section>

             <!-- Final Spread -->
            <section class="final-spread spread">
                <div class="page page-left" style="justify-content: flex-start;">
                    <pre><code class="code-block">&lt;/body&gt;
&lt;/html&gt;</code></pre>
                </div>
                <div class="page page-right">
                    <div class="social-seals">
                        <a href="https://github.com/gevak" target="_blank" rel="noopener noreferrer" class="seal">
                           <svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                           <span class="platform-name">GitHub</span>
                        </a>
                        <a href="https://linkedin.com/in/gevakip" target="_blank" rel="noopener noreferrer" class="seal">
                           <svg viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                           <span class="platform-name">LinkedIn</span>
                        </a>
                        <a href="https://facebook.com/geva.kipper" target="_blank" rel="noopener noreferrer" class="seal">
                           <svg viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12s12-5.373 12-12s-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.158c0-1.721 1.026-2.842 3.021-2.842.864 0 1.564.06 1.76.088v1.89z"></path></svg>
                           <span class="platform-name">Facebook</span>
                        </a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 7. FOOTER -->
    <footer class="site-footer">
        <p>This site was designed and described by a generative AI model.</p>
        <div class="stopwatch" id="stopwatch">00:00:00</div>
    </footer>


    <!-- VIDEO LIGHTBOX -->
    <div id="lightbox">
        <div id="lightbox-content">
            <!-- YouTube iFrame will be injected here -->
        </div>
        <span id="lightbox-close">&times;</span>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- 1. Site Initialization ---
    const bookLoader = document.getElementById('book-loader');
    const mainCodex = document.getElementById('main-codex');

    function openTheCodex() {
        if (!document.body.classList.contains('site-loaded')) {
            document.body.classList.add('site-loaded');
            // Clean up event listeners after first use
            window.removeEventListener('scroll', openTheCodex);
            bookLoader.removeEventListener('click', openTheCodex);
        }
    }

    window.addEventListener('scroll', openTheCodex, { once: true });
    bookLoader.addEventListener('click', openTheCodex, { once: true });


    // --- 2. Dynamic Header Text ---
    const glitchText = document.querySelector('.glitch-text');
    if (glitchText) {
        // Random HSL color (light and saturated)
        const randomHue = Math.floor(Math.random() * 360);
        const dynamicColor = `hsl(${randomHue}, 80%, 50%)`;
        // Random font weight
        const dynamicWeight = 400 + Math.floor(Math.random() * 4) * 100; // 400, 500, 600, 700
        
        document.documentElement.style.setProperty('--dynamic-accent-color', dynamicColor);
        document.documentElement.style.setProperty('--dynamic-font-weight', dynamicWeight);
    }
    
    // --- 3. Particle Animation for Loader ---
    const canvas = document.getElementById('particle-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particles = [];
    
    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.size = Math.random() * 1.5 + 1;
            this.speedX = Math.random() * 1 - 0.5;
            this.speedY = Math.random() * 1 - 0.5;
            this.color = `rgba(255, 199, 0, ${Math.random() * 0.5 + 0.2})`;
        }
        update() {
            this.x += this.speedX;
            this.y += this.speedY;
            if (this.size > 0.1) this.size -= 0.01;
        }
        draw() {
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fill();
        }
    }

    function initParticles() {
        for (let i = 0; i < 50; i++) {
            particles.push(new Particle());
        }
    }

    function animateParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = 0; i < particles.length; i++) {
            particles[i].update();
            particles[i].draw();
            if (particles[i].size <= 0.1) {
                particles.splice(i, 1);
                particles.push(new Particle());
                i--;
            }
        }
        requestAnimationFrame(animateParticles);
    }
    initParticles();
    animateParticles();
    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        particles = [];
        initParticles();
    });

    // --- 4. Typing Animation Logic ---
    const codeSnippets = {
        'code-glglstats': `from lz77 import compress\n\n# Find repeating patterns in a song's structure\nlyrics = "verse-chorus-verse-chorus-bridge..."\ncompressed_data = compress(lyrics)\n\nfor length, offset in compressed_data:\n    if length > MIN_PATTERN_SIZE:\n        visualize_repetition(offset, length)`,
        'code-ahuzat': `import requests\nfrom bs4 import BeautifulSoup\n\nURL = "https://www.ahuzot.co.il/Parking/ParkingList/"\nresponse = requests.get(URL)\nsoup = BeautifulSoup(response.content, 'html.parser')\n\nfor lot in soup.find_all('div', class_='parking-lot'):\n    name = lot.find('h3').text\n    available = int(lot.find(class_='available-spaces').text)\n    # ... process and map data`,
        'code-orienting': `#include <CGAL/Polygon_2.h>\n#include <CGAL/ch_graham_andrew.h>\n\ntypedef CGAL::Exact_predicates_inexact_constructions_kernel K;\ntypedef K::Point_2 Point_2;\ntypedef CGAL::Polygon_2<K> Polygon_2;\n\n// Find the minimum-area enclosing rectangle\nPolygon_2 polygon;\n// ... populate polygon vertices\nauto stable_orientation = find_stable_orientation(polygon);`,
        'code-jest': `const prompt = \`\nCreate a pun about computer science.\nThen, explain why it's funny.\n\nPun:\nExplanation:\n\`;\n\nfetch('https://api.openai.com/v1/...')\n  .then(res => res.json())\n  .then(data => {\n    displayPun(data.choices[0].text);\n  });`,
        'code-rhymes': `const headline = document.querySelector('h1');\nconst originalText = headline.textContent;\n\n// Use a rhyming dictionary API\nfetch(\`https://api.datamuse.com/words?rel_rhy=\${lastWord}\`)\n  .then(res => res.json())\n  .then(rhymes => {\n     const newHeadline = createRhymingHeadline(originalText, rhymes);\n     headline.textContent = newHeadline;\n  });`,
        'code-meta': `const scrollDot = document.querySelector('#scroll-dot');\nconst pageHeight = document.body.scrollHeight - window.innerHeight;\n\ndocument.addEventListener('scroll', () => {\n  const scrollPercent = window.scrollY / pageHeight;\n  const dotPosition = scrollPercent * MAX_SVG_PATH_LENGTH;\n  scrollDot.style.setProperty('cy', dotPosition);\n});`
    };

    function typeWriter(element, text, speed = 20) {
        let i = 0;
        element.innerHTML = "";
        function type() {
            if (i < text.length) {
                element.innerHTML += text.charAt(i);
                i++;
                setTimeout(type, speed);
            } else {
                element.classList.add('typed');
            }
        }
        type();
    }

    // --- 5. Project-Specific Animations & Intersection Observer ---
    const projectSections = document.querySelectorAll('.project');
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const section = entry.target;
                if (!section.classList.contains('is-visible')) {
                    section.classList.add('is-visible');
                    
                    // Trigger code typing
                    const codeBlock = section.querySelector('.code-block');
                    if (codeBlock && codeSnippets[codeBlock.id]) {
                        typeWriter(codeBlock, codeSnippets[codeBlock.id]);
                    }
                    
                    // Project-specific triggers
                    if (section.id === 'project-glglstats') triggerGlglStatsAnimation();
                    if (section.id === 'project-jest') triggerJestAnimation();
                    if (section.id === 'project-rhymes') triggerRhymesAnimation();
                }
                // observer.unobserve(section); // Uncomment to animate only once
            }
        });
    }, { threshold: 0.4 });

    projectSections.forEach(section => observer.observe(section));

    function triggerGlglStatsAnimation() {
        const viz = document.getElementById('glglstats-viz');
        const waveform = viz.querySelector('.waveform');
        const pathLength = waveform.getTotalLength();
        
        // Remove old particles
        viz.querySelectorAll('.data-particle').forEach(p => p.remove());

        // Create new particles
        for(let i = 0; i < 15; i++) {
            const particle = document.createElement('div');
            particle.className = 'data-particle';
            const pointOnPath = waveform.getPointAtLength(Math.random() * pathLength);
            particle.style.setProperty('--end-x', `${pointOnPath.x}px`);
            particle.style.setProperty('--end-y', `${pointOnPath.y}px`);
            particle.style.animationDelay = `${Math.random() * 0.5}s`;
            viz.appendChild(particle);
        }
    }
    
    function triggerJestAnimation() {
        const answerEl = document.getElementById('jest-answer');
        if (answerEl.classList.contains('typed')) return; // check if already typed
        const punText = "Pun: Why do Java developers wear glasses? Because they don't C#.\n\nExplanation: This is a classic programmer pun that plays on the names of two popular programming languages, Java and C# (pronounced 'C sharp'), equating the latter to the ability to 'see sharp'.";
        typeWriter(answerEl, punText, 30);
    }

    function triggerRhymesAnimation() {
        const headlineEl = document.getElementById('rhyming-headline');
        if (headlineEl.innerHTML !== '') return;
        const finalHeadline = "New Polls Show Decline, Now Coalition's in a Bind!";
        finalHeadline.split("").forEach((char, i) => {
            const span = document.createElement('span');
            span.className = 'letter';
            if ("Polls Decline Coalition's Bind!".includes(char) && char !== ' '){
                span.classList.add('gold');
            }
            span.textContent = char;
            span.style.setProperty('--i', i);
            headlineEl.appendChild(span);
        });
    }

    // --- 6. Meta Portfolio Scroll Tracker ---
    const scrollDot = document.getElementById('scroll-dot');
    const wireframe = document.querySelector('#meta-viz .wireframe');
    if (scrollDot && wireframe) {
        const pathStart = 12;
        const pathEnd = 138;
        const pathLength = pathEnd - pathStart;
        
        window.addEventListener('scroll', () => {
            const scrollableHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollProgress = window.scrollY / scrollableHeight;
            const dotPosition = pathStart + (scrollProgress * pathLength);
             // Clamp the value to ensure it stays within the visual bounds
            const clampedPosition = Math.max(pathStart, Math.min(dotPosition, pathEnd));
            scrollDot.setAttribute('cy', clampedPosition);
        }, { passive: true });
    }

    // --- 7. Video Lightbox ---
    const lightbox = document.getElementById('lightbox');
    const lightboxContent = document.getElementById('lightbox-content');
    const lightboxClose = document.getElementById('lightbox-close');

    document.querySelectorAll('.video-link').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const youtubeUrl = new URL(link.href);
            const videoId = youtubeUrl.searchParams.get('v');
            if (videoId) {
                lightboxContent.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
                lightbox.classList.add('visible');
            }
        });
    });

    function closeLightbox() {
        lightbox.classList.remove('visible');
        lightboxContent.innerHTML = ''; // Stop video playback
    }
    lightboxClose.addEventListener('click', closeLightbox);
    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) {
            closeLightbox();
        }
    });

    // --- 8. Footer Stopwatch ---
    const stopwatchEl = document.getElementById('stopwatch');
    // NOTE: The month in JavaScript's Date is 0-indexed (0=Jan, 1=Feb, ...), so August is 7.
    const startTime = new Date('2025-08-04T01:20:37Z').getTime();

    if (stopwatchEl) {
        setInterval(() => {
            const now = new Date().getTime();
            const difference = Math.max(0, now - startTime);
            
            const hours = Math.floor(difference / (1000 * 60 * 60));
            const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((difference % (1000 * 60)) / 1000);

            const format = (num) => num.toString().padStart(2, '0');
            
            stopwatchEl.textContent = `${format(hours)}:${format(minutes)}:${format(seconds)}`;

        }, 1000);
    }

});
</script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250804",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>