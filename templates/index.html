<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper - Code Portfolio</title>
    <style>
        :root {
            --background: #1e1e1e;
            --line-number: #858585;
            --comment: #6A9955;
            --keyword: #569CD6;
            --function: #DCDCAA;
            --string: #CE9178;
            --variable: #9CDCFE;
            --property: #9CDCFE;
            --number: #B5CEA8;
            --operator: #D4D4D4;
            --constant: #4FC1FF;
            --type: #4EC9B0;
            --cursor: #AEAFAD;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Consolas', 'Courier New', monospace;
        }

        body {
            background-color: var(--background);
            color: #D4D4D4;
            font-size: 14px;
            line-height: 1.6;
            overflow-x: hidden;
            width: 100%;
            height: 100vh;
        }

        #editor-container {
            display: flex;
            height: 100vh;
            flex-direction: column;
            position: relative;
        }

        #code-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        #editor {
            display: flex;
            flex: 1;
            overflow-y: auto;
            position: relative;
            z-index: 1;
            padding-bottom: 50px; /* Space for bottom bar */
        }

        #line-numbers {
            padding: 12px 12px 12px 20px;
            text-align: right;
            color: var(--line-number);
            user-select: none;
            border-right: 1px solid #333;
            min-width: 50px;
        }

        #code-content {
            flex: 1;
            padding: 12px 20px;
            white-space: pre;
            position: relative;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 18px;
            background-color: var(--cursor);
            vertical-align: middle;
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .keyword { color: var(--keyword); }
        .function { color: var(--function); }
        .string { color: var(--string); }
        .comment { color: var(--comment); }
        .variable { color: var(--variable); }
        .property { color: var(--property); }
        .number { color: var(--number); }
        .operator { color: var(--operator); }
        .constant { color: var(--constant); }
        .type { color: var(--type); }

        .project-preview {
            background-color: #252525;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            border-left: 3px solid #569CD6;
            max-width: 800px;
            transition: all 0.3s ease;
        }

        .project-preview:hover {
            transform: translateX(5px);
            box-shadow: 0 0 10px rgba(86, 156, 214, 0.3);
        }

        .project-title {
            font-weight: bold;
            color: #fff;
            margin-bottom: 5px;
        }

        .project-description {
            margin-bottom: 10px;
            color: #ccc;
        }

        .project-links {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .project-links a {
            color: #4FC1FF;
            text-decoration: none;
            display: inline-block;
            padding: 3px 8px;
            border: 1px solid #4FC1FF;
            border-radius: 3px;
            font-size: 12px;
            transition: all 0.2s;
        }

        .project-links a:hover {
            background-color: rgba(79, 193, 255, 0.1);
        }

        .terminal {
            background-color: #1c1c1c;
            border-radius: 5px;
            padding: 12px;
            margin: 10px 0;
            font-family: 'Consolas', monospace;
            border: 1px solid #333;
        }

        .terminal-header {
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
            margin-bottom: 8px;
            color: #ccc;
            font-size: 12px;
        }
        
        #social-icons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        #social-icons a {
            color: #4FC1FF;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s;
        }

        #social-icons a:hover {
            color: #fff;
            transform: translateY(-2px);
        }

        #bottom-bar {
            height: 25px;
            background-color: #007ACC;
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-size: 12px;
            color: white;
            position: fixed;
            bottom: 0;
            width: 100%;
            z-index: 10;
            justify-content: space-between;
        }

        #stopwatch {
            margin-right: 15px;
        }

        .bottom-bar-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }

        .bottom-bar-item svg {
            margin-right: 5px;
        }

        @media (max-width: 768px) {
            #editor {
                flex-direction: column;
            }
            
            #line-numbers {
                border-right: none;
                border-bottom: 1px solid #333;
                padding: 5px;
                display: flex;
                overflow-x: auto;
                min-width: unset;
            }
            
            #line-numbers div {
                margin-right: 10px;
            }
            
            #bottom-bar {
                flex-wrap: wrap;
                height: auto;
                padding: 5px 10px;
                font-size: 10px;
            }

            .project-links {
                flex-direction: column;
                gap: 5px;
            }
        }
    </style>
</head>
<body>
    <div id="editor-container">
        <div id="code-background"></div>
        <div id="editor">
            <div id="line-numbers"></div>
            <div id="code-content"></div>
        </div>
        <div id="bottom-bar">
            <div class="left-items">
                <span class="bottom-bar-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z" stroke="white" stroke-width="2"/>
                        <path d="M9 17.25V6.75L21 12.375L9 17.25Z" fill="white"/>
                    </svg>
                    main
                </span>
                <span class="bottom-bar-item">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2"/>
                        <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2"/>
                        <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2"/>
                    </svg>
                    UTF-8
                </span>
                <span class="bottom-bar-item">JavaScript</span>
            </div>
            <div class="right-items">
                <span id="memory-usage">Mem: 42.8MB</span>
                <span id="stopwatch">0d 00:00:00</span>
            </div>
        </div>
    </div>

    <script>
        // Matrix-like code background animation
        const codeBackground = document.getElementById('code-background');
        const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789=(){}[]<>:;,.?!+-*/|&^%$#@";

        function createMatrixColumn() {
            const column = document.createElement('div');
            column.style.position = 'absolute';
            column.style.top = '-100px';
            column.style.left = `${Math.random() * 100}%`;
            column.style.fontSize = '12px';
            column.style.color = '#00ff00';
            column.style.opacity = '0.3';
            column.style.fontFamily = 'monospace';
            column.style.textAlign = 'center';
            column.style.width = '20px';

            const speed = Math.random() * 2 + 1;
            let position = -100;
            const length = Math.floor(Math.random() * 15) + 5;
            
            function updateColumn() {
                let content = '';
                for (let i = 0; i < length; i++) {
                    if (Math.random() > 0.98) { // Randomly change characters
                        const char = characters.charAt(Math.floor(Math.random() * characters.length));
                        content += `<div>${char}</div>`;
                    } else {
                        content += column.innerHTML.split('<div>')[i+1]?.split('</div>')[0] || 
                                  characters.charAt(Math.floor(Math.random() * characters.length));
                    }
                }
                column.innerHTML = content;
                
                position += speed;
                column.style.top = position + 'px';
                
                if (position > window.innerHeight) {
                    codeBackground.removeChild(column);
                } else {
                    requestAnimationFrame(updateColumn);
                }
            }
            
            codeBackground.appendChild(column);
            updateColumn();
        }

        // Create matrix columns at intervals
        setInterval(createMatrixColumn, 300);

        // Typing animation and syntax highlighting logic
        const codeContent = document.getElementById('code-content');
        const lineNumbers = document.getElementById('line-numbers');

        // Portfolio content in code format
        const portfolioCode = [
            `// Welcome to my interactive portfolio
`,
            `// Initializing developer profile...
`,
            `const developer = {
  name: "Geva Kipper",
  currentRole: "Engineering at Google, building the future one line at a time."
};

`,
            `// This website regenerates daily via AI - what you see today will be different tomorrow

`,
            `// Let's explore some projects...
`,
            `function createProject(name, description) {
  return { name, description, links: [] };
}

const glglStats = createProject(
  "GlglStats",
  "Measuring repetitiveness in Israeli pop music using LZ77 compression algorithms and visualizing repetition patterns in famous songs."
);
glglStats.links.push("https://glglstats.onrender.com/");
glglStats.links.push("https://www.youtube.com/watch?v=jrKAtOsj1Lo"); // PyData TLV presentation

// Display project details
console.log("Project loaded:", glglStats);
`,
            `
// Next project: Real estate data analysis
const ahuzatDibuk = createProject(
  "Ahuzat Dibuk",
  "A data analysis tool exposing inflated apartment prices in Tel Aviv. Automated scraping, statistical modeling and heat map visualization of pricing anomalies."
);
ahuzatDibuk.links.push("https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943");
ahuzatDibuk.media = [
  "https://13tv.co.il/item/news/domestic/internal/parking-902956407/",
  "https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm"
];

// Media coverage was extensive! This project went viral
console.log("Media mentions:", ahuzatDibuk.media.length);
`,
            `
// Meta: This portfolio website itself
const portfolio = createProject(
  "Interactive Code Portfolio",
  "A self-referential portfolio website designed as a live-coding IDE experience. /* You're looking at it right now! */"
);
portfolio.links.push("https://portfolio-dor1.onrender.com/");

// Inception level: we're coding about coding about coding
// console.log(portfolio); // Uncomment to crash the universe (just kidding)
`,
            `
// Let's add some social links
const socialLinks = [];

// Populate social links
function addSocialLink(platform, url, icon) {
  socialLinks.push({ platform, url, icon });
}

addSocialLink("GitHub", "https://github.com/gevak", "github");
addSocialLink("LinkedIn", "https://linkedin.com/in/gevakip", "linkedin");
addSocialLink("Facebook", "https://facebook.com/geva.kipper", "facebook");

// Render social links to DOM
renderSocialLinks(socialLinks);
`
        ];

        // Easter egg: Hidden comment that appears when user types
        const easterEgg = `
// Congratulations! You found a hidden message.
// The answer to life, the universe, and everything is:
// 10100010010 (well, sorta)`;

        // Function to add syntax highlighting
        function highlightSyntax(text) {
            // Replace keywords
            text = text.replace(/\b(const|let|var|function|return|if|else|for|while|switch|case|break|continue|new|this|typeof|null|undefined|import|export|class|extends|super|try|catch|finally|throw)\b/g, '<span class="keyword">$1</span>');
            
            // Replace function names
            text = text.replace(/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g, '<span class="function">$1</span>(');
            
            // Replace strings
            text = text.replace(/"([^"]*)"/g, '<span class="string">"$1"</span>');
            text = text.replace(/'([^']*)'/g, '<span class="string">\'$1\'</span>');
            
            // Replace comments
            text = text.replace(/\/\/(.*)/g, '<span class="comment">// $1</span>');
            text = text.replace(/\/\*(.|\n)*?\*\//g, '<span class="comment">$&</span>');
            
            // Replace variables and properties
            text = text.replace(/\.([a-zA-Z_$][a-zA-Z0-9_$]*)/g, '.<span class="property">$1</span>');
            
            // Replace numbers
            text = text.replace(/\b(\d+)\b/g, '<span class="number">$1</span>');
            
            // Replace operators
            text = text.replace(/(\+|\-|\*|\/|=|&lt;|&gt;|!|==|===|!=|!==|&lt;=|&gt;=|&amp;&amp;|\|\|)/g, '<span class="operator">$1</span>');
            
            return text;
        }

        // Project rendering functions
        function createGlglStatsPreview() {
            const preview = document.createElement('div');
            preview.className = 'terminal';
            preview.innerHTML = `
                <div class="terminal-header">Terminal: node output</div>
                <div>Project loaded: <span style="color: #4FC1FF;">glglStats</span></div>
                <div class="project-preview">
                    <div class="project-title">GlglStats</div>
                    <div class="project-description">Measuring repetitiveness in Israeli pop music using LZ77 compression algorithms and visualizing repetition patterns in famous songs.</div>
                    <div class="project-links">
                        <a href="https://glglstats.onrender.com/" target="_blank">View Project</a>
                        <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank">PyData TLV Presentation</a>
                    </div>
                </div>
            `;
            return preview;
        }

        function createAhuzatDibukPreview() {
            const preview = document.createElement('div');
            preview.className = 'terminal';
            preview.innerHTML = `
                <div class="terminal-header">Terminal: node output</div>
                <div>Media mentions: <span style="color: #B5CEA8;">2</span></div>
                <div class="project-preview">
                    <div class="project-title">Ahuzat Dibuk</div>
                    <div class="project-description">A data analysis tool exposing inflated apartment prices in Tel Aviv. Automated scraping, statistical modeling and heat map visualization of pricing anomalies.</div>
                    <div class="project-links">
                        <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" target="_blank">Original Post</a>
                        <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank">Media Coverage 1</a>
                        <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank">Media Coverage 2</a>
                    </div>
                </div>
            `;
            return preview;
        }

        function createPortfolioPreview() {
            const preview = document.createElement('div');
            preview.className = 'terminal';
            preview.innerHTML = `
                <div class="terminal-header">Terminal: inception.js</div>
                <div style="color: #B5CEA8; font-style: italic;">// This is getting meta - you're currently viewing a preview of the portfolio site... within the portfolio site itself</div>
                <div class="project-preview">
                    <div class="project-title">Interactive Code Portfolio</div>
                    <div class="project-description">A self-referential portfolio website designed as a live-coding IDE experience. You're looking at it right now!</div>
                    <div class="project-links">
                        <a href="https://portfolio-dor1.onrender.com/" target="_blank">Refresh Page</a>
                    </div>
                </div>
            `;
            return preview;
        }

        function renderSocialLinks() {
            const container = document.createElement('div');
            container.id = 'social-icons';
            
            const githubLink = document.createElement('a');
            githubLink.href = 'https://github.com/gevak';
            githubLink.target = '_blank';
            githubLink.textContent = 'GitHub';
            
            const linkedinLink = document.createElement('a');
            linkedinLink.href = 'https://linkedin.com/in/gevakip';
            linkedinLink.target = '_blank';
            linkedinLink.textContent = 'LinkedIn';
            
            const facebookLink = document.createElement('a');
            facebookLink.href = 'https://facebook.com/geva.kipper';
            facebookLink.target = '_blank';
            facebookLink.textContent = 'Facebook';
            
            container.appendChild(githubLink);
            container.appendChild(linkedinLink);
            container.appendChild(facebookLink);
            
            return container;
        }

        // Typing animation
        let currentLine = 1;
        let currentSegment = 0;
        let currentChar = 0;
        let typeInterval;
        let typingComplete = false;

        function updateLineNumbers() {
            lineNumbers.innerHTML = '';
            for (let i = 1; i <= currentLine; i++) {
                const lineNumber = document.createElement('div');
                lineNumber.textContent = i;
                lineNumbers.appendChild(lineNumber);
            }
        }

        function startTyping() {
            updateLineNumbers();
            typeInterval = setInterval(typeNextCharacter, 40);
        }

        function typeNextCharacter() {
            if (currentSegment >= portfolioCode.length) {
                clearInterval(typeInterval);
                typingComplete = true;
                return;
            }

            const currentText = portfolioCode[currentSegment];
            
            if (currentChar < currentText.length) {
                const char = currentText[currentChar];
                if (char === '\n') {
                    currentLine++;
                    updateLineNumbers();
                }
                
                // Get current content and add next character
                let content = codeContent.innerHTML;
                content = content.replace('<span class="cursor"></span>', '');
                content += char;
                
                // Apply syntax highlighting to the entire content
                const highlightedContent = highlightSyntax(content) + '<span class="cursor"></span>';
                codeContent.innerHTML = highlightedContent;
                
                currentChar++;
            } else {
                // Move to next segment
                currentSegment++;
                currentChar = 0;
                
                // Insert project preview if needed
                if (currentSegment === 6) {
                    const glglStatsPreview = createGlglStatsPreview();
                    codeContent.appendChild(glglStatsPreview);
                } else if (currentSegment === 7) {
                    const ahuzatDibukPreview = createAhuzatDibukPreview();
                    codeContent.appendChild(ahuzatDibukPreview);
                } else if (currentSegment === 8) {
                    const portfolioPreview = createPortfolioPreview();
                    codeContent.appendChild(portfolioPreview);
                } else if (currentSegment === 9) {
                    const socialLinksElement = renderSocialLinks();
                    codeContent.appendChild(socialLinksElement);
                }
            }
            
            // Scroll to the bottom as we type
            codeContent.scrollTop = codeContent.scrollHeight;
        }

        // Make the editor responsive to user input
        codeContent.addEventListener('click', function() {
            if (!typingComplete) {
                clearInterval(typeInterval);
                for (let i = currentSegment; i < portfolioCode.length; i++) {
                    let content = codeContent.innerHTML;
                    content = content.replace('<span class="cursor"></span>', '');
                    content += portfolioCode[i];
                    codeContent.innerHTML = highlightSyntax(content) + '<span class="cursor"></span>';
                    
                    // Add project previews
                    if (i === 5) {
                        const glglStatsPreview = createGlglStatsPreview();
                        codeContent.appendChild(glglStatsPreview);
                    } else if (i === 6) {
                        const ahuzatDibukPreview = createAhuzatDibukPreview();
                        codeContent.appendChild(ahuzatDibukPreview);
                    } else if (i === 7) {
                        const portfolioPreview = createPortfolioPreview();
                        codeContent.appendChild(portfolioPreview);
                    } else if (i === 8) {
                        const socialLinksElement = renderSocialLinks();
                        codeContent.appendChild(socialLinksElement);
                    }
                    
                    // Update line count for each segment
                    const lines = portfolioCode[i].split('\n');
                    currentLine += lines.length - 1;
                }
                updateLineNumbers();
                typingComplete = true;
            }
        });

        // Allow user to type and add easter egg
        document.addEventListener('keydown', function(e) {
            if (typingComplete && !document.querySelector('.easter-egg')) {
                if (e.key.length === 1 || e.key === 'Enter' || e.key === 'Backspace') {
                    e.preventDefault();
                    
                    // Add easter egg
                    const easterEggElement = document.createElement('div');
                    easterEggElement.className = 'easter-egg';
                    easterEggElement.innerHTML = highlightSyntax(easterEgg);
                    codeContent.appendChild(easterEggElement);
                    
                    // Update line numbers
                    const easterEggLines = easterEgg.split('\n').length;
                    currentLine += easterEggLines;
                    updateLineNumbers();
                }
            }
        });

        // Stopwatch functionality
        const stopwatchElement = document.getElementById('stopwatch');
        const startDate = new Date('April 1, 2025 01:09:18');

        function updateStopwatch() {
            const now = new Date();
            const diff = now - startDate;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            stopwatchElement.textContent = `${days}d ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Memory usage simulation
        const memoryUsage = document.getElementById('memory-usage');
        
        function updateMemoryUsage() {
            const baseMemory = 42.8;
            const randomUsage = (Math.random() * 0.5 - 0.25);
            const newMemory = (baseMemory + randomUsage).toFixed(1);
            memoryUsage.textContent = `Mem: ${newMemory}MB`;
        }

        // Start animations and updates
        startTyping();
        setInterval(updateStopwatch, 1000);
        setInterval(updateMemoryUsage, 3000);
    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250401",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>