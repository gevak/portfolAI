<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper // Portfolio Assistant</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #1A1A1A;
            --primary-text: #E0E0E0;
            --ai-text: #61E8E1; /* Light Cyan */
            --ai-font: 'Fira Code', 'Roboto Mono', monospace;
            --sans-font: 'Inter', sans-serif;
            --bubble-bg: #252525;
            --border-glow: rgba(97, 232, 225, 0.5);
            --button-bg: #333;
            --button-hover-bg: #444;
        }

        *, *::before, *::after {
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--primary-text);
            font-family: var(--sans-font);
            margin: 0;
            padding-bottom: 50px; /* Space for the fixed footer */
        }

        #background-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            background-image: 
                radial-gradient(circle at 1px 1px, var(--ai-text, 0.25) 1px, transparent 0);
            background-size: 40px 40px;
            opacity: 0.1;
            animation: move-grid 60s linear infinite;
        }

        @keyframes move-grid {
            from { background-position: 0 0; }
            to { background-position: -80px -80px; }
        }

        #chat-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .chat-element {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Message Bubbles */
        .ai-message {
            align-self: flex-start;
            background-color: var(--bubble-bg);
            padding: 1rem 1.5rem;
            border-radius: 20px 20px 20px 5px;
            max-width: 85%;
            font-family: var(--ai-font);
            color: var(--ai-text);
            line-height: 1.6;
            white-space: pre-wrap;
             word-wrap: break-word;
        }

        .ai-message code {
            font-family: inherit;
        }

        .typing-cursor {
            display: inline-block;
            width: 10px;
            height: 1em;
            background-color: var(--ai-text);
            animation: blink 1s step-end infinite;
            margin-left: 4px;
            vertical-align: text-bottom;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* User Reply Buttons */
        .user-options {
            align-self: flex-end;
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .user-options button {
            font-family: var(--sans-font);
            font-size: 0.9rem;
            font-weight: 500;
            background-color: var(--button-bg);
            color: var(--primary-text);
            border: 1px solid #444;
            padding: 0.6rem 1.2rem;
            border-radius: 999px; /* Pill shape */
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 0 0 0 var(--border-glow);
        }

        .user-options button:hover {
            background-color: var(--button-hover-bg);
            border-color: var(--ai-text);
            box-shadow: 0 0 15px 0 var(--border-glow);
            transform: translateY(-2px);
        }

        .user-options.disabled button {
            opacity: 0.5;
            pointer-events: none;
        }

        /* Project Cards */
        .project-card {
            background-color: var(--bubble-bg);
            padding: 1.5rem 2rem;
            border-radius: 12px;
            border: 1px solid #333;
            max-width: 100%;
        }

        .project-card.meta-project {
            border-color: var(--ai-text);
            box-shadow: 0 0 20px 0 var(--border-glow);
        }

        .project-card h3 {
            margin: 0 0 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-text);
        }

        .project-card p {
            margin: 0 0 1.5rem;
            line-height: 1.6;
            color: #b0b0b0;
        }

        .project-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .project-links a, .social-links a {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background-color: var(--button-bg);
            color: var(--primary-text);
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            border: 1px solid #444;
        }

        .project-links a:hover, .social-links a:hover {
            background-color: var(--button-hover-bg);
            border-color: var(--ai-text);
            transform: translateY(-2px);
        }

        .project-links a svg, .social-links a svg {
            width: 18px;
            height: 18px;
            fill: currentColor;
        }
        
        /* Social Links Block */
        .social-links {
            background-color: var(--bubble-bg);
            padding: 1.5rem;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            gap: 2rem;
            width: 100%;
        }
        
        .social-links a {
             padding: 0.8rem;
             border-radius: 50%;
        }
        .social-links a span {
            display: none; /* Hide text, show icon only */
        }
         .social-links a svg {
            width: 24px;
            height: 24px;
            margin: 0;
            gap: 0;
        }

        /* Footer */
        #main-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--bg-color);
            border-top: 1px solid #333;
            box-shadow: 0 -5px 15px -5px var(--border-glow);
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #888;
            z-index: 10;
        }
        .footer-right {
           font-family: var(--ai-font);
           color: var(--ai-text);
        }
        #redesign-stopwatch {
            display: inline-block;
            min-width: 70px;
        }
    </style>
</head>
<body>

    <div id="background-grid"></div>

    <main id="chat-container"></main>

    <footer id="main-footer">
        <div class="footer-left">Site concept & design by a GPT-4-class AI.</div>
        <div class="footer-right">
            <span>Time since last redesign:</span>
            <span id="redesign-stopwatch">--:--:--</span>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- DOM ELEMENTS & SVG ICONS ---
        const chatContainer = document.getElementById('chat-container');
        
        const ICONS = {
            link: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"></path></svg>`,
            play: `<svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M8 5v14l11-7z"></path></svg>`,
            news: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>`,
            facebook: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>`,
            code: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>`,
            chrome: `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line></svg>`,
            github: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.09.68-.22.68-.48v-1.7c-2.78.6-3.37-1.34-3.37-1.34-.46-1.16-1.11-1.47-1.11-1.47-.9-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.9 1.52 2.34 1.08 2.91.83.09-.65.35-1.08.63-1.34-2.22-.25-4.55-1.11-4.55-4.94 0-1.1.39-1.99 1.03-2.69a3.6 3.6 0 0 1 .1-2.64s.84-.27 2.75 1.02a9.58 9.58 0 0 1 5 0c1.91-1.29 2.75-1.02 2.75-1.02.55 1.37.2 2.4.1 2.64.64.7 1.03 1.6 1.03 2.69 0 3.84-2.34 4.68-4.57 4.93.36.31.68.92.68 1.85v2.73c0 .27.18.58.69.48A10 10 0 0 0 22 12 10 10 0 0 0 12 2z"></path></svg>`,
            linkedin: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6zM6 9H2V21h4zM4 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"></path></svg>`,
        };

        // --- CONVERSATION DATA ---
        const conversationData = {
            'start': [
                { type: 'ai', text: `Initializing portfolio for Geva Kipper...`, typing: true },
                { type: 'ai', text: `Hello. I am Geva's portfolio assistant. He is currently at Google, helping develop the future of search.`, delay: 500 },
                { type: 'ai', text: `My design and structure are regenerated daily, so this experience is unique to you. How may I guide you?`, delay: 1000 },
                { 
                    type: 'user_options', 
                    options: [
                        { text: 'Show me the projects', next: 'project_1' },
                        { text: 'Just the key links, please', next: 'socials_direct' }
                    ],
                    delay: 1500
                }
            ],
            'project_1': [
                { type: 'ai', text: `Excellent. Let's start with a project that combines data science with Israeli pop music.`},
                {
                    type: 'project',
                    content: {
                        title: 'GlglStats',
                        description: 'A Python project measuring the repetitiveness of Israeli pop-chart songs using LZ77 compression, featuring visualizations of repetition patterns.',
                        links: [
                            { text: 'Live Site', url: 'https://glglstats.geekip.dev', icon: 'link' },
                            { text: 'PyData Talk', url: 'https://www.youtube.com/watch?v=jrKAtOsj1Lo', icon: 'play' }
                        ]
                    }
                },
                { type: 'user_options', options: [{ text: 'Interesting. Next project?', next: 'project_2' }] }
            ],
            'project_2': [
                 { type: 'ai', text: `Next, a civic-tech project that made headlines: tracking parking occupancy in Tel Aviv.` },
                 {
                    type: 'project',
                    content: {
                        title: 'Ahuzat Dibuk',
                        description: 'A Python scraping and data visualization project generating heat-maps of Tel-Aviv parking lot occupancy.',
                        links: [
                            { text: 'Channel 13 News', url: 'https://13tv.co.il/item/news/domestic/internal/parking-902956407/', icon: 'news' },
                            { text: 'Mako News', url: 'https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm', icon: 'news' },
                            { text: 'Original Post', url: 'https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943', icon: 'facebook' }
                        ]
                    }
                },
                { type: 'user_options', options: [{ text: 'Cool. What else?', next: 'project_3' }] }
            ],
             'project_3': [
                { type: 'ai', text: `Now for something more theoretical: an algorithm in computational geometry.` },
                {
                    type: 'project',
                    content: {
                        title: '2D Part Orienting',
                        description: "A C++ implementation of an efficient algorithm for constructing a 'push plan' to orient a polygon, contributed to an open-source library.",
                        links: [
                            { text: 'Code & Details', url: 'https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/', icon: 'code' },
                        ]
                    }
                },
                { type: 'user_options', options: [{ text: 'Got it. On to the next one.', next: 'project_4' }] }
            ],
            'project_4': [
                { type: 'ai', text: `From geometry to humor. Geva also explores the creative side of AI.` },
                {
                    type: 'project',
                    content: {
                        title: 'The Turing Jest',
                        description: 'An LLM arena where AI models compete at making and explaining puns, with user ratings determining the wittiest AI.',
                        links: [
                            { text: 'Visit The Arena', url: 'https://jest.geekip.dev', icon: 'link' }
                        ]
                    }
                },
                { type: 'user_options', options: [{ text: 'Creative! Next.', next: 'project_5' }] }
            ],
            'project_5': [
                { type: 'ai', text: `Continuing with creative AI, here's a browser extension that finds the poetry in the daily news.`},
                {
                    type: 'project',
                    content: {
                        title: 'Rhymes of Israel',
                        description: 'A Chrome extension using an LLM to rewrite Israeli news headlines into comedic, highschool-yearbook-style rhymes.',
                        links: [
                            { text: 'Install Extension', url: 'https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb', icon: 'chrome' }
                        ]
                    }
                },
                { type: 'user_options', options: [{ text: "What's the final project?", next: 'project_6' }] }
            ],
            'project_6': [
                { type: 'ai', text: `Finally, the last project is... this very conversation.` },
                 {
                    type: 'project',
                    isMeta: true,
                    content: {
                        title: 'The AI Portfolio',
                        description: "This meta-project is a single-page portfolio designed as an AI assistant to guide visitors through Geva's work.",
                        links: [
                           { text: "View This Conversation's Source", url: 'https://geekip.dev', icon: 'code' }
                        ]
                    }
                },
                { type: 'user_options', options: [{ text: 'Very meta. How do I connect?', next: 'socials' }] }
            ],
            'socials': [
                { type: 'ai', text: `This concludes the project overview. You can connect with Geva or explore more of his work via his professional and social profiles.` },
                { type: 'socials' }
            ],
            'socials_direct': [
                { type: 'ai', text: `Of course. Here are the most relevant links to connect with Geva or explore his work.` },
                { type: 'socials' }
            ]
        };

        const socialLinksData = [
            { name: 'GitHub', url: 'https://github.com/gevak', icon: 'github' },
            { name: 'LinkedIn', url: 'https://linkedin.com/in/gevakip', icon: 'linkedin' },
            { name: 'Facebook', url: 'https://facebook.com/geva.kipper', icon: 'facebook' },
        ];


        // --- HELPER FUNCTIONS ---
        const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

        const scrollIntoView = (element) => {
            element.scrollIntoView({ behavior: 'smooth', block: 'end' });
        };

        const typewriter = async (element, text) => {
            element.innerHTML = '';
            const cursor = document.createElement('span');
            cursor.className = 'typing-cursor';
            
            for (let i = 0; i < text.length; i++) {
                element.innerHTML = text.substring(0, i + 1);
                element.appendChild(cursor);
                await sleep(30);
            }
            cursor.remove();
            element.innerHTML = text; // Finalize text
        };

        // --- UI BUILDING FUNCTIONS ---
        const addAiMessage = async (text, useTyping = false) => {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'ai-message chat-element';
            chatContainer.appendChild(msgDiv);
            
            if (useTyping) {
                await typewriter(msgDiv, text);
            } else {
                msgDiv.textContent = text;
            }
            scrollIntoView(msgDiv);
            return msgDiv;
        };

        const addUserOptions = (options) => {
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'user-options chat-element';

            options.forEach(opt => {
                const button = document.createElement('button');
                button.textContent = opt.text;
                button.onclick = () => {
                    optionsDiv.classList.add('disabled');
                    handleUserChoice(opt.next);
                };
                optionsDiv.appendChild(button);
            });

            chatContainer.appendChild(optionsDiv);
            scrollIntoView(optionsDiv);
        };
        
        const addProjectCard = (project, isMeta = false) => {
            const cardDiv = document.createElement('div');
            cardDiv.className = 'project-card chat-element' + (isMeta ? ' meta-project' : '');
            
            let linksHTML = project.links.map(link => `
                <a href="${link.url}" target="_blank" rel="noopener noreferrer">
                    ${ICONS[link.icon]}
                    <span>${link.text}</span>
                </a>
            `).join('');

            cardDiv.innerHTML = `
                <h3>${project.title}</h3>
                <p>${project.description}</p>
                <div class="project-links">${linksHTML}</div>
            `;
            chatContainer.appendChild(cardDiv);
            scrollIntoView(cardDiv);
        };

        const addSocialLinks = () => {
             const socialDiv = document.createElement('div');
             socialDiv.className = 'social-links chat-element';
             
             let linksHTML = socialLinksData.map(link => `
                <a href="${link.url}" target="_blank" rel="noopener noreferrer" title="${link.name}">
                    ${ICONS[link.icon]}
                    <span>${link.name}</span>
                </a>
             `).join('');

            socialDiv.innerHTML = linksHTML;
            chatContainer.appendChild(socialDiv);
            scrollIntoView(socialDiv);
        };


        // --- CONVERSATION FLOW LOGIC ---
        const handleUserChoice = (nextStepKey) => {
            const steps = conversationData[nextStepKey];
            if (steps) {
                runSteps(steps);
            }
        };

        const runSteps = async (steps) => {
            for (const step of steps) {
                if (step.delay) await sleep(step.delay);
                
                switch (step.type) {
                    case 'ai':
                        await addAiMessage(step.text, step.typing);
                        break;
                    case 'user_options':
                        addUserOptions(step.options);
                        break;
                    case 'project':
                        addProjectCard(step.content, step.isMeta);
                        break;
                    case 'socials':
                        addSocialLinks();
                        break;
                }
            }
        };

        // --- FOOTER STOPWATCH ---
        const startStopwatch = () => {
            const stopwatchEl = document.getElementById('redesign-stopwatch');
            const redesignDate = new Date('2025-09-23T01:02:07Z');

            setInterval(() => {
                const now = new Date();
                const diff = redesignDate - now;

                if (diff <= 0) {
                     stopwatchEl.textContent = '00:00:00';
                     return;
                }
                
                let seconds = Math.floor((diff / 1000) % 60);
                let minutes = Math.floor((diff / (1000 * 60)) % 60);
                let hours = Math.floor(diff / (1000 * 60 * 60));
                
                // Flip to count UP after the date passes
                // For the spec, let's keep it counting up from the specified date
                const timeSince = new Date() - new Date('2025-09-23T01:02:07Z');

                hours = Math.floor(timeSince / (1000 * 60 * 60));
                minutes = Math.floor((timeSince / (1000 * 60)) % 60);
                seconds = Math.floor((timeSince / 1000) % 60);

                const pad = (num) => num.toString().padStart(2, '0');
                stopwatchEl.textContent = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
            }, 1000);
        };

        // --- INITIALIZATION ---
        const init = () => {
            startStopwatch();
            runSteps(conversationData['start']);
        };

        init();
    });
    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250923",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>