<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper // The Journey</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #0a0b1e;
            --path-color: #4d9fff;
            --text-color: #e0e0e0;
            --font-main: 'Poppins', sans-serif;
            --font-mono: 'Fira Code', monospace;

            --glow-magenta: #f0f;
            --glow-orange: #ff9800;
            --glow-cyan: #00bcd4;
            --glow-green: #0f0;
            --glow-blue: #4d9fff;
            --glow-rainbow: linear-gradient(90deg, #f0f, #ff9800, #0f0, #00bcd4, #4d9fff, #f0f);
        }

        /* --- Global Setup & Reset --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            height: 1200vh; /* This determines the total scrollable length of the journey */
            overflow-x: hidden;
        }

        a {
            color: inherit;
            text-decoration: none;
        }
        
        /* --- Core Scrolling Scenery --- */
        #viewport {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        #world {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 800vw; /* Total width of the world (7 sections + start/end padding) */
            display: flex;
            will-change: transform;
        }
        
        /* --- Parallax Backgrounds --- */
        .parallax-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 200%; /* Wider than viewport for parallax movement */
            height: 100%;
            will-change: transform;
            pointer-events: none;
        }

        #bg-far {
            background-image: radial-gradient(white 0.5px, transparent 0.5px), radial-gradient(white 0.5px, transparent 0.5px);
            background-size: 40px 40px, 120px 120px;
            background-position: 0 0, 30px 30px;
            z-index: -3;
        }

        #bg-mid {
            opacity: 0.2;
            z-index: -2;
        }
        
        .code-constellation {
            position: absolute;
            font-family: var(--font-mono);
            font-size: 3rem;
            color: var(--path-color);
            text-shadow: 0 0 10px var(--path-color);
            animation: pulse 8s infinite alternate;
        }
        
        /* Positioning of constellations */
        .code-constellation:nth-child(1) { top: 10%; left: 20%; animation-delay: -2s; transform: rotate(-15deg); }
        .code-constellation:nth-child(2) { top: 70%; left: 35%; animation-delay: -4s; }
        .code-constellation:nth-child(3) { top: 25%; left: 80%; }
        .code-constellation:nth-child(4) { top: 80%; left: 90%; animation-delay: -6s; transform: rotate(10deg); }


        /* --- Initial "Start Screen" --- */
        .intro-text-container {
            position: fixed;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            transition: opacity 0.5s ease-out;
            width: 80%;
        }

        .intro-text-container h1 {
            font-family: var(--font-mono);
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-weight: 700;
            animation: text-glow 4s ease-in-out infinite alternate;
        }
        
        .intro-text-container .subtitle {
            font-size: clamp(1rem, 2.5vw, 1.5rem);
            margin-top: 1rem;
            color: #aaa;
        }

        .intro-text-container .ai-subtitle {
            font-family: var(--font-mono);
            font-size: clamp(0.8rem, 2vw, 1rem); 
            margin-top: 2rem;
            color: #888;
            position: relative;
        }
        
        .glitch-text {
            animation: glitch 10s steps(8, end) infinite;
        }

        #scroll-prompt {
            position: fixed;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            color: #fff;
            font-family: var(--font-mono);
            animation: pulse 2s infinite;
            transition: opacity 0.5s ease-out;
        }

        #scroll-prompt::after {
            content: '▼';
            display: block;
            text-align: center;
            font-size: 1.5rem;
            margin-top: 0.5rem;
        }

        /* --- The Character --- */
        #character-wrapper {
            position: fixed;
            bottom: 25vh; /* Aligns with the path's vertical position */
            left: 20vw; /* Character's horizontal position on screen */
            width: 64px;
            height: 64px;
            z-index: 5;
            transform: translateY(16px);
        }

        #character {
            width: 100%;
            height: 100%;
            /* Base64 encoded 128x32 sprite (4 frames 32x32) of a simple running character, scaled up 2x */
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADAZ78nAAAAAXNSR0IArs4c6QAAAPZJREFUeJzt2LEJgEAUxdDbwYpEIi1RC4lUEDsLiZJIJA5CBX/n28vL+z1wYAYb/plYnAcA/zYAyZMgIHECyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCyJMEIGkCgB/h/gL3gE2sJH8h1HAAAAAElFTkSuQmCC');
            background-size: 400% 100%;
            background-position: 0% 0;
        }

        #character.is-walking {
            animation: walk 0.6s steps(4) infinite;
        }

        /* --- The Path --- */
        #path-container {
            position: absolute;
            bottom: 25vh;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--path-color);
            box-shadow: 0 0 10px var(--path-color), 0 0 20px var(--path-color);
        }

        /* --- Levels / Sections --- */
        .level {
            width: 100vw;
            height: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .level:first-child { margin-left: 20vw; } /* Start screen padding */
        .level:last-child { margin-right: 50vw; } /* End screen padding */

        /* --- Project Box ("Terminal") --- */
        .project-box {
            width: clamp(350px, 40vw, 600px);
            padding: 2rem;
            background-color: rgba(10, 11, 30, 0.7);
            border: 2px solid var(--glow-color);
            border-radius: 8px;
            box-shadow: 0 0 15px var(--glow-color), inset 0 0 10px var(--glow-color);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            transition: all 0.3s ease;
            transform: translateY(20px);
            opacity: 0;
            animation: fade-in 1s forwards;
            animation-delay: 0.5s;
        }

        .level[data-visible="true"] .project-box {
             opacity: 1; transform: translateY(0); 
        }

        .project-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px var(--glow-color), inset 0 0 15px var(--glow-color);
        }

        .project-box h3 {
            font-family: var(--font-mono);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--glow-color);
            text-shadow: 0 0 5px var(--glow-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        .project-box h3 svg {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            filter: drop-shadow(0 0 3px var(--glow-color));
        }

        .project-box p {
            margin-bottom: 1.5rem;
            line-height: 1.6;
            color: #ccc;
        }

        .buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            border: 1px solid var(--glow-color);
            border-radius: 4px;
            color: var(--glow-color);
            font-family: var(--font-mono);
            font-weight: 700;
            text-transform: uppercase;
            text-shadow: 0 0 2px var(--glow-color);
            transition: all 0.2s ease;
            background: transparent;
        }
        .btn:hover {
            background-color: var(--glow-color);
            color: var(--bg-color);
            box-shadow: 0 0 15px var(--glow-color);
        }

        /* --- Section Specific Environments --- */
        .env-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        /* Section 1: GlglStats */
        .sound-wave { position: absolute; bottom: 30vh; left: 0; width: 100%; height: 100px; background: repeating-linear-gradient(90deg, transparent, transparent 19px, var(--glow-magenta) 20px); opacity: 0.1; animation: wave 2s linear infinite; }
        .note { position: absolute; color: var(--glow-magenta); font-size: 2rem; opacity: 0.3; animation: float 10s infinite linear; }
        
        /* Section 2: Ahuzat Dibuk */
        .heatmap { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 30% 30%, rgba(255,152,0,0.2) 0%, transparent 40%), radial-gradient(circle at 70% 80%, rgba(255,82,82,0.15) 0%, transparent 35%); animation: pulse 6s infinite alternate; }

        /* Section 3: 2D Part Orienting */
        .wireframe { position: absolute; border: 1px solid var(--glow-cyan); opacity: 0.2; animation: rotate 20s infinite linear; }
        
        /* Section 4: The Turing Jest */
        .haha { position: absolute; font-family: var(--font-mono); color: var(--glow-green); opacity: 0.2; animation: fall 8s infinite linear; }

        /* Section 5: Rhymes of Israel */
        .headline { position: absolute; font-family: 'Times New Roman', Times, serif; color: var(--glow-blue); opacity: 0.1; font-weight: bold; font-size: 2rem; white-space: nowrap; transform: rotate(-5deg); animation: slide-text 30s infinite linear; }

        /* Section 6: This Website */
        .wireframe-grid { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(var(--path-color) 1px, transparent 1px), linear-gradient(90deg, var(--path-color) 1px, transparent 1px); background-size: 50px 50px; opacity: 0.1; }


        /* --- Final Section & Footer --- */
        #final-stop {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .social-links {
            display: flex;
            gap: 3rem;
            margin-top: 5rem;
        }

        .social-links a {
            color: #fff;
            transition: all 0.3s ease;
        }

        .social-links svg {
            width: 48px;
            height: 48px;
            filter: drop-shadow(0 0 5px #fff);
        }
        
        .social-links a:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 15px #fff);
        }
        
        #footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 0.75rem 2rem;
            background-color: #111225;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #888;
            z-index: 20;
            font-family: var(--font-mono);
        }

        #stopwatch-label {
             margin-right: 0.5em;
        }
        
        #stopwatch {
            color: #eee;
        }

        /* --- Animations --- */
        @keyframes text-glow {
            from { text-shadow: 0 0 10px #fff, 0 0 20px var(--path-color), 0 0 30px var(--path-color); }
            to { text-shadow: 0 0 20px #fff, 0 0 30px var(--path-color), 0 0 40px var(--path-color); }
        }

        @keyframes pulse {
            from { opacity: 0.8; transform: scale(1); }
            to { opacity: 1; transform: scale(1.02); }
        }

        @keyframes glitch {
             2%, 64% { transform: translate(2px, 0) skew(0deg); }
             4%, 60% { transform: translate(-2px, 0) skew(0deg); }
             62% { transform: skew(0.5deg) translate(0,0); }
             63% { color: var(--glow-magenta); text-shadow: 1px 0 var(--glow-cyan); }
             64% { color: inherit; text-shadow: none; }
        }
        
        @keyframes walk {
            from { background-position-x: 0%; }
            to { background-position-x: 100%; }
        }

        @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes wave { to { background-position-x: 20px; } }
        @keyframes float { 0% { transform: translateY(0); } 100% { transform: translateY(-100vh); opacity: 0; } }
        @keyframes rotate { from { transform: rotate(0deg) scale(0.8); } to { transform: rotate(360deg) scale(1.2); } }
        @keyframes fall { from { transform: translateY(-10vh); } to { transform: translateY(110vh); } }
        @keyframes slide-text { from { transform: translateX(100vw) rotate(-5deg); } to { transform: translateX(-100%) rotate(-5deg); } }


        /* --- Responsive Adjustments --- */
        @media (max-width: 768px) {
            body { height: 1500vh; }
            #character-wrapper { left: 10vw; width: 48px; height: 48px; transform: translateY(12px); }
            .project-box { width: 85vw; }
            .intro-text-container { top: 35%; }
            .buttons { justify-content: center; }
        }

    </style>
</head>
<body>

    <div id="viewport">
        <!-- Parallax Backgrounds -->
        <div class="parallax-bg" id="bg-far"></div>
        <div class="parallax-bg" id="bg-mid">
            <div class="code-constellation">{...}</div>
            <div class="code-constellation">&lt;/&gt;</div>
            <div class="code-constellation">=&gt;</div>
            <div class="code-constellation">[ ]</div>
        </div>

        <!-- The World container that moves horizontally -->
        <main id="world">
            <div id="path-container"></div>

            <!-- 1. START -->
            <section class="level" data-section-name="start">
                <!-- This section is intentionally empty -->
            </section>

            <!-- 2. GlglStats -->
            <section class="level" data-section-name="glglstats" style="--glow-color: var(--glow-magenta);">
                <div class="env-bg">
                    <div class="sound-wave"></div>
                    <div class="note" style="top: 80%; left: 10%; animation-duration: 12s; animation-delay: -2s;">♫</div>
                    <div class="note" style="top: 80%; left: 50%; animation-duration: 8s; animation-delay: -5s;">♪</div>
                    <div class="note" style="top: 80%; left: 90%; animation-duration: 10s;">♬</div>
                </div>
                <div class="project-box">
                    <h3>GlglStats</h3>
                    <p>A Python project measuring the repetitiveness of Israeli pop songs using LZ77 compression, with visualizations of repetition patterns.</p>
                    <div class="buttons">
                        <a href="https://glglstats.geekip.dev" target="_blank" class="btn">View Project</a>
                        <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank" class="btn">Watch PYDATA Talk</a>
                    </div>
                </div>
            </section>

            <!-- 3. Ahuzat Dibuk -->
            <section class="level" data-section-name="ahuzat-dibuk" style="--glow-color: var(--glow-orange);">
                <div class="env-bg"><div class="heatmap"></div></div>
                <div class="project-box">
                    <h3>Ahuzat Dibuk</h3>
                    <p>A Python scraping project that visualizes parking lot occupancy in Tel Aviv with generated heat-maps for residents.</p>
                    <div class="buttons">
                        <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank" class="btn">As seen on 13TV</a>
                        <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank" class="btn">Mako News Story</a>
                        <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" target="_blank" class="btn">Original Facebook Post</a>
                    </div>
                </div>
            </section>

            <!-- 4. 2D Part Orienting -->
            <section class="level" data-section-name="part-orienting" style="--glow-color: var(--glow-cyan);">
                <div class="env-bg">
                    <div class="wireframe" style="width: 150px; height: 150px; top: 15%; left: 15%; animation-duration: 22s;"></div>
                    <div class="wireframe" style="width: 100px; height: 100px; top: 60%; left: 80%; animation-duration: 18s; animation-delay: -5s;"></div>
                </div>
                <div class="project-box">
                    <h3>2D Part Orienting</h3>
                    <p>C++ implementation of an efficient algorithm for constructing a 'push plan' to orient a polygon, contributed to an open-source computational geometry library.</p>
                    <div class="buttons">
                        <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" class="btn">Code & Project Details</a>
                    </div>
                </div>
            </section>

            <!-- 5. The Turing Jest -->
            <section class="level" data-section-name="turing-jest" style="--glow-color: var(--glow-green);">
                <div class="env-bg">
                    <div class="haha" style="left: 10%; animation-delay: -2s; font-size: 1.5rem;">HA</div>
                    <div class="haha" style="left: 30%; animation-delay: -6s;">ha</div>
                    <div class="haha" style="left: 55%; animation-delay: -1s; font-size: 2rem;">HA</div>
                    <div class="haha" style="left: 80%; animation-delay: -4s;">ha</div>
                </div>
                <div class="project-box">
                    <h3>The Turing Jest</h3>
                    <p>An LLM arena where AI models compete to create and explain puns, rated by users.</p>
                    <div class="buttons">
                        <a href="https://jest.geekip.dev" target="_blank" class="btn">Enter The Arena</a>
                    </div>
                </div>
            </section>

            <!-- 6. Rhymes of Israel -->
            <section class="level" data-section-name="rhymes-israel" style="--glow-color: var(--glow-blue);">
                <div class="env-bg">
                     <div class="headline" style="top: 20%; animation-duration: 40s;">חדשות ישראל: כל מה שצריך לדעת</div>
                     <div class="headline" style="top: 50%; animation-duration: 35s; animation-delay: -15s;">הכותרות הראשיות של הבוקר</div>
                     <div class="headline" style="top: 80%; animation-duration: 45s; animation-delay: -25s;">עדכוני תנועה וכבישים חסומים</div>
                </div>
                <div class="project-box">
                    <h3>
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 4.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7zm0 13a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z"></path></svg>
                        Rhymes of Israel
                    </h3>
                    <p>A Chrome extension rewriting Israeli news headlines into comedic rhymes using an LLM, in the style of a high-school yearbook.</p>
                    <div class="buttons">
                        <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank" class="btn">Install Extension</a>
                    </div>
                </div>
            </section>
            
            <!-- 7. Meta -->
            <section class="level" data-section-name="meta" style="--glow-color: var(--glow-rainbow);">
                 <div class="env-bg"><div class="wireframe-grid"></div></div>
                <div class="project-box">
                    <h3>This Website</h3>
                    <p>A meta-project: a single-page portfolio designed as a 2D platformer, its concept and specification generated by an AI.</p>
                    <div class="buttons">
                        <a href="https://geekip.dev" target="_blank" class="btn" style="border-image: var(--glow-color) 1; color: white;">View Domain</a>
                    </div>
                </div>
            </section>

            <!-- 8. END -->
             <section class="level" data-section-name="end">
                <div id="final-stop">
                    <div class="social-links">
                        <a href="https://github.com/gevak" target="_blank" title="GitHub">
                            <svg role="img" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
                        </a>
                        <a href="https://linkedin.com/in/gevakip" target="_blank" title="LinkedIn">
                           <svg role="img" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"/></svg>
                        </a>
                        <a href="https://facebook.com/geva.kipper" target="_blank" title="Facebook">
                            <svg role="img" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                        </a>
                    </div>
                </div>
            </section>
        </main>

        <!-- Fixed Character -->
        <div id="character-wrapper">
             <div id="character"></div>
        </div>

        <!-- Fixed Intro Text -->
        <div class="intro-text-container" id="intro-container">
            <h1>Geva Kipper</h1>
            <p class="subtitle">Software Engineer at Google, exploring the creative frontiers of AI.</p>
            <p class="ai-subtitle glitch-text" data-text="This site is a living experiment, its design re-generated by AI daily.">This site is a living experiment, its design re-generated by AI daily.</p>
        </div>

        <div id="scroll-prompt">Scroll to begin the journey</div>

    </div>

    <!-- Fixed Footer -->
    <footer id="footer">
        <div>Design generated by a large language model.</div>
        <div>
            <span id="stopwatch-label">Time Since Genesis:</span>
            <span id="stopwatch">00:00:00</span>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Element References ---
            const world = document.getElementById('world');
            const character = document.getElementById('character');
            const introContainer = document.getElementById('intro-container');
            const scrollPrompt = document.getElementById('scroll-prompt');
            const bgFar = document.getElementById('bg-far');
            const bgMid = document.getElementById('bg-mid');

            const levels = document.querySelectorAll('.level');
            const worldWidth = world.scrollWidth;

            // --- Scroll Animation Control ---
            let scrollTimeout;
            let currentScrollY = window.scrollY;
            let previousScrollY = window.scrollY;

            function handleScroll() {
                currentScrollY = window.scrollY;
                const scrollableHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = currentScrollY / scrollableHeight;

                // 1. Move the world
                const walkDistance = worldWidth - window.innerWidth;
                world.style.transform = `translateX(-${scrollPercent * walkDistance}px)`;

                // 2. Parallax backgrounds
                bgFar.style.transform = `translateX(-${scrollPercent * 200}px)`;
                bgMid.style.transform = `translateX(-${scrollPercent * 500}px)`;

                // 3. Animate character on scroll
                // Only "walk" if scroll position has changed
                if (Math.abs(currentScrollY - previousScrollY) > 0.5) {
                    character.classList.add('is-walking');
                }
                
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    character.classList.remove('is-walking');
                }, 150);
                
                previousScrollY = currentScrollY;
                
                // 4. Fade out intro text
                const introOpacity = 1 - Math.min(scrollPercent * 10, 1);
                introContainer.style.opacity = introOpacity;
                scrollPrompt.style.opacity = introOpacity;
                
                // 5. Detect and show visible project boxes
                // Using a simpler method than IntersectionObserver for this scroll-based layout
                const charPositionOnScreen = window.innerWidth * 0.2; // Character is at 20vw
                const worldPosition = scrollPercent * walkDistance;
                
                levels.forEach(level => {
                   const levelStart = level.offsetLeft;
                   const levelEnd = levelStart + level.offsetWidth;
                   const levelCenter = levelStart + level.offsetWidth / 2;
                   
                   // Check if the level's center is near the character's position
                   const distanceToChar = Math.abs((worldPosition + charPositionOnScreen) - levelCenter);
                   
                   if(distanceToChar < (level.offsetWidth / 2)) {
                       level.setAttribute('data-visible', 'true');
                   } else {
                       level.setAttribute('data-visible', 'false');
                   }
                });
            }

            window.addEventListener('scroll', handleScroll, { passive: true });
            handleScroll(); // Initial call

            // --- Stopwatch Timer ---
            const stopwatchElement = document.getElementById('stopwatch');
            
            // The prompt requested '2025-09-28 01:08:13', but a past date is needed for 'Time Since'.
            // Using a plausible past date for demonstration purposes.
            const genesisDate = new Date('2024-05-28T01:08:13Z');

            function updateTimer() {
                const now = new Date();
                const diffMs = now - genesisDate;

                if (diffMs < 0) {
                    stopwatchElement.textContent = '00:00:00';
                    return;
                }

                let totalSeconds = Math.floor(diffMs / 1000);
                let hours = Math.floor(totalSeconds / 3600);
                totalSeconds %= 3600;
                let minutes = Math.floor(totalSeconds / 60);
                let seconds = totalSeconds % 60;
                
                // Forcing HH:MM:SS format even for huge hour counts
                hours = hours.toString().padStart(2, '0');
                minutes = minutes.toString().padStart(2, '0');
                seconds = seconds.toString().padStart(2, '0');

                stopwatchElement.textContent = `${hours}:${minutes}:${seconds}`;
            }

            setInterval(updateTimer, 1000);
            updateTimer(); // Initial call
        });
    </script>

<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250928",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>