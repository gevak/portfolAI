<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper - Portfolio OS</title>
    <style>
        /* --- FONTS & BASICS --- */
        @font-face {
            font-family: 'PixelSans';
            src: local('MS Sans Serif'), local('Arial'), sans-serif;
            /* In a real scenario, we'd load a woff2 pixel font. 
               Using system fonts with specific rendering settings for now. */
        }

        :root {
            --win-teal: #008080;
            --win-gray: #C0C0C0;
            --win-dark: #808080;
            --win-black: #000000;
            --win-white: #FFFFFF;
            --win-blue: #000080;
            --header-h: 28px;
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-font-smoothing: none;
        }

        body {
            background-color: var(--win-teal);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Fallback */
            font-family: 'PixelSans', sans-serif; 
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            cursor: default;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 16px; background: var(--win-gray); }
        ::-webkit-scrollbar-button { background: var(--win-gray); border: 2px outset white; height: 16px; }
        ::-webkit-scrollbar-track { background: url('data:image/svg+xml;utf8,<svg width="2" height="2" viewBox="0 0 2 2" xmlns="http://www.w3.org/2000/svg"><rect fill="%23FFFFFF" x="0" y="0" width="1" height="1"/><rect fill="%23C0C0C0" x="1" y="0" width="1" height="1"/><rect fill="%23C0C0C0" x="0" y="1" width="1" height="1"/><rect fill="%23FFFFFF" x="1" y="1" width="1" height="1"/></svg>'); }
        ::-webkit-scrollbar-thumb { background: var(--win-gray); border: 2px outset white; }

        /* --- UTILS --- */
        .w95-border-outset {
            border-top: 2px solid var(--win-white);
            border-left: 2px solid var(--win-white);
            border-right: 2px solid var(--win-black);
            border-bottom: 2px solid var(--win-black);
            box-shadow: 1px 1px 0 var(--win-dark) inset, -1px -1px 0 var(--win-gray) inset;
        }

        .w95-border-inset {
            border-top: 2px solid var(--win-dark);
            border-left: 2px solid var(--win-dark);
            border-right: 2px solid var(--win-white);
            border-bottom: 2px solid var(--win-white);
            box-shadow: 1px 1px 0 var(--win-black) inset, -1px -1px 0 var(--win-gray) inset;
        }

        .btn {
            background: var(--win-gray);
            border: none;
            outline: none;
            padding: 4px 8px;
            font-family: inherit;
            font-size: 13px;
            cursor: pointer;
        }
        .btn:active {
            border-top: 2px solid var(--win-black);
            border-left: 2px solid var(--win-black);
            border-right: 2px solid var(--win-white);
            border-bottom: 2px solid var(--win-white);
        }

        /* --- BIOS SCREEN --- */
        #bios {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            color: #ccc;
            font-family: 'Courier New', monospace;
            z-index: 9999;
            padding: 20px;
            font-size: 14px;
            display: flex;
            flex-direction: column;
        }

        /* --- DESKTOP ICONS --- */
        #desktop {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 35px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 20px;
        }

        .desktop-icon {
            width: 80px;
            text-align: center;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            text-shadow: 1px 1px 0 #000;
            margin-bottom: 10px;
        }
        
        .desktop-icon img {
            width: 32px;
            height: 32px;
            margin-bottom: 4px;
            image-rendering: pixelated;
        }

        .desktop-icon span {
            font-size: 12px;
            padding: 2px;
            border: 1px dotted transparent;
        }

        .desktop-icon:active span, .desktop-icon.selected span {
            background-color: var(--win-blue);
            border: 1px dotted yellow;
        }

        /* --- WINDOWS SYSTEM --- */
        .window {
            position: absolute;
            background: var(--win-gray);
            padding: 2px;
            display: flex;
            flex-direction: column;
            min-width: 200px;
            min-height: 100px;
            box-shadow: 4px 4px 10px rgba(0,0,0,0.4);
        }
        /* Focus State for Z-Index */
        .window.active { z-index: 100; }
        
        .title-bar {
            background: var(--win-blue);
            color: white;
            padding: 3px 4px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: var(--header-h);
            font-size: 13px;
            font-weight: bold;
            cursor: pointer; /* Drag handle */
        }
        /* Inactive Window Title */
        .window:not(.active) .title-bar {
            background: var(--win-dark);
            color: #ccc;
        }

        .title-bar-text {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .title-bar-text img { width: 16px; height: 16px; }

        .title-bar-controls {
            display: flex;
            gap: 2px;
        }
        
        .win-btn {
            width: 16px;
            height: 14px;
            background: var(--win-gray);
            color: black;
            font-size: 9px;
            line-height: 11px;
            text-align: center;
            font-weight: bold;
            border-top: 1px solid white;
            border-left: 1px solid white;
            border-right: 1px solid black;
            border-bottom: 1px solid black;
        }
        .win-btn:active {
            border-top: 1px solid black;
            border-left: 1px solid black;
            border-right: 1px solid white;
            border-bottom: 1px solid white;
        }

        .window-body {
            flex-grow: 1;
            margin-top: 2px;
            overflow: auto;
            position: relative;
        }

        /* --- SPECIFIC WINDOW STYLES --- */
        
        /* Bio Window */
        .bio-content {
            display: flex;
            padding: 20px;
            align-items: flex-start;
            gap: 20px;
            font-size: 14px;
        }
        .avatar {
            width: 80px;
            height: 80px;
            background: #000;
            border: 2px solid #808080;
            image-rendering: pixelated;
        }
        .bio-text h2 { margin: 0 0 5px 0; font-size: 18px; }
        .bio-text p { margin: 0; color: #444; }

        /* Notepad (Log) */
        .notepad-area {
            width: 100%;
            height: 100%;
            border: none;
            resize: none;
            background: white;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            padding: 5px;
            outline: none;
        }

        /* Projects Explorer */
        .explorer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 15px;
            padding: 10px;
            background: white;
            height: 100%;
        }
        .explorer-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            color: black;
        }
        .explorer-item:hover span { background: var(--win-blue); color: white; }
        .explorer-item img { width: 32px; height: 32px; margin-bottom: 4px; }
        .explorer-item span { font-size: 11px; padding: 2px; }

        /* Media Player (GlglStats) */
        .media-player { background: #E0E0E0; height: 100%; display: flex; flex-direction: column; }
        .video-screen { background: black; height: 200px; margin: 10px; border: 2px inset white; position: relative;}
        .video-screen iframe { width: 100%; height: 100%; border: none; }
        .mp-controls { display: flex; gap: 5px; padding: 0 10px; }
        .mp-text { padding: 10px; font-size: 12px; }

        /* Excel (Ahuzat) */
        .excel-grid { background: #fff; width: 100%; height: 100%; display: flex; flex-direction: column; overflow: hidden; }
        .excel-bar { background: #E0E0E0; padding: 2px; border-bottom: 1px solid #808080; font-size: 11px;}
        .sheet-body { padding: 10px; overflow: auto; flex: 1; }
        .heatmap-placeholder {
            width: 100%; height: 150px; 
            background: linear-gradient(45deg, red, yellow, green);
            border: 1px solid #000;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: white; text-shadow: 1px 1px black;
        }
        .excel-links { display: flex; gap: 10px; padding: 10px; background: #E0E0E0;}

        /* CMD (2D Part) */
        .cmd-body { background: black; color: #0f0; font-family: monospace; padding: 10px; height: 100%; }
        .polygon {
            width: 50px; height: 50px; border: 2px solid #0f0;
            margin: 20px auto;
            transform: rotate(45deg);
            animation: spin 4s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(405deg); } }

        /* Jest Arena */
        .jest-body { background: #FFF8E7; padding: 15px; height: 100%; font-family: 'Comic Sans MS', cursive, sans-serif; text-align: center; }
        .chat-bubbles { text-align: left; margin-bottom: 20px;}
        .bubble { background: white; border: 2px solid black; border-radius: 10px; padding: 5px; margin: 5px; display: inline-block;}

        /* Browser (Rhymes) */
        .browser-chrome { background: var(--win-gray); padding: 5px; border-bottom: 2px groove white;}
        .browser-content { background: white; padding: 20px; text-align: center; height: 100%;}
        
        /* Recursion */
        .recursion-body { background: var(--win-teal); height: 100%; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;}
        .mirror {
            width: 70%; height: 70%; background: var(--win-gray);
            border: 2px outset white;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
            position: relative;
        }

        /* --- TASKBAR --- */
        #taskbar {
            position: absolute;
            bottom: 0; left: 0; right: 0; height: 35px;
            background: var(--win-gray);
            display: flex;
            align-items: center;
            padding: 3px;
            z-index: 9000;
        }

        #start-btn {
            display: flex;
            align-items: center;
            gap: 4px;
            font-weight: bold;
            font-style: italic;
            padding: 3px 6px;
            margin-right: 10px;
        }
        #start-btn img { width: 18px; }

        #start-menu {
            position: absolute;
            bottom: 37px; left: 3px;
            width: 150px;
            background: var(--win-gray);
            z-index: 9999;
            display: none;
            padding: 2px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
        }
        .start-item {
            padding: 8px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }
        .start-item:hover { background: var(--win-blue); color: white; }

        #task-list {
            flex-grow: 1;
            display: flex;
            gap: 4px;
            overflow: hidden;
            padding-right: 10px;
        }
        .task-btn {
            width: 140px;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 2px 5px;
        }
        .task-btn.active {
            background: #eee; /* Dithered look approx */
            border-top: 2px solid black;
            border-left: 2px solid black;
            border-right: 2px solid white;
            border-bottom: 2px solid white;
            font-weight: bold;
        }

        #tray {
            width: 280px;
            height: 100%;
            padding: 2px 5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 11px;
            font-family: inherit;
        }

        #marquee {
            width: 160px;
            overflow: hidden;
            white-space: nowrap;
            margin-right: 5px;
        }
        #marquee span {
            display: inline-block;
            animation: marquee 8s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translate(160px, 0); }
            100% { transform: translate(-100%, 0); }
        }

        #clock {
            width: 100px;
            text-align: center;
        }

        /* SVG Icons Constants (Classes) */
        .icon { width: 32px; height: 32px; }
        .icon-sm { width: 16px; height: 16px; }

        /* Draggable overlap fix for Iframes */
        .drag-overlay {
            position: absolute; top:0; left:0; width:100%; height:100%; 
            display: none; z-index: 999;
        }
        .window.dragging .drag-overlay { display: block; }
        
        a { color: var(--win-blue); }
    </style>
</head>
<body>

    <!-- BIOS BOOT SEQUENCE -->
    <div id="bios">
        <div>Award Modular BIOS v4.51PG, An Energy Star Ally</div>
        <div style="margin-top: 10px;">Copyright (C) 1984-95, Geva Kipper Corp.</div>
        <div style="margin-top: 20px;">PENTIUM-II CPU at 400MHz</div>
        <div style="margin: 5px 0;">Memory Test: <span id="mem-test">0</span>K OK</div>
        <br>
        <div id="bios-details" style="display:none;">
            Detecting HDD Primary Master ... QUANTUM FIREBALL<br>
            Detecting HDD Primary Slave ... None<br>
            Detecting CD-ROM ... ATAPI CD-ROM<br>
            <br>
            Initializing Portfolio OS... <span class="blink">_</span>
        </div>
    </div>

    <!-- MAIN DESKTOP -->
    <div id="desktop">
        <!-- Icons populated by JS -->
    </div>

    <!-- WINDOWS CONTAINER -->
    <div id="window-area">
        <!-- Rendered Windows go here -->
    </div>

    <!-- TASKBAR -->
    <div id="start-menu" class="w95-border-outset">
        <div class="side-strip" style="position:absolute; left:0; top:0; bottom:0; width: 20px; background:#808080; color:#C0C0C0; writing-mode: vertical-rl; text-align:center; transform: rotate(180deg); font-weight:bold; font-size:16px;">GEVAOS 95</div>
        <div style="margin-left: 25px;">
             <div class="start-item" onclick="window.location.reload()">
                <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'><path d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z'/><path d='M11 6h2v6h-2zm0 8h2v2h-2z'/></svg>" width="24" height="24">
                Shut Down...
            </div>
        </div>
    </div>

    <div id="taskbar" class="w95-border-outset">
        <button id="start-btn" class="w95-border-outset btn" onclick="toggleStart()">
            <img src="https://win98icons.alexmeub.com/icons/png/windows-0.png" alt="logo">
            Start
        </button>
        <div class="w95-border-inset" style="height: 2px; width: 2px; margin: 0 5px;"></div>
        
        <div id="task-list">
            <!-- Task buttons -->
        </div>

        <div id="tray" class="w95-border-inset">
            <div id="marquee"><span>Site generated by AI Model</span></div>
            <div id="clock">00:00:00</div>
        </div>
    </div>

    <script>
        // --- ASSETS (ICONS) ---
        // Using external sources for authentic look (or placeholders) to keep code relatively clean, 
        // but can be replaced with SVG paths. Using win98icons.alexmeub.com for easy replication of style.
        const ICONS = {
            my_computer: "https://win98icons.alexmeub.com/icons/png/computer_explorer-0.png",
            folder: "https://win98icons.alexmeub.com/icons/png/directory_open-0.png",
            text_file: "https://win98icons.alexmeub.com/icons/png/notepad-0.png",
            media: "https://win98icons.alexmeub.com/icons/png/media_player_stream_no2-1.png",
            excel: "https://win98icons.alexmeub.com/icons/png/excel-0.png",
            cmd: "https://win98icons.alexmeub.com/icons/png/console_prompt-0.png",
            game: "https://win98icons.alexmeub.com/icons/png/game_solitaire-0.png",
            net: "https://win98icons.alexmeub.com/icons/png/world-0.png",
            network: "https://win98icons.alexmeub.com/icons/png/network_neighborhood-0.png",
            github: "https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",
            linkedin: "https://cdn-icons-png.flaticon.com/512/174/174857.png",
            facebook: "https://upload.wikimedia.org/wikipedia/commons/6/6c/Facebook_Logo_2023.png",
            bio: "https://win98icons.alexmeub.com/icons/png/computer_explorer-4.png", // Using as generic system icon
        };
        
        // --- DATA ---
        const projects = [
            { id: 'glglstats', title: 'GlglStats', icon: ICONS.media, type: 'app_media' },
            { id: 'ahuzat', title: 'Ahuzat Dibuk', icon: ICONS.excel, type: 'app_excel' },
            { id: '2dpart', title: '2D Part Orienting', icon: ICONS.cmd, type: 'app_cmd' },
            { id: 'turing', title: 'The Turing Jest', icon: ICONS.game, type: 'app_game' },
            { id: 'rhymes', title: 'Rhymes of Israel', icon: ICONS.net, type: 'app_browser' },
            { id: 'meta', title: 'Portfolio (Meta)', icon: ICONS.my_computer, type: 'app_meta' }
        ];

        const desktopIconsData = [
            { label: "My Computer", icon: ICONS.my_computer, action: "open_projects" },
            { label: "Network Neighborhood", icon: ICONS.network, action: "open_socials" },
            { label: "Recycle Bin", icon: "https://win98icons.alexmeub.com/icons/png/recycle_bin_empty-4.png", action: "alert_trash" },
            { label: "Projects", icon: ICONS.folder, action: "open_projects" }
        ];

        // --- STATE ---
        let windows = []; // { id, title, icon, contentHtml, x, y, z, minimized, width, height }
        let zCounter = 100;
        let draggedWindow = null;
        let dragOffset = { x:0, y:0 };

        // --- DOM ELEMENTS ---
        const desktopObj = document.getElementById('desktop');
        const windowArea = document.getElementById('window-area');
        const taskList = document.getElementById('task-list');
        const clockEl = document.getElementById('clock');
        const memTest = document.getElementById('mem-test');
        const startMenu = document.getElementById('start-menu');

        // --- BOOT SEQUENCE ---
        function runBios() {
            let mem = 0;
            const limit = 64000; // 64MB representation
            const interval = setInterval(() => {
                mem += 1234;
                if(mem >= limit) {
                    mem = limit;
                    clearInterval(interval);
                    memTest.innerText = mem;
                    setTimeout(() => {
                        document.getElementById('bios-details').style.display = 'block';
                        setTimeout(() => {
                            document.getElementById('bios').style.display = 'none';
                            initDesktop();
                        }, 1500);
                    }, 500);
                } else {
                    memTest.innerText = mem;
                }
            }, 10);
        }

        // --- INITIALIZATION ---
        function initDesktop() {
            // Render Desktop Icons
            desktopIconsData.forEach((item, idx) => {
                const el = document.createElement('div');
                el.className = 'desktop-icon';
                el.style.top = `${10 + (Math.floor(idx/3)*90)}px`; // Simple grid positioning logic
                el.style.left = `${10 + ((idx%3)*90)}px`;
                el.innerHTML = `<img src="${item.icon}"><span>${item.label}</span>`;
                el.ondblclick = () => handleIconAction(item.action);
                
                // Classic click-to-focus
                el.onclick = (e) => {
                    document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
                    el.classList.add('selected');
                    e.stopPropagation();
                }
                
                // Allow Dragging Icons (Simplified - just visual absolute adjustment)
                makeDraggable(el, true);
                desktopObj.appendChild(el);
            });

            document.body.onclick = () => {
                document.querySelectorAll('.desktop-icon').forEach(i => i.classList.remove('selected'));
                startMenu.style.display = 'none';
            };

            // Open Default Windows
            openWindow('welcome', 'Welcome to GevaOS', ICONS.bio, getHtml('welcome'), 80, 50, 400, 300);
            openWindow('log', 'daily_log.txt - Notepad', ICONS.text_file, getHtml('log'), 500, 100, 300, 200);
            openWindow('explorer', 'Projects', ICONS.folder, getHtml('explorer'), 150, 400, 450, 300);

            startClock();
        }

        function handleIconAction(action) {
            if(action === 'open_projects') {
                if(windows.find(w => w.id === 'explorer')) focusWindow('explorer');
                else openWindow('explorer', 'Projects', ICONS.folder, getHtml('explorer'), 150, 150, 450, 300);
            }
            if(action === 'open_socials') {
                 if(windows.find(w => w.id === 'socials')) focusWindow('socials');
                else openWindow('socials', 'Network Neighborhood', ICONS.network, getHtml('socials'), 200, 200, 400, 250);
            }
            if(action === 'alert_trash') {
                alert("Access Denied: The Trash is managed by the AI Garbage Collector.");
            }
        }

        // --- CONTENT GENERATION ---
        function getHtml(type, extra) {
            switch(type) {
                case 'welcome':
                    return `
                        <div class="bio-content">
                            <img class="avatar" src="https://robohash.org/GevaKipper?set=set4" alt="Geva">
                            <div class="bio-text">
                                <h2>Geva Kipper</h2>
                                <p>Software Engineer at Google.</p>
                                <br>
                                <p>System: GevaOS 95</p>
                                <p>Registered to: User</p>
                                <button class="btn w95-border-outset" style="margin-top:10px;" onclick="window.open('https://geekip.dev', '_blank')">Visit geekip.dev</button>
                            </div>
                        </div>
                    `;
                case 'log':
                    return `<textarea class="notepad-area" readonly>This website is re-designed each day by AI and is thus ever-changing.

// AUTOMATED LOG ENTRY
// SYSTEM STATUS: OPTIMAL
// USER: AUTHENTICATED</textarea>`;
                case 'explorer':
                    const items = projects.map(p => 
                        `<div class="explorer-item" ondblclick="openApp('${p.id}')">
                            <img src="${p.icon}">
                            <span>${p.title}</span>
                         </div>`
                    ).join('');
                    return `<div class="explorer-grid w95-border-inset">${items}</div>`;
                case 'socials':
                    return `
                        <div class="explorer-grid w95-border-inset">
                             <div class="explorer-item" onclick="window.open('https://github.com/gevak', '_blank')">
                                <img src="${ICONS.github}" style="filter: grayscale(100%);">
                                <span>GitHub (D:)</span>
                             </div>
                             <div class="explorer-item" onclick="window.open('https://linkedin.com/in/gevakip', '_blank')">
                                <img src="${ICONS.linkedin}" style="filter: grayscale(100%);">
                                <span>LinkedIn (E:)</span>
                             </div>
                             <div class="explorer-item" onclick="window.open('https://facebook.com/geva.kipper', '_blank')">
                                <img src="${ICONS.facebook}" style="filter: grayscale(100%);">
                                <span>Facebook (F:)</span>
                             </div>
                        </div>
                    `;
                // PROJECT APPS
                case 'app_media': // GlglStats
                    return `
                        <div class="media-player">
                            <div class="video-screen">
                                <iframe src="https://www.youtube.com/embed/jrKAtOsj1Lo" title="GlglStats" allowfullscreen></iframe>
                            </div>
                            <div class="mp-controls w95-border-outset">
                                <button class="btn">Play</button><button class="btn">Stop</button>
                            </div>
                            <div class="mp-text">
                                <p><strong>GlglStats:</strong> Python/LZ77 algorithm analysis presented at PyData.</p>
                                <button class="btn w95-border-outset" onclick="window.open('https://glglstats.geekip.dev','_blank')">Launch App</button>
                            </div>
                        </div>`;
                case 'app_excel': // Ahuzat Dibuk
                    return `
                        <div class="excel-grid">
                            <div class="excel-bar">A1: Parking Heatmap</div>
                            <div class="sheet-body w95-border-inset">
                                <div class="heatmap-placeholder">PARKING DENSITY MAP<br>(Scraping 13TV/Mako)</div>
                                <p style="padding:5px; font-size:12px;">Visualizing parking availability via data scraping.</p>
                            </div>
                            <div class="excel-links">
                                <button class="btn w95-border-outset" onclick="window.open('https://13tv.co.il/item/news/domestic/internal/parking-902956407/', '_blank')">13TV</button>
                                <button class="btn w95-border-outset" onclick="window.open('https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm', '_blank')">Mako</button>
                                <button class="btn w95-border-outset" onclick="window.open('https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943', '_blank')">Facebook</button>
                            </div>
                        </div>`;
                case 'app_cmd': // 2D Part
                    return `
                        <div class="cmd-body" onclick="focusWindow(this.closest('.window').id)">
                            C:\\> run orientation_algo.cpp<br>
                            Initializing C++ Computational Geometry...<br>
                            Calculating hulls... Done.<br>
                            <div class="polygon"></div>
                            <br>
                            <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" style="color:#0f0;">[View Project Information]</a>
                            <br>
                            C:\\> _
                        </div>`;
                case 'app_game': // Turing Jest
                    return `
                        <div class="jest-body">
                            <h3>The Turing Jest</h3>
                            <div class="chat-bubbles">
                                <div class="bubble">System: Welcome to the Pun Arena.</div>
                                <div class="bubble">AI: Prepare to laugh.</div>
                            </div>
                            <button class="btn w95-border-outset" style="font-weight:bold; padding:10px;" onclick="window.open('https://jest.geekip.dev','_blank')">Enter the Arena</button>
                        </div>`;
                case 'app_browser': // Rhymes
                    return `
                        <div class="browser-chrome">
                            <span>Address:</span> <input type="text" value="chrome://extensions" readonly style="width:70%;">
                        </div>
                        <div class="browser-content">
                            <h1>Rhymes of Israel</h1>
                            <p>An extension to find rhymes instantly.</p>
                            <br>
                            <button class="btn w95-border-outset" onclick="window.open('https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb','_blank')">Download from Store</button>
                        </div>`;
                case 'app_meta': // Recursion
                    return `
                        <div class="recursion-body">
                            <div class="mirror">
                                <div class="mirror" style="width:50%; height:50%;">
                                    <div class="mirror" style="width:40%; height:40%;">
                                        <div style="color:white; font-size:10px;">...</div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn w95-border-outset" style="position:absolute; bottom:10px;" onclick="window.open('https://geekip.dev','_blank')">Refresh Recursion</button>
                        </div>`;
            }
        }

        function openApp(id) {
            const p = projects.find(x => x.id === id);
            if(!p) return;
            
            // Check if open
            if(windows.find(w => w.id === id)) {
                focusWindow(id);
                return;
            }

            openWindow(id, p.title, p.icon, getHtml(p.type), 100 + (Math.random()*50), 100 + (Math.random()*50), 500, 350);
        }

        // --- WINDOW MANAGER ---
        function openWindow(id, title, icon, content, x, y, w, h) {
            const el = document.createElement('div');
            el.className = 'window w95-border-outset';
            el.id = 'win-' + id;
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            el.style.width = w + 'px';
            el.style.height = h + 'px';
            el.style.zIndex = ++zCounter;

            el.innerHTML = `
                <div class="title-bar" onmousedown="startDrag(event, '${id}')">
                    <div class="title-bar-text"><img src="${icon}"> ${title}</div>
                    <div class="title-bar-controls">
                        <div class="win-btn" onclick="minimizeWindow('${id}')">_</div>
                        <div class="win-btn" onclick="maximizeWindow('${id}')">?</div> <!-- Maximize not fully impl in this snippet, mostly visual -->
                        <div class="win-btn" onclick="closeWindow('${id}')">X</div>
                    </div>
                </div>
                <div class="window-body">
                    <div class="drag-overlay"></div>
                    ${content}
                </div>
            `;

            el.onmousedown = () => focusWindow(id);
            windowArea.appendChild(el);

            windows.push({ id, title, icon, el, minimized: false });
            updateTaskbar();
            focusWindow(id);
        }

        function closeWindow(id) {
            const idx = windows.findIndex(w => w.id === id);
            if(idx > -1) {
                windows[idx].el.remove();
                windows.splice(idx, 1);
                updateTaskbar();
            }
        }

        function minimizeWindow(id) {
            const w = windows.find(x => x.id === id);
            if(w) {
                w.el.style.display = 'none';
                w.minimized = true;
                updateTaskbar();
            }
        }

        function focusWindow(id) {
            const w = windows.find(x => x.id === id);
            if(w) {
                if(w.minimized) {
                    w.el.style.display = 'flex';
                    w.minimized = false;
                }
                w.el.style.zIndex = ++zCounter;
                // Update CSS classes
                document.querySelectorAll('.window').forEach(win => win.classList.remove('active'));
                w.el.classList.add('active');
                updateTaskbar();
            }
        }

        function maximizeWindow(id) {
            const w = windows.find(x => x.id === id);
            if(w) {
                if (w.el.style.width === '100%') {
                   // Restore (rough logic)
                   w.el.style.width = '400px'; 
                   w.el.style.height = '300px';
                   w.el.style.top = '100px';
                   w.el.style.left = '100px';
                } else {
                    w.el.style.top = '0';
                    w.el.style.left = '0';
                    w.el.style.width = '100%';
                    w.el.style.height = 'calc(100vh - 35px)';
                }
                focusWindow(id);
            }
        }

        function updateTaskbar() {
            taskList.innerHTML = '';
            windows.forEach(w => {
                const btn = document.createElement('button');
                const isActive = w.el.classList.contains('active') && !w.minimized;
                btn.className = `task-btn w95-border-${isActive ? 'inset active' : 'outset'}`;
                btn.innerHTML = `<img src="${w.icon}" class="icon-sm"> ${w.title}`;
                btn.onclick = () => focusWindow(w.id);
                taskList.appendChild(btn);
            });
        }

        // --- TASKBAR SYSTEM ---
        function toggleStart() {
            const menu = document.getElementById('start-menu');
            const btn = document.getElementById('start-btn');
            if(menu.style.display === 'block') {
                menu.style.display = 'none';
                btn.classList.add('w95-border-outset');
                btn.classList.remove('w95-border-inset');
            } else {
                menu.style.display = 'block';
                btn.classList.add('w95-border-inset');
                btn.classList.remove('w95-border-outset');
            }
        }

        // --- DRAG SYSTEM ---
        function makeDraggable(el, isIcon) {
            // Simplified drag for icons
            let isDragging = false;
            let startX, startY, initialLeft, initialTop;
            
            el.addEventListener('mousedown', (e) => {
                if(e.button !== 0) return; // Only left click
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                initialLeft = el.offsetLeft;
                initialTop = el.offsetTop;
                el.style.position = 'absolute'; // Ensure absolute
            });

            window.addEventListener('mousemove', (e) => {
                if(!isDragging) return;
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                el.style.left = `${initialLeft + dx}px`;
                el.style.top = `${initialTop + dy}px`;
            });

            window.addEventListener('mouseup', () => {
                isDragging = false;
            });
        }

        // Window dragging specific logic
        function startDrag(e, id) {
            e.preventDefault();
            const w = windows.find(x => x.id === id);
            focusWindow(id); // Bring to front
            draggedWindow = w.el;
            draggedWindow.classList.add('dragging'); // Enables overlay to fix iframe stealing mouse
            dragOffset.x = e.clientX - draggedWindow.offsetLeft;
            dragOffset.y = e.clientY - draggedWindow.offsetTop;
            document.body.style.cursor = 'move';
        }

        window.addEventListener('mousemove', (e) => {
            if (draggedWindow) {
                // Bounds checking
                let newX = e.clientX - dragOffset.x;
                let newY = e.clientY - dragOffset.y;
                
                // Keep minimal visibility
                if(newY < 0) newY = 0;
                draggedWindow.style.left = newX + 'px';
                draggedWindow.style.top = newY + 'px';
            }
        });

        window.addEventListener('mouseup', () => {
            if(draggedWindow) {
                draggedWindow.classList.remove('dragging');
                draggedWindow = null;
                document.body.style.cursor = 'default';
            }
        });

        // --- CLOCK ---
        function startClock() {
            // Target: 2026-01-13 01:09:58
            const target = new Date('2026-01-13T01:09:58').getTime();

            setInterval(() => {
                const now = new Date().getTime();
                const diff = now - target;
                const absDiff = Math.abs(diff);

                const hours = Math.floor(absDiff / (1000 * 60 * 60));
                const minutes = Math.floor((absDiff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((absDiff % (1000 * 60)) / 1000);

                const prefix = diff < 0 ? "-" : "+";
                
                // Formatting to maintain width
                const h = String(hours).padStart(2, '0');
                const m = String(minutes).padStart(2, '0');
                const s = String(seconds).padStart(2, '0');

                clockEl.innerText = `${prefix}${h}:${m}:${s}`;
            }, 1000);
        }

        // Run
        runBios();
    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20260113",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>