<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper - The Coder's Quest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-glow: #00ffff;
            --secondary-glow: #ff00ff;
            --text-color: #ffffff;
            --bg-color: #0c0c14;
            --dialog-bg: rgba(0, 0, 0, 0.75);
            --font-pixel: 'Press Start 2P', cursive;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-pixel);
            /* This height drives the scrolling */
            height: 1200vh;
        }

        /* The main "game" canvas */
        #world-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            z-index: 1;
        }

        /* --- Parallax Background --- */
        .parallax-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-repeat: repeat;
            transition: transform 0.2s ease-out;
        }
        
        #stars-far {
            background-image: radial-gradient(1px 1px at 25px 25px, white, transparent),
                              radial-gradient(1px 1px at 75px 75px, white, transparent);
            background-size: 100px 100px;
            opacity: 0.6;
        }

        #stars-near {
            background-image: radial-gradient(1.5px 1.5px at 50px 100px, white, transparent),
                              radial-gradient(1.5px 1.5px at 150px 20px, white, transparent);
            background-size: 200px 120px;
            opacity: 0.8;
        }
        
        #moon {
            position: absolute;
            top: 10%;
            right: 15%;
            width: 80px;
            height: 80px;
            background-color: #f0f0f0;
            border-radius: 50%;
            box-shadow: 0 0 40px 10px #ffffff,
                        0 0 80px 20px #aaccff;
            transition: transform 0.2s ease-out;
        }

        #forest-bg {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, #1a1a2e 0%, transparent 80%);
            opacity: 0;
            transition: opacity 2s ease-in-out;
        }

        /* --- Path --- */
        #path-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: translateY(-10%);
        }

        #path-visual {
            stroke: #333;
            stroke-width: 80;
            stroke-linecap: round;
            fill: none;
            filter: drop-shadow(0 0 10px #222);
        }

        /* --- Player Character --- */
        #player {
            position: absolute;
            width: 32px;
            height: 48px;
            /* Base64 encoded sprite sheet. 4 directions (rows), 4 frames of animation (cols). */
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAADACAYAAADDPmHLAAAB7ElEQVR4nO3d4W7CMAwAUf7/07tDqkVEAYtE4XyUmoHkzLEkAkmgSPp5vV5/fhgA4D8DQEBAQADyBAQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBECAgIAgAQEBAQJERgQEBDC/wGzH9j8hcz/G/JvW24OAN/P/N+SfRtzcwD4Qp4W4wJ/I/N/S/ZtzM0B4At5Wo2L/I3M/y3ZtzE3B4Av5Gk1L/I3Mv+3ZN/G3BwAvo+n1bzI38j835J9G3NzAPhGnlbjIv8jc/9L9m3MvQHgL+RpNS7yNzL/t2TfxrQ5AHw5T6txkb+R+b8l+zbGzQHgq3la/Yn8jcz/Ldm3MTcHgG/laTUn8jcy/7dk38bcHAB+D/dO8h9q8s8P+dO7zdwcAD6Bp9W4yN/I/N+SfRvzcwD4Qp5W4yJ/I/N/S/ZtzM0B4At5Wo2L/I3M/y3ZtzE3B4Av5Gk1L/I3Mv+3ZN/G3BwAvpGn1bjI38j835J9G3NzAPhaXuL+RP5I5v+W7NuYuQHgU3la/Yv8jcz/Ldm3MTcHgG/kaTUn8jcy/7dk38bcHAB+nKc1P5G/kfm/Jfs25uYA8OU8rcZF/kbm/5bs25ibA8CX8rQaF/kbmf9bsm9jbg4A/zcPAGAgICAgQICAgCAJAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBAgIjAgICBAgICJIAEBCAgMDICAiQICAgIECAgAghAQEBg/gD98wO18q14JgAAAABJRU5ErkJggg==');
            background-repeat: no-repeat;
            transform: scale(2.5);
            transition: left 0.1s linear, top 0.1s linear;
            z-index: 10;
        }

        /* --- UI Elements --- */
        .scroll-trigger {
            height: 150vh; /* Determines space between projects */
        }
        #header-trigger { height: 100vh; }
        #footer-trigger { height: 200vh; }

        .poi { /* Point of Interest */
            position: absolute;
            z-index: 5;
            transform: translate(-50%, -50%);
        }

        .dialogue-box {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            max-width: 800px;
            background: var(--dialog-bg);
            border: 3px solid var(--primary-glow);
            border-radius: 8px;
            padding: 2em;
            box-shadow: 0 0 20px var(--primary-glow);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s, visibility 0.5s;
            z-index: 20;
        }

        .dialogue-box.visible {
            opacity: 1;
            visibility: visible;
        }

        .dialogue-box h3 {
            font-size: 1.5em;
            color: var(--secondary-glow);
            text-shadow: 0 0 5px var(--secondary-glow);
            margin-bottom: 1em;
        }

        .dialogue-box p {
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 1.5em;
        }

        .dialogue-actions {
            display: flex;
            gap: 1em;
            flex-wrap: wrap;
        }
        
        .dialogue-actions a {
            text-decoration: none;
            color: var(--text-color);
            background: #333;
            padding: 0.8em 1.2em;
            font-family: var(--font-pixel);
            font-size: 0.9em;
            border: 2px solid var(--primary-glow);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .dialogue-actions a:hover {
            background: var(--primary-glow);
            color: var(--bg-color);
            box-shadow: 0 0 15px var(--primary-glow);
            transform: translateY(-2px);
        }

        /* --- Header Section --- */
        #header-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            width: 100%;
            z-index: 15;
            padding: 20px;
        }

        #header-content h1 {
            font-size: clamp(2.5rem, 6vw, 5rem);
            color: var(--text-color);
            text-shadow: 0 0 10px #fff, 0 0 20px var(--primary-glow), 0 0 30px var(--primary-glow);
            margin-bottom: 0.2em;
        }

        #header-content h2 {
            font-size: clamp(1rem, 2vw, 1.2rem);
            color: #ddd;
            text-shadow: 0 0 5px #000;
            margin-bottom: 2em;
        }

        #system-message-box {
            display: inline-block;
            background: var(--dialog-bg);
            border: 2px solid #555;
            padding: 1em 1.5em;
            border-radius: 4px;
            font-size: 0.9em;
            margin-bottom: 3em;
        }

        #system-message-text {
            white-space: pre;
        }

        #system-message-box .cursor {
            display: inline-block;
            width: 0.5em;
            height: 1em;
            background: var(--text-color);
            animation: blink 1s step-end infinite;
            vertical-align: bottom;
        }
        
        @keyframes blink {
            50% { opacity: 0; }
        }

        #scroll-prompt {
            font-size: 0.8em;
            animation: pulse 2s infinite;
        }

        #scroll-prompt .arrow {
            display: block;
            font-size: 2em;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.95); }
        }
        
        #floating-platform {
            position: absolute;
            top: calc(50% + 50px); /* Position under the name */
            left: 50%;
            transform: translateX(-50%);
            width: 250px;
            height: 60px;
            background: #4a4a4a;
            border-radius: 50% / 80%;
            border-bottom: 10px solid #333;
            box-shadow: 0 20px 30px rgba(0,0,0,0.5);
        }
        
         #floating-platform::before { /* Moss */
            content: '';
            position: absolute;
            top: -5px;
            left: 20%;
            width: 60%;
            height: 20px;
            background: #4a6a4a;
            border-radius: 50%;
             filter: blur(2px);
        }


        /* --- POI Specific Styles --- */
        #poi-glglstats { /* Gramophone */
            width: 60px;
            height: 60px;
        }
        #poi-glglstats .base { width: 100%; height: 30%; background: #654321; border-radius: 5px; position: absolute; bottom: 0;}
        #poi-glglstats .platter { width: 80%; height: 10%; background: #333; border: 2px solid #555; border-radius: 50%; position: absolute; top: 55%; left: 10%;}
        #poi-glglstats .horn { width: 50px; height: 50px; background: #ffd700; border-radius: 50% 50% 0 0; position: absolute; left: 5px; top: 0; clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);}
        #poi-glglstats .notes { position: absolute; top: -20px; left: 20px; font-size: 20px; animation: float-notes 3s infinite ease-in-out; text-shadow: 0 0 10px var(--secondary-glow); color: var(--secondary-glow); }
        @keyframes float-notes { 0% {transform: translateY(0) scale(1); opacity: 1;} 100% {transform: translateY(-40px) scale(1.5); opacity: 0;}}

        #poi-ahuzat { /* Holographic Map */
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(0,255,255,0.4) 0%, rgba(0,255,255,0) 70%);
            animation: pulse 3s infinite;
        }
        #poi-ahuzat::before, #poi-ahuzat::after { content: ''; position: absolute; background: var(--primary-glow); box-shadow: 0 0 5px var(--primary-glow); }
        #poi-ahuzat::before { width: 80%; height: 2px; top: 30%; left: 10%; }
        #poi-ahuzat::after { width: 2px; height: 80%; top: 10%; left: 40%; }
        .dialogue-ahuzat a { background-image: linear-gradient(to right, #e0c8a0, #c8b088); color: #4a3c2a; border-color: #a08c6c; }
        .dialogue-ahuzat a:hover { background-image: linear-gradient(to right, #f8e8c0, #e0c8a0); border-color: #f8e8c0; }

        #poi-orienting { /* Crystal */
            width: 50px;
            height: 70px;
            position: relative;
            animation: rotate-crystal 10s infinite linear;
            filter: drop-shadow(0 0 15px var(--primary-glow));
        }
        .crystal-facet { position: absolute; width: 100%; height: 100%; background: linear-gradient(150deg, rgba(0,255,255,0.8), rgba(0,200,200,0.4)); }
        .facet-1 { clip-path: polygon(50% 0%, 0% 50%, 50% 100%); }
        .facet-2 { clip-path: polygon(50% 0%, 100% 50%, 50% 100%); opacity: 0.7; }
        @keyframes rotate-crystal { from { transform: rotateY(0deg) rotateZ(-10deg); } to { transform: rotateY(360deg) rotateZ(-10deg); }}
        
        #poi-jest { /* Jester Hat */
            width: 60px;
            height: 50px;
        }
        .hat-base { position: absolute; width: 100%; height: 100%; clip-path: path('M0,50 Q30,0 60,50 Q30,20 0,50 Z'); background: linear-gradient(45deg, #800080, #ff00ff); }
        .hat-bell { position: absolute; width: 10px; height: 10px; background: gold; border-radius: 50%; top: 40px; box-shadow: 0 0 5px gold; }
        .bell-1 { left: -2px; }
        .bell-2 { right: -2px; }
        .dialogue-jest a { background: #ff4757; border-color: #ff6b81; color: white;}
        .dialogue-jest a:hover { background: #ff6b81; border-color: white; }
        
        #poi-rhymes { /* Quill and Scroll */
            width: 80px;
            height: 60px;
        }
        .quill { position: absolute; width:15px; height: 50px; background: #eee; transform: rotate(20deg); top: -10px; left: 40px; border-radius: 50% 50% 0 0; box-shadow: 0 0 10px #fff; }
        .scroll { position: absolute; width: 60px; height: 20px; background: #e0c8a0; border: 2px solid #a08c6c; border-radius: 5px; top: 20px; left: 0; }
        .dialogue-rhymes a { position: relative; overflow: hidden; }
        .dialogue-rhymes a::after { content: '✨'; position: absolute; top: -50%; left: -50%; width: 20px; height: 20px; color: yellow; transition: all 0.5s; opacity: 0; }
        .dialogue-rhymes a:hover::after { top: 30%; left: 110%; opacity: 1; transform: rotate(360deg); transition-duration: 1s; }


        #poi-meta { /* Pond */
             width: 150px;
             height: 60px;
             background: radial-gradient(ellipse at center, #004d4d 0%, #002626 70%);
             border-radius: 50%;
             border: 2px solid #00ffff55;
             box-shadow: 0 0 20px var(--primary-glow), inset 0 0 10px rgba(0,255,255,0.5);
             animation: ripple 5s infinite ease-in-out;
        }
        @keyframes ripple { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }
        .dialogue-meta a { background: transparent; border: 2px solid #00ffff88; animation: ripple 3s infinite ease-in-out; }
        .dialogue-meta a:hover { background: #00ffff33; }
        
        /* --- Socials & Footer --- */
        #socials-signpost {
            position: absolute;
            width: 250px;
            height: 200px;
            z-index: 5;
            transform: translate(-50%, -50%);
        }
        .post { position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 20px; height: 100%; background: #654321; border: 2px solid #4a3c2a; }
        .sign { position: absolute; left: -30px; width: 120%; height: 40px; background: #8B4513; border: 2px solid #4a3c2a; display: flex; align-items: center; justify-content: center; transform-origin: center right; }
        .sign a { padding: 5px; transition: transform 0.3s, filter 0.3s; }
        .sign a:hover { transform: scale(1.2); filter: drop-shadow(0 0 10px #fff); }
        .sign-1 { top: 20px; transform: rotate(-5deg); }
        .sign-2 { top: 70px; transform: rotate(3deg); }
        .sign-3 { top: 120px; transform: rotate(-2deg); }
        .sign svg { width: 30px; height: 30px; fill: #fff; }

        #footer {
            position: absolute;
            bottom: 5%;
            width: 100%;
            text-align: center;
            z-index: 10;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        
        #footer p {
            font-size: 0.8rem;
            margin-bottom: 1em;
            color: #aaa;
        }
        
        #footer #timer-container {
            font-size: 1rem;
            color: #fff;
            background: #111;
            padding: 0.5em 1em;
            border: 1px solid #333;
            display: inline-block;
        }

    </style>
</head>
<body>
    
    <!-- This holds all the fixed-position "game" elements -->
    <div id="world-canvas">
        <!-- Background Elements -->
        <div id="stars-far" class="parallax-bg"></div>
        <div id="stars-near" class="parallax-bg"></div>
        <div id="moon"></div>
        <div id="forest-bg"></div>

        <!-- The visual path the character walks on -->
        <svg id="path-svg" viewbox="0 0 100 100" preserveAspectRatio="none">
           <path id="path-visual" d="M 50 20 C 50 50, 80 50, 80 80 C 80 110, 20 110, 20 140 C 20 170, 70 170, 70 200"/>
        </svg>

        <!-- Header Content -->
        <div id="header-content">
            <div id="floating-platform"></div>
            <h1>Geva Kipper</h1>
            <h2>Developing the future of conversational AI at Google.</h2>
            <div id="system-message-box">
                <span id="system-message-text"></span><span class="cursor"></span>
            </div>
            <div id="scroll-prompt">
                <span class="arrow">↓</span>
                Begin the Quest
            </div>
        </div>

        <!-- Player Character -->
        <div id="player"></div>

        <!-- Project Points of Interest -->
        <div id="poi-glglstats" class="poi">
          <div class="base"></div>
          <div class="platter"></div>
          <div class="horn"></div>
          <div class="notes">♪♫</div>
        </div>
        <div id="poi-ahuzat" class="poi"></div>
        <div id="poi-orienting" class="poi">
            <div class="crystal-facet facet-1"></div>
            <div class="crystal-facet facet-2"></div>
        </div>
        <div id="poi-jest" class="poi">
            <div class="hat-base"></div>
            <div class="hat-bell bell-1"></div>
            <div class="hat-bell bell-2"></div>
        </div>
        <div id="poi-rhymes" class="poi">
            <div class="scroll"></div>
            <div class="quill"></div>
        </div>
        <div id="poi-meta" class="poi"></div>
        
        <!-- Socials -->
        <div id="socials-signpost">
            <div class="post"></div>
            <div class="sign sign-1">
                <a href="https://github.com/gevak" target="_blank" aria-label="GitHub">
                    <svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
                </a>
            </div>
            <div class="sign sign-2">
                <a href="https://linkedin.com/in/gevakip" target="_blank" aria-label="LinkedIn">
                    <svg viewBox="0 0 24 24"><path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.97v16h4.97v-8.369c0-2.025 1.133-3.166 2.674-3.166 1.517 0 2.345 1.06 2.345 3.166v8.369h4.978v-8.733c0-4.49-2.449-6.767-5.438-6.767-2.618 0-4.159 1.442-4.88 2.531v-2.03h-4.97v16h4.97v-8.369z"></path></svg>
                </a>
            </div>
             <div class="sign sign-3">
                <a href="https://facebook.com/geva.kipper" target="_blank" aria-label="Facebook">
                    <svg viewBox="0 0 24 24"><path d="M12 2.04c-5.5 0-10 4.49-10 10.02 0 5 3.66 9.15 8.44 9.9v-7.01h-2.54v-2.89h2.54v-2.2c0-2.52 1.5-3.92 3.78-3.92 1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.62.77-1.62 1.56v1.88h2.78l-.45 2.89h-2.33v7.01c4.78-.75 8.44-4.9 8.44-9.9C22 6.53 17.5 2.04 12 2.04z"></path></svg>
                </a>
            </div>
        </div>
        
        <!-- Footer -->
        <div id="footer">
            <p>This realm was forged by a GPT-4 based entity, a generative artisan.</p>
            <div id="timer-container">
                Time since last world-shaping: <span id="timer"></span>
            </div>
        </div>

        <!-- Dialogue Boxes (initially hidden) -->
        <div id="dialogue-glglstats" class="dialogue-box">
            <h3>GlglStats</h3>
            <p>An interactive, data-driven map visualizing the response times of Israeli army radio broadcasts. An exploration of data journalism and public service monitoring.</p>
            <div class="dialogue-actions">
                <a href="https://glglstats.geekip.dev" target="_blank">Listen to the Data</a>
                <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank">Watch the Sage's Lecture</a>
            </div>
        </div>

        <div id="dialogue-ahuzat" class="dialogue-box dialogue-ahuzat">
            <h3>Ahuzat Dibuk</h3>
            <p>A viral project that exposed a flaw in Tel-Aviv's public parking system, allowing users to find perpetually free parking spots. The project sparked widespread media coverage and a policy change.</p>
            <div class="dialogue-actions">
                <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank">Town Crier (13TV)</a>
                <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank">Town Crier (Mako)</a>
                <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" target="_blank">View the Original Proclamation</a>
            </div>
        </div>

        <div id="dialogue-orienting" class="dialogue-box">
            <h3>2D Part Orienting</h3>
            <p>A C++ project from my academic journey at Tel-Aviv University. It focuses on computational geometry to determine the optimal orientation of 2D parts for manufacturing processes like 3D printing.</p>
            <div class="dialogue-actions">
                <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank">Decipher the Ancient Geometry</a>
            </div>
        </div>
        
        <div id="dialogue-jest" class="dialogue-box dialogue-jest">
            <h3>The Turing Jest</h3>
            <p>A whimsical online arena where you must distinguish between a human and an AI in a game of wit and deception. Can you outsmart the machine, or will you be fooled by the Jester?</p>
            <div class="dialogue-actions">
                <a href="https://jest.geekip.dev" target="_blank">Enter the Jester's Arena</a>
            </div>
        </div>
        
        <div id="dialogue-rhymes" class="dialogue-box dialogue-rhymes">
            <h3>Rhymes of Israel</h3>
            <p>A creative Chrome extension that injects a bit of poetry and fun into browsing by finding and highlighting rhymes for the name 'Israel' on any webpage. A small but delightful JavaScript enchantment.</p>
            <div class="dialogue-actions">
                <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank">Enchant Your Browser</a>
            </div>
        </div>
        
        <div id="dialogue-meta" class="dialogue-box dialogue-meta">
            <h3>The Coder's Quest</h3>
            <p>You are here. This portfolio is itself a project, built from scratch in a single file to be a self-contained, interactive journey. It combines modern web tech with a love for classic RPGs.</p>
            <div class="dialogue-actions">
                <a href="https://geekip.dev" target="_blank">Gaze Into the Loop</a>
            </div>
        </div>

    </div>

    <!-- These sections are invisible but are used to trigger scroll events -->
    <div id="header-trigger" class="scroll-trigger" data-poi="header"></div>
    <div class="scroll-trigger" data-poi="glglstats"></div>
    <div class="scroll-trigger" data-poi="ahuzat"></div>
    <div class="scroll-trigger" data-poi="orienting"></div>
    <div class="scroll-trigger" data-poi="jest"></div>
    <div class="scroll-trigger" data-poi="rhymes"></div>
    <div class="scroll-trigger" data-poi="meta"></div>
    <div id="footer-trigger" class="scroll-trigger" data-poi="socials"></div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Cache DOM elements ---
            const player = document.getElementById('player');
            const worldCanvas = document.getElementById('world-canvas');
            const headerContent = document.getElementById('header-content');
            const scrollPrompt = document.getElementById('scroll-prompt');
            const forestBg = document.getElementById('forest-bg');
            const footer = document.getElementById('footer');

            // --- State ---
            let isPlayerPaused = true;
            let currentFrame = 0;
            let currentDirection = 0; // 0: down, 1: up, 2: left, 3: right

            // --- Player Animation ---
            const frameWidth = 32;
            const frameHeight = 48;
            const walkCycle = [0, 1, 2, 3];
            let walkInterval;

            const setSprite = (direction, frame) => {
                player.style.backgroundPosition = `-${frame * frameWidth}px -${direction * frameHeight}px`;
            };

            const startWalkAnimation = () => {
                if (walkInterval) return;
                walkInterval = setInterval(() => {
                    currentFrame = (currentFrame + 1) % walkCycle.length;
                    setSprite(currentDirection, walkCycle[currentFrame]);
                }, 150);
            };

            const stopWalkAnimation = () => {
                clearInterval(walkInterval);
                walkInterval = null;
                setSprite(currentDirection, 0); // Reset to idle frame
            };

            // --- Character Path Definition (x, y in viewport percentages) ---
            const path = [
                { x: 50, y: 75, poi: 'header' },      // Start
                { x: 50, y: 90, poi: null },         // Walk down
                { x: 60, y: 100, poi: null },        
                { x: 70, y: 90, poi: 'glglstats' },   // Arrive at GlglStats
                { x: 75, y: 70, poi: null },        
                { x: 65, y: 50, poi: null },
                { x: 50, y: 40, poi: 'ahuzat' },      // Arrive at Ahuzat
                { x: 35, y: 50, poi: null },
                { x: 25, y: 70, poi: null },
                { x: 25, y: 90, poi: 'orienting' },   // Arrive at Orienting
                { x: 35, y: 100, poi: null },
                { x: 50, y: 90, poi: null },
                { x: 65, y: 80, poi: 'jest' },        // Arrive at Jest
                { x: 70, y: 60, poi: null },
                { x: 60, y: 40, poi: null },
                { x: 45, y: 35, poi: 'rhymes' },      // Arrive at Rhymes
                { x: 30, y: 45, poi: null },
                { x: 20, y: 65, poi: null },
                { x: 25, y: 85, poi: 'meta' },        // Arrive at Meta
                { x: 40, y: 95, poi: null },
                { x: 50, y: 110, poi: 'socials' }    // Arrive at Socials
            ];
            
            // --- Position POIs based on path ---
            path.forEach(point => {
                if(point.poi) {
                    const poiElement = document.getElementById(`poi-${point.poi}`) || (point.poi === 'socials' && document.getElementById('socials-signpost'));
                    if (poiElement) {
                        poiElement.style.left = `${point.x}%`;
                        // Adjust Y to appear in a natural position on screen
                        poiElement.style.top = `${Math.min(point.y - 15, 80)}%`; 
                    }
                }
            });


            // --- Core Scroll Logic ---
            const handleScroll = () => {
                if(isPlayerPaused) return;

                const scrollableHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollProgress = window.scrollY / scrollableHeight;

                if (scrollProgress > 0.05 && scrollProgress < 0.95) {
                    startWalkAnimation();
                } else {
                    stopWalkAnimation();
                }
                
                // Hide header content after a short scroll
                headerContent.style.opacity = Math.max(0, 1 - (window.scrollY / 200));

                // Fade in forest
                forestBg.style.opacity = Math.min(1, scrollProgress * 5);
                
                // Fade in footer at the end
                footer.style.opacity = scrollProgress > 0.92 ? 1 : 0;

                // --- Character Movement ---
                const pathProgress = scrollProgress * (path.length - 1);
                const currentSegmentIndex = Math.floor(pathProgress);
                const nextSegmentIndex = Math.min(currentSegmentIndex + 1, path.length - 1);
                const segmentProgress = pathProgress - currentSegmentIndex;

                const startPoint = path[currentSegmentIndex];
                const endPoint = path[nextSegmentIndex];

                if (!startPoint || !endPoint) return;

                const x = startPoint.x + (endPoint.x - startPoint.x) * segmentProgress;
                const y = startPoint.y + (endPoint.y - startPoint.y) * segmentProgress;

                // Determine direction
                const dx = endPoint.x - startPoint.x;
                const dy = endPoint.y - startPoint.y;

                if (Math.abs(dx) > Math.abs(dy)) {
                    currentDirection = dx > 0 ? 3 : 2; // right or left
                } else {
                    currentDirection = dy > 0 ? 0 : 1; // down or up
                }

                player.style.left = `calc(${x}% - ${frameWidth / 2}px)`;
                player.style.top = `calc(${y}% - ${frameHeight}px)`;
            };

            window.addEventListener('scroll', handleScroll, { passive: true });

            // --- Intersection Observer for Dialogue Boxes ---
            const dialogueBoxes = document.querySelectorAll('.dialogue-box');
            const poiTriggers = document.querySelectorAll('.scroll-trigger');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const poiName = entry.target.dataset.poi;
                    const dialogueBox = document.getElementById(`dialogue-${poiName}`);
                    
                    if (entry.isIntersecting) {
                        // Player stops at POI
                        isPlayerPaused = true;
                        stopWalkAnimation();

                        const poiPoint = path.find(p => p.poi === poiName);
                         if (poiPoint) {
                            // Find the right direction to face the object
                            const poiElement = document.getElementById(`poi-${poiPoint.poi}`) || (poiPoint.poi === 'socials' && document.getElementById('socials-signpost'));
                            if (poiElement) {
                                let playerX = poiPoint.x, playerY = poiPoint.y;
                                // Position player next to the POI
                                player.style.left = `calc(${playerX - 5}% - ${frameWidth / 2}px)`;
                                player.style.top = `calc(${poiPoint.y}% - ${frameHeight}px)`;
                                currentDirection = 3; // Face right towards the object
                                setSprite(currentDirection, 0); 
                            }
                        }

                        if (dialogueBox) {
                            dialogueBox.classList.add('visible');
                        }
                    } else {
                        // Player resumes journey
                        isPlayerPaused = false;
                        if(window.scrollY > 50) startWalkAnimation();
                        if (dialogueBox) {
                            dialogueBox.classList.remove('visible');
                        }
                    }
                });
            }, { 
                rootMargin: '-50% 0% -50% 0%', // Trigger when the element is in the middle of the screen
                threshold: 0 
            });

            poiTriggers.forEach(trigger => observer.observe(trigger));
            
            
            // --- Initial "System Message" Typing effect ---
            const message = "This world is procedurally generated daily by AI. Its form is ever-changing.";
            const messageEl = document.getElementById('system-message-text');
            let i = 0;
            const typeWriter = () => {
                if (i < message.length) {
                    messageEl.textContent += message.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                } else {
                    // Once typing is done, un-pause the player for scrolling
                    setTimeout(() => {
                        isPlayerPaused = false;
                        scrollPrompt.style.opacity = 1;
                    }, 500);
                }
            };
            
            // Start typing after a delay
            setTimeout(typeWriter, 1000);

            // --- Parallax Mouse Effect ---
            const parallaxLayers = document.querySelectorAll('.parallax-bg, #moon');
            worldCanvas.addEventListener('mousemove', (e) => {
                const x = (e.clientX - window.innerWidth / 2) / window.innerWidth;
                const y = (e.clientY - window.innerHeight / 2) / window.innerHeight;
                
                parallaxLayers.forEach((layer, index) => {
                    const depth = (index + 1) * 0.2;
                    const moveX = x * 15 * depth;
                    const moveY = y * 15 * depth;
                    layer.style.transform = `translate(${moveX}px, ${moveY}px)`;
                });
            });
            
            // --- Footer Timer ---
            const timerEl = document.getElementById('timer');
            const worldShapingDate = new Date('2025-08-29T01:03:27Z');
            
            const updateTimer = () => {
                const now = new Date();
                const diff = now - worldShapingDate;
                
                if (diff < 0) {
                     timerEl.textContent = '00:00:00';
                     return;
                }

                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                const format = (num) => num.toString().padStart(2, '0');
                
                timerEl.textContent = `${format(hours)}:${format(minutes)}:${format(seconds)}`;
            };
            
            setInterval(updateTimer, 1000);
            updateTimer();
            
            // --- Initialize Player Position ---
            const initialPoint = path[0];
            player.style.left = `calc(${initialPoint.x}% - ${frameWidth / 2}px)`;
            player.style.top = `calc(${initialPoint.y}% - ${frameHeight}px)`;
            setSprite(0, 0); // Start facing down
            handleScroll(); // Initial call to set states
        });
    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250829",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>