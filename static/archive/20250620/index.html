<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Terminal // Geva Kipper</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-color: #1E1E1E;
            --text-color: #EAEAEA;
            --accent-color: #00BFFF; /* Deep Sky Blue */
            --subtle-text-color: rgba(234, 234, 234, 0.6);
            --font-family: 'Fira Code', 'Source Code Pro', monospace;
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--background-color);
            color: var(--text-color);
            font-family: var(--font-family);
            font-size: 16px;
        }

        #terminal {
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
            word-wrap: break-word;
        }

        #terminal p, #terminal div, #terminal h1 {
            margin: 0 0 0.5em 0;
        }
        
        .line {
            display: flex;
            white-space: pre-wrap;
        }

        .prompt, .ai-name {
            color: var(--accent-color);
            flex-shrink: 0;
        }

        .line span:first-child {
            margin-right: 0.75em;
        }

        h1.header {
            font-size: 1.5em;
            font-weight: 700;
            margin: 1.5em 0 0.5em 0;
            line-height: 1.4;
        }

        .subtitle {
            font-style: italic;
            color: var(--subtle-text-color);
            margin-bottom: 2.5em;
        }

        .project-block {
            opacity: 0;
            transition: opacity 0.7s ease-in-out;
            margin-left: 1.5em;
            padding-left: 1.5em;
            border-left: 1px solid rgba(255,255,255,0.1);
        }

        .project-block.visible {
            opacity: 1;
        }
        
        .project-block p {
            margin: 0.5em 0;
        }

        .project-links a, .contact-links a {
            color: var(--text-color);
            text-decoration: none;
            margin-right: 1.5em;
            transition: color 0.2s ease, background-color 0.2s ease;
        }

        .project-links a:hover, .contact-links a:hover {
            color: var(--accent-color);
            background-color: rgba(0, 191, 255, 0.1);
        }

        .cursor {
            background-color: var(--accent-color);
            animation: blink 1s step-end infinite;
            display: inline-block;
            width: 0.6em;
            height: 1.2em;
            vertical-align: bottom;
            margin-left: 0.1em;
        }
        
        @keyframes blink {
            from, to { background-color: transparent; }
            50% { background-color: var(--accent-color); }
        }

        footer {
            position: fixed;
            bottom: 1rem;
            right: 1.5rem;
            text-align: right;
            font-size: 0.75em;
            color: var(--subtle-text-color);
        }
        
        footer p {
            margin: 0;
        }

        @media (max-width: 600px) {
            body { font-size: 14px; }
            #terminal { padding: 1.5rem; }
            footer {
                position: relative;
                padding: 2rem 1.5rem;
                text-align: left;
            }
        }
    </style>
</head>
<body>

    <div id="terminal">
        <!-- The script will populate this area -->
    </div>

    <footer>
        <p>Interface designed & generated by OpenAI's GPT-4.</p>
        <p>Time since last regeneration: <span id="stopwatch">000:00:00</span></p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const terminal = document.getElementById('terminal');
            const stopwatchEl = document.getElementById('stopwatch');

            const content = {
                header: "Geva Kipper // Software Engineer at Google, focusing on large-scale data infrastructure.",
                subtitle: "// SYSTEM NOTE: This design is procedurally regenerated daily. Interface is ephemeral.",
                projects: [
                    {
                        loadCmd: "/proj/audio_analysis/GlglStats.py",
                        description: "A Python project measuring the repetitiveness of Israeli pop-chart songs using LZ77 compression. Features visualizations of repetition patterns in famous songs.",
                        links: [
                            { text: "view live site", url: "https://glglstats.onrender.com/" },
                            { text: "watch PyData talk", url: "https://www.youtube.com/watch?v=jrKAtOsj1Lo" }
                        ]
                    },
                    {
                        loadCmd: "/proj/civic_data/AhuzatDibuk.py",
                        description: "A Python scraping and data visualization project analyzing Tel-Aviv parking lot occupancy. Generates public heat-maps to help residents find parking.",
                        links: [
                            { text: "news: Channel 13", url: "https://13tv.co.il/item/news/domestic/internal/parking-902956407/" },
                            { text: "news: Mako", url: "https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" },
                            { text: "original post", url: "https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" }
                        ]
                    },
                    {
                        loadCmd: "/proj/computational_geometry/PartOrienting.cpp",
                        description: "A C++ implementation of an efficient algorithm for constructing a 'push plan' to orient a polygon, contributed to an open-source computational geometry library.",
                        links: [
                            { text: "view code & info", url: "https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" }
                        ]
                    },
                    {
                        loadCmd: "/proj/meta/RecursivePortfolio.js",
                        description: "The portfolio website you are currently viewing. A self-referential experiment in AI-driven design and minimalist presentation.",
                        links: [
                            { text: "view source (of a sort)", url: "https://portfolio-dor1.onrender.com/" }
                        ]
                    }
                ],
                contact: [
                    { text: "GitHub", url: "https://github.com/gevak" },
                    { text: "LinkedIn", url: "https://linkedin.com/in/gevakip" },
                    { text: "Facebook", url: "https://facebook.com/geva.kipper" }
                ]
            };

            const typeSpeed = 20;
            const pauseTime = 500;
            let cursor;

            const pause = (ms) => new Promise(resolve => setTimeout(resolve, ms));

            const typeText = async (element, text) => {
                for (const char of text) {
                    element.textContent += char;
                    await pause(typeSpeed);
                }
            };
            
            const createLine = (prefixText, prefixClass) => {
                const line = document.createElement('div');
                line.classList.add('line');
                
                const prefix = document.createElement('span');
                prefix.textContent = prefixText;
                prefix.classList.add(prefixClass);
                line.appendChild(prefix);

                const content = document.createElement('span');
                line.appendChild(content);
                
                terminal.insertBefore(line, cursor);
                return content;
            };

            const runSequence = async () => {
                cursor = document.createElement('span');
                cursor.className = 'cursor';
                terminal.appendChild(cursor);

                await pause(1000);

                // --- Initiation ---
                let line = createLine("[AI_Genesis_2.0]:", "ai-name");
                await typeText(line, "Initializing session...");
                
                line = createLine("[AI_Genesis_2.0]:", "ai-name");
                await typeText(line, "Accessing subject profile...");

                await pause(pauseTime * 1.5);

                // --- Header & Subtitle ---
                const headerEl = document.createElement('h1');
                headerEl.className = 'header';
                terminal.insertBefore(headerEl, cursor);
                await typeText(headerEl, content.header);

                const subtitleEl = document.createElement('p');
                subtitleEl.className = 'subtitle';
                terminal.insertBefore(subtitleEl, cursor);
                await typeText(subtitleEl, content.subtitle);
                
                await pause(pauseTime * 2);

                // --- Project Query ---
                line = createLine(">", "prompt");
                await typeText(line, "Retrieve primary project files.");
                await pause(pauseTime);

                // --- Projects ---
                for (const project of content.projects) {
                    line = createLine("[AI]:", "ai-name");
                    await typeText(line, `Loading project: ${project.loadCmd}`);
                    await pause(200);

                    const block = document.createElement('div');
                    block.className = 'project-block';
                    
                    const desc = document.createElement('p');
                    desc.textContent = project.description;
                    block.appendChild(desc);

                    const links = document.createElement('p');
                    links.className = 'project-links';
                    project.links.forEach(link => {
                        const a = document.createElement('a');
                        a.href = link.url;
                        a.target = "_blank";
                        a.textContent = `[ ${link.text} ]`;
                        links.appendChild(a);
                    });
                    block.appendChild(links);
                    
                    terminal.insertBefore(block, cursor);
                    await pause(100);
                    block.classList.add('visible');
                    
                    await pause(pauseTime * 2);
                }

                await pause(pauseTime * 2.5);

                // --- Contact Query ---
                line = createLine(">", "prompt");
                await typeText(line, "Establish external connection links.");
                await pause(pauseTime);

                const contactBlock = document.createElement('div');
                contactBlock.className = 'project-block';

                const contactLinks = document.createElement('p');
                contactLinks.className = 'contact-links';
                content.contact.forEach(link => {
                    const a = document.createElement('a');
                    a.href = link.url;
                    a.target = "_blank";
                    a.textContent = `[ ${link.text} ]`;
                    contactLinks.appendChild(a);
                });
                contactBlock.appendChild(contactLinks);
                terminal.insertBefore(contactBlock, cursor);
                await pause(100);
                contactBlock.classList.add('visible');

                await pause(pauseTime * 4);

                // --- Sign-off ---
                line = createLine("[AI_Genesis_2.0]:", "ai-name");
                await typeText(line, "All files rendered. Session complete.");

                cursor.style.animation = 'none';
                cursor.style.backgroundColor = 'transparent';
            };


            const startStopwatch = () => {
                const regenerationDate = new Date('2025-06-20T01:08:41Z');

                setInterval(() => {
                    const now = new Date();
                    const diff = Math.abs(now - regenerationDate);

                    const hours = Math.floor(diff / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                    const h = String(hours).padStart(3, '0');
                    const m = String(minutes).padStart(2, '0');
                    const s = String(seconds).padStart(2, '0');

                    stopwatchEl.textContent = `${h}:${m}:${s}`;
                }, 1000);
            };

            runSequence();
            startStopwatch();

        });
    </script>

<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20250620",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>