<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Geva Kipper ¬∑ AI-Touched Tarot Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-start: #161938;
      --bg-end: #05040a;
      --accent: #b48cff;
      --accent-soft: rgba(180, 140, 255, 0.35);
      --accent-strong: #ffdd88;
      --card-bg: rgba(15, 16, 32, 0.98);
      --card-border: rgba(255, 255, 255, 0.08);
      --text-main: #f4f4ff;
      --text-soft: #b4b4d8;
      --text-muted: #7e7e9e;
      --danger: #ff6f91;
      --success: #72e5b0;
      --shadow-soft: 0 24px 60px rgba(0, 0, 0, 0.8);
      --font-serif: "Georgia", "Times New Roman", serif;
      --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --font-mono: "SF Mono", "JetBrains Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --card-radius: 18px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.32s cubic-bezier(0.19, 1, 0.22, 1);
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      color: var(--text-main);
      background: radial-gradient(circle at 20% 0%, #242061 0, transparent 55%),
        radial-gradient(circle at 80% 20%, #301858 0, transparent 50%),
        radial-gradient(circle at 10% 80%, #102838 0, transparent 55%),
        linear-gradient(160deg, var(--bg-start), var(--bg-end));
      font-family: var(--font-sans);
      overflow-x: hidden;
    }

    body {
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Background noise & vignette */
    body::before,
    body::after {
      content: "";
      position: fixed;
      pointer-events: none;
      inset: 0;
      z-index: -2;
    }
    body::before {
      background-image:
        radial-gradient(circle at 0 0, rgba(255, 255, 255, 0.06) 0, transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255, 255, 255, 0.04) 0, transparent 55%);
      mix-blend-mode: soft-light;
      opacity: 0.7;
    }
    body::after {
      background:
        radial-gradient(ellipse at center, transparent 0, transparent 45%, rgba(0, 0, 0, 0.7) 85%);
      z-index: -1;
    }

    /* Floating syntax constellations */
    .syntax-layer {
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: -1;
      opacity: 0.45;
      font-family: var(--font-mono);
    }

    .syntax-star {
      position: absolute;
      font-size: 11px;
      color: rgba(224, 214, 255, 0.55);
      text-shadow: 0 0 6px rgba(175, 155, 255, 0.9);
      white-space: nowrap;
      animation: drift 38s linear infinite;
    }

    @keyframes drift {
      0% {
        transform: translate3d(0, 0, 0) rotate(0deg);
        opacity: 0;
      }
      5% {
        opacity: 1;
      }
      50% {
        opacity: 0.9;
      }
      95% {
        opacity: 1;
      }
      100% {
        transform: translate3d(60px, -80px, 0) rotate(1deg);
        opacity: 0;
      }
    }

    /* Layout */
    .page {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 32px 20px 80px;
    }

    @media (min-width: 900px) {
      .page {
        padding: 40px 64px 100px;
      }
    }

    header {
      text-align: center;
      margin-bottom: 32px;
      position: relative;
      max-width: 960px;
      margin-left: auto;
      margin-right: auto;
    }

    header h1 {
      font-family: var(--font-serif);
      letter-spacing: 0.2em;
      font-weight: 500;
      font-size: clamp(1.9rem, 2.3vw, 2.4rem);
      margin: 0 0 12px;
      color: #f7f4ff;
      text-transform: uppercase;
    }

    .header-underline {
      width: 220px;
      max-width: 70%;
      height: 2px;
      margin: 0 auto 16px;
      background: linear-gradient(90deg, transparent, var(--accent-strong), transparent);
      box-shadow: 0 0 12px rgba(255, 221, 136, 0.8);
    }

    .header-lead {
      font-size: 0.98rem;
      color: var(--text-soft);
      max-width: 640px;
      margin: 0 auto 8px;
      line-height: 1.5;
    }

    .header-sub {
      font-size: 0.9rem;
      color: var(--accent);
      max-width: 520px;
      margin: 0 auto 6px;
    }

    .header-seed {
      font-family: var(--font-mono);
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-top: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(7, 6, 22, 0.9);
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
    }

    .seed-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, var(--accent-strong), var(--accent));
      box-shadow: 0 0 6px rgba(255, 221, 136, 0.8);
    }

    /* Tarot altar */
    .tarot-altar {
      max-width: 1180px;
      margin: 0 auto;
      position: relative;
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .altar-glow {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 10%, rgba(248, 238, 255, 0.04) 0, transparent 60%),
        radial-gradient(circle at 50% 90%, rgba(104, 219, 198, 0.09) 0, transparent 55%);
      opacity: 0.95;
      pointer-events: none;
      z-index: -1;
    }

    .spread-controls {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
      font-size: 0.85rem;
      color: var(--text-muted);
      flex-wrap: wrap;
      justify-content: center;
    }

    .draw-button {
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      padding: 8px 16px;
      font-size: 0.86rem;
      background: radial-gradient(circle at 0 0, rgba(255, 221, 136, 0.2) 0, transparent 60%),
        rgba(14, 10, 38, 0.9);
      color: var(--text-main);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(14px);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
    }

    .draw-button span {
      font-family: var(--font-mono);
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--accent-strong);
    }

    .draw-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6);
      border-color: var(--accent-soft);
      background: radial-gradient(circle at 0 0, rgba(255, 221, 136, 0.32) 0, transparent 60%),
        rgba(18, 12, 48, 0.95);
    }

    .draw-button:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.7);
    }

    .spread-note {
      opacity: 0.8;
    }

    .spread {
      position: relative;
      width: 100%;
      margin-top: 8px;
      padding: 40px 0 32px;
      display: grid;
      place-items: center;
    }

    .spread-inner {
      position: relative;
      width: min(100%, 1080px);
      height: 520px;
      max-height: 75vh;
    }

    /* Card base */
    .tarot-card {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 230px;
      max-width: 32vw;
      height: 360px;
      transform-style: preserve-3d;
      transform-origin: center center;
      transform: translate(-50%, -50%);
      transition:
        transform var(--transition-med),
        filter var(--transition-med),
        opacity var(--transition-med),
        z-index var(--transition-med);
      cursor: pointer;
      perspective: 1200px;
    }

    .tarot-card .card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.7s cubic-bezier(0.19, 1, 0.22, 1);
    }

    .tarot-card .card-face {
      position: absolute;
      inset: 0;
      border-radius: var(--card-radius);
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      box-shadow: var(--shadow-soft);
      backface-visibility: hidden;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      padding: 16px 16px 12px;
    }

    .tarot-card .card-front {
      transform: rotateY(0deg);
    }

    .tarot-card .card-back {
      transform: rotateY(180deg);
    }

    .tarot-card.is-flipped .card-inner {
      transform: rotateY(180deg);
    }

    .tarot-card::before {
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: calc(var(--card-radius) + 2px);
      background: conic-gradient(from 200deg, rgba(255, 221, 136, 0.08), rgba(104, 219, 198, 0.1), rgba(180, 140, 255, 0.1), rgba(255, 221, 136, 0.08));
      opacity: 0;
      filter: blur(8px);
      transition: opacity var(--transition-med);
      z-index: -1;
    }

    .tarot-card:hover::before {
      opacity: 1;
    }

    .tarot-card:not(.is-focused) {
      filter: saturate(0.92);
    }

    .tarot-card.is-focused {
      z-index: 50;
    }

    .spread-focused-overlay {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 10%, rgba(5, 4, 10, 0.4) 0, rgba(5, 4, 10, 0.9) 55%, rgba(5, 4, 10, 1) 100%);
      opacity: 0;
      pointer-events: none;
      transition: opacity var(--transition-med);
    }

    .spread.has-focus .spread-focused-overlay {
      opacity: 1;
      pointer-events: auto;
    }

    .spread.has-focus .tarot-card:not(.is-focused) {
      filter: blur(2.5px) grayscale(0.4) opacity(0.45);
    }

    /* Positioning for desktop spread */
    .tarot-card[data-role="past"],
    .tarot-card[data-role="present"],
    .tarot-card[data-role="future"] {
      transform: translate(-50%, -50%) scale(1.02);
    }

    .tarot-card[data-role="past"] {
      transform: translate(calc(-50% - 180px), -50%) rotate(-10deg) scale(1.02);
    }

    .tarot-card[data-role="present"] {
      transform: translate(-50%, -55%) rotate(0deg) scale(1.08);
    }

    .tarot-card[data-role="future"] {
      transform: translate(calc(-50% + 180px), -50%) rotate(10deg) scale(1.02);
    }

    .tarot-card[data-layer="back"] {
      transform: translate(-50%, -50%) scale(0.86);
      opacity: 0.6;
    }

    .tarot-card[data-layer="back"][data-slot="0"] {
      transform: translate(calc(-50% - 260px), -14%) rotate(-16deg) scale(0.9);
    }

    .tarot-card[data-layer="back"][data-slot="1"] {
      transform: translate(calc(-50% - 190px), calc(-50% + 140px)) rotate(-6deg) scale(0.9);
    }

    .tarot-card[data-layer="back"][data-slot="2"] {
      transform: translate(calc(-50% + 190px), calc(-50% + 140px)) rotate(6deg) scale(0.9);
    }

    .tarot-card[data-layer="back"][data-slot="3"] {
      transform: translate(calc(-50% + 260px), -14%) rotate(16deg) scale(0.9);
    }

    .tarot-card[data-role] .position-label {
      opacity: 1;
      transform: translateY(0);
    }

    .position-label {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translate(-50%, -6px);
      padding: 2px 10px;
      border-radius: 999px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      font-family: var(--font-mono);
      background: rgba(8, 6, 28, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.16);
      color: var(--accent-strong);
      opacity: 0;
      transition: opacity var(--transition-med), transform var(--transition-med);
      pointer-events: none;
    }

    .card-title {
      margin-top: 18px;
      font-family: var(--font-serif);
      font-size: 1.02rem;
      letter-spacing: 0.03em;
      margin-bottom: 4px;
    }

    .card-subtitle {
      font-size: 0.78rem;
      text-transform: uppercase;
      color: var(--text-muted);
      letter-spacing: 0.15em;
      font-family: var(--font-mono);
      margin-bottom: 8px;
    }

    .card-graphic {
      flex: 0 0 120px;
      margin-bottom: 10px;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      background: radial-gradient(circle at 50% 20%, rgba(255, 255, 255, 0.09) 0, transparent 60%),
        linear-gradient(135deg, rgba(15, 255, 210, 0.12), rgba(180, 140, 255, 0.12));
      border: 1px solid rgba(255, 255, 255, 0.04);
    }

    .card-body {
      font-size: 0.84rem;
      color: var(--text-soft);
      line-height: 1.5;
      overflow: hidden;
    }

    .card-links {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      font-size: 0.84rem;
    }

    .card-link,
    .card-link-button {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--accent-strong);
      text-decoration: none;
      font-weight: 500;
    }

    .card-link:hover,
    .card-link-button:hover {
      text-decoration: underline;
    }

    .card-link-icon {
      font-size: 0.9em;
      opacity: 0.8;
    }

    .card-link-button {
      padding: 7px 10px;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, rgba(255, 221, 136, 0.25) 0, transparent 60%),
        rgba(10, 7, 28, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.12);
      font-size: 0.82rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-family: var(--font-mono);
    }

    .card-link-button:hover {
      background: radial-gradient(circle at 0 0, rgba(255, 221, 136, 0.35) 0, transparent 60%),
        rgba(16, 10, 40, 0.98);
    }

    .card-insight {
      margin-top: auto;
      padding-top: 8px;
      border-top: 1px dashed rgba(255, 255, 255, 0.08);
      font-size: 0.78rem;
      font-style: italic;
      color: var(--text-muted);
    }

    .card-breadcrumb {
      margin-top: 4px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-family: var(--font-mono);
      color: rgba(213, 208, 255, 0.7);
    }

    /* Card-specific motifs */

    /* GlglStats */
    .card--glgl .card-graphic {
      background:
        repeating-linear-gradient(
          135deg,
          rgba(180, 140, 255, 0.2) 0,
          rgba(180, 140, 255, 0.2) 1px,
          transparent 1px,
          transparent 5px
        ),
        radial-gradient(circle at 20% 10%, rgba(255, 221, 136, 0.4) 0, transparent 40%),
        radial-gradient(circle at 80% 90%, rgba(111, 220, 255, 0.3) 0, transparent 40%),
        #080618;
    }

    .card--glgl .lz77-border {
      position: absolute;
      inset: 4px;
      border-radius: 10px;
      border: 1px dashed rgba(255, 255, 255, 0.18);
      font-family: var(--font-mono);
      font-size: 8px;
      color: rgba(224, 214, 255, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 8px;
      opacity: 0.9;
    }

    .card--glgl .sparkline {
      position: absolute;
      inset: 12px 8px 10px;
      opacity: 0.4;
    }

    /* Ahuzat Dibuk */
    .card--ahuzat .card-graphic {
      background:
        linear-gradient(120deg, rgba(255, 221, 136, 0.06), transparent),
        radial-gradient(circle at 20% 40%, rgba(255, 113, 91, 0.35) 0, transparent 38%),
        radial-gradient(circle at 70% 70%, rgba(104, 219, 198, 0.3) 0, transparent 42%),
        #050511;
    }

    .card--ahuzat .map-grid {
      position: absolute;
      inset: 8px;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background-image:
        linear-gradient(90deg, rgba(255, 255, 255, 0.12) 1px, transparent 1px),
        linear-gradient(180deg, rgba(255, 255, 255, 0.12) 1px, transparent 1px);
      background-size: 18px 18px;
      mix-blend-mode: screen;
      opacity: 0.5;
    }

    .card--ahuzat .map-grid::before,
    .card--ahuzat .map-grid::after {
      content: "";
      position: absolute;
      border-radius: 999px;
      background: radial-gradient(circle at center, rgba(255, 113, 91, 0.8) 0, transparent 60%);
      opacity: 0.7;
    }

    .card--ahuzat .map-grid::before {
      width: 50px;
      height: 50px;
      top: 18%;
      left: 16%;
    }

    .card--ahuzat .map-grid::after {
      width: 70px;
      height: 70px;
      right: 20%;
      bottom: 16%;
      background: radial-gradient(circle at center, rgba(104, 219, 198, 0.9) 0, transparent 60%);
    }

    .card--ahuzat .tooltip-orbit {
      position: relative;
      display: inline-block;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px dashed rgba(255, 255, 255, 0.18);
      font-size: 0.78rem;
      margin-top: 8px;
      color: var(--accent-strong);
      animation: floaty 6s ease-in-out infinite;
    }

    @keyframes floaty {
      0%,
      100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-2px);
      }
    }

    /* 2D Part Orienting */
    .card--orient .card-graphic {
      background:
        linear-gradient(135deg, rgba(104, 219, 198, 0.25), transparent),
        #050916;
    }

    .card--orient .poly-border {
      position: absolute;
      inset: 6px;
      border-radius: 10px;
      border: 1px solid rgba(164, 248, 222, 0.9);
      clip-path: polygon(6% 12%, 40% 4%, 86% 16%, 92% 50%, 74% 88%, 28% 96%, 10% 64%);
      opacity: 0.5;
    }

    .card--orient .poly-shape {
      position: absolute;
      inset: 18px 26px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      overflow: hidden;
    }

    .card--orient svg {
      width: 100%;
      height: 100%;
      opacity: 0.8;
    }

    @keyframes polygon-orientation {
      0% {
        transform: rotate(0deg);
      }
      33% {
        transform: rotate(22deg);
      }
      66% {
        transform: rotate(-18deg);
      }
      100% {
        transform: rotate(0deg);
      }
    }

    .card--orient .poly-anim {
      transform-origin: center;
      animation: polygon-orientation 9s ease-in-out infinite;
    }

    /* Turing Jest */
    .card--jest .card-graphic {
      background:
        radial-gradient(circle at 10% 20%, rgba(255, 101, 210, 0.5) 0, transparent 45%),
        radial-gradient(circle at 90% 50%, rgba(111, 220, 255, 0.45) 0, transparent 50%),
        linear-gradient(135deg, rgba(255, 255, 255, 0.12), transparent),
        #050013;
    }

    .card--jest .neon-border {
      position: absolute;
      inset: 6px;
      border-radius: 12px;
      border: 1px dashed rgba(255, 255, 255, 0.3);
      box-shadow:
        0 0 8px rgba(255, 101, 210, 0.7),
        0 0 18px rgba(111, 220, 255, 0.6);
      opacity: 0.75;
      background-image:
        radial-gradient(circle at 15% 30%, rgba(255, 255, 255, 0.24) 0, transparent 55%),
        radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.8) 0, transparent 60%);
      mix-blend-mode: screen;
    }

    .card--jest .chat-bubble {
      margin-top: 8px;
      padding: 6px 8px;
      border-radius: 10px;
      background: rgba(13, 10, 28, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.08);
      font-size: 0.78rem;
    }

    .card--jest .chat-bubble strong {
      color: var(--accent-strong);
      font-family: var(--font-mono);
      font-size: 0.75rem;
    }

    /* Rhymes of Israel */
    .card--rhymes .card-graphic {
      background:
        linear-gradient(180deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.02)),
        #13141d;
      display: flex;
      flex-direction: column;
    }

    .card--rhymes .masthead {
      font-family: var(--font-serif);
      font-size: 0.78rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      padding: 4px 8px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.16);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card--rhymes .masthead span {
      font-family: var(--font-mono);
      font-size: 0.65rem;
      color: var(--text-muted);
    }

    .card--rhymes .headline-area {
      flex: 1;
      position: relative;
      padding: 6px 8px;
      font-size: 0.74rem;
    }

    .card--rhymes .headline-area .fake-headline {
      border-bottom: 1px solid rgba(255, 255, 255, 0.15);
      padding-bottom: 4px;
      margin-bottom: 4px;
      opacity: 0.5;
    }

    .card--rhymes .headline-area .scribble {
      position: absolute;
      inset: 10px 8px;
      border-radius: 50%;
      border: 1px dashed rgba(255, 221, 136, 0.7);
      opacity: 0.7;
      transform: rotate(-8deg);
    }

    /* Meta portfolio */
    .card--meta .card-graphic {
      background:
        radial-gradient(circle at 30% 30%, rgba(255, 221, 136, 0.4) 0, transparent 55%),
        radial-gradient(circle at 70% 70%, rgba(111, 220, 255, 0.35) 0, transparent 55%),
        #050814;
    }

    .card--meta .ouroboros {
      position: absolute;
      inset: 14px;
      border-radius: 999px;
      border: 1px dashed rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-mono);
      font-size: 0.72rem;
      color: rgba(245, 240, 255, 0.9);
      text-align: center;
    }

    .card--meta .ouroboros span {
      display: inline-block;
      max-width: 80%;
    }

    /* Network Constellation */
    .card--network .card-graphic {
      background:
        radial-gradient(circle at 20% 30%, rgba(180, 140, 255, 0.5) 0, transparent 60%),
        radial-gradient(circle at 80% 70%, rgba(111, 220, 255, 0.4) 0, transparent 60%),
        #050615;
    }

    .card--network .constellation {
      position: absolute;
      inset: 10px;
    }

    .card--network svg {
      width: 100%;
      height: 100%;
      opacity: 0.9;
    }

    .network-links {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .network-pill {
      flex: 1 1 32%;
      min-width: 120px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(7, 8, 24, 0.95);
      color: var(--text-main);
      text-decoration: none;
      font-size: 0.8rem;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
      transition: box-shadow var(--transition-fast), transform var(--transition-fast), border-color var(--transition-fast), background var(--transition-fast);
    }

    .network-pill span {
      font-family: var(--font-mono);
      font-size: 0.78rem;
    }

    .network-pill:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.7);
      border-color: var(--accent-soft);
      background: radial-gradient(circle at 0 0, rgba(255, 221, 136, 0.32) 0, transparent 60%),
        rgba(13, 10, 32, 0.98);
    }

    .network-pill-icon {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    /* Mobile / small screens */
    @media (max-width: 899px) {
      .spread {
        padding-top: 18px;
      }

      .spread-inner {
        position: static;
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        gap: 18px;
        align-items: stretch;
      }

      .tarot-card {
        position: static;
        width: 100%;
        max-width: 100%;
        height: 340px;
        transform: none !important;
        opacity: 1 !important;
      }

      .tarot-card[data-layer="back"] {
        transform: none;
      }

      .position-label {
        top: 8px;
      }

      .spread-focused-overlay {
        display: none;
      }

      .spread.has-focus .tarot-card:not(.is-focused) {
        filter: none;
      }

      .tarot-card.is-focused {
        transform: none !important;
      }
    }

    @media (max-width: 600px) {
      header {
        margin-bottom: 24px;
      }
      .page {
        padding-inline: 16px;
      }
      .tarot-card {
        height: 320px;
      }
    }

    /* Shuffle animation at load */
    .spread.is-shuffling .tarot-card {
      animation: shuffle-wiggle 0.8s ease-in-out infinite alternate;
    }

    @keyframes shuffle-wiggle {
      from {
        transform: translate(-50%, -50%) rotate(-6deg) scale(0.9);
      }
      to {
        transform: translate(-50%, -50%) rotate(5deg) scale(0.9);
      }
    }

    @media (max-width: 899px) {
      .spread.is-shuffling .tarot-card {
        animation: shuffle-wiggle-mobile 0.7s ease-in-out infinite alternate;
      }

      @keyframes shuffle-wiggle-mobile {
        from {
          transform: translateY(-4px) rotate(-1deg);
        }
        to {
          transform: translateY(4px) rotate(2deg);
        }
      }
    }

    /* Footer */
    footer {
      position: relative;
      z-index: 10;
      background: linear-gradient(180deg, rgba(3, 3, 9, 0.1), rgba(3, 3, 9, 0.92));
      border-top: 1px solid rgba(255, 255, 255, 0.06);
      padding: 10px 18px;
      font-size: 0.78rem;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .footer-left {
      opacity: 0.85;
    }

    .footer-right {
      font-family: var(--font-mono);
      padding: 4px 8px;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #e4e7ff;
      background: radial-gradient(circle at 0 0, rgba(255, 221, 136, 0.2) 0, transparent 60%),
        rgba(3, 4, 14, 0.95);
      box-shadow:
        0 0 8px rgba(255, 221, 136, 0.5),
        0 0 16px rgba(104, 219, 198, 0.4);
      font-size: 0.78rem;
      position: relative;
    }

    .footer-right::before {
      content: "‚è±";
      margin-right: 6px;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <!-- Syntax constellation layer -->
  <div class="syntax-layer" aria-hidden="true" id="syntax-layer"></div>

  <div class="page">
    <header>
      <h1>GEVA KIPPER</h1>
      <div class="header-underline"></div>
      <p class="header-lead">
        Geva Kipper is a software engineer at Google, building large-scale systems for data-intensive products.
      </p>
      <p class="header-sub">
        This portfolio is recast each day by AI‚Äîno human sees the exact same layout twice.
      </p>
      <div class="header-seed">
        <div class="seed-dot"></div>
        <span id="seed-text">AI seed: ‚Ä¶</span>
      </div>
    </header>

    <main class="tarot-altar" aria-label="Tarot-inspired project portfolio">
      <div class="altar-glow"></div>

      <div class="spread-controls">
        <button class="draw-button" id="draw-again">
          <span>Draw Again</span>
          <div>Reshuffle the reading</div>
        </button>
        <div class="spread-note">
          Three cards step forward as Past / Present / Future; the rest hover in the periphery.
        </div>
      </div>

      <section class="spread is-shuffling" id="spread">
        <div class="spread-focused-overlay"></div>
        <div class="spread-inner" id="spread-inner">
          <!-- GlglStats Card -->
          <article class="tarot-card card--glgl" data-card-id="glglstats">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">Analysis ¬∑ Sound ¬∑ Compression</div>
                <div class="card-title">GlglStats ¬∑ The Looping Oracle</div>
                <div class="card-graphic">
                  <div class="lz77-border">
                    LZ77 ¬∑ LZ77 ¬∑ LZ77 ¬∑ ‚ô™ ‚ô™ ‚ô™ ¬∑ LZ77 ¬∑ ‚ô™ ¬∑ LZ77 ¬∑ ‚ô™
                  </div>
                  <svg class="sparkline" viewBox="0 0 200 80" preserveAspectRatio="none">
                    <polyline
                      points="0,60 20,30 40,45 60,15 80,40 100,18 120,55 140,25 160,50 180,22 200,60"
                      fill="none"
                      stroke="#ffdd88"
                      stroke-width="1.5"
                      stroke-linejoin="round"
                      stroke-linecap="round"
                      stroke-dasharray="3 3"
                    />
                    <polyline
                      points="0,50 20,45 40,35 60,40 80,30 100,35 120,25 140,30 160,20 180,25 200,15"
                      fill="none"
                      stroke="#6fdcff"
                      stroke-width="0.8"
                      opacity="0.8"
                    />
                  </svg>
                </div>
                <div class="card-body">
                  A cryptic score of waveforms and repeating glyphs shimmers like a vinyl etched in code,
                  hinting at hidden hooks looping beneath the charts.
                </div>
                <div class="card-insight" data-insight-for="glglstats"></div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">Python ¬∑ Music Data ¬∑ Information Theory</div>
                <div class="card-title">GlglStats ¬∑ The Looping Oracle</div>
                <div class="card-body">
                  <p>
                    Python project measuring the repetitiveness of Israeli pop-chart songs via LZ77 compression,
                    revealing their hidden repetition patterns. It visualizes how often motifs, hooks, and choruses
                    truly repeat across a selection of famous tracks.
                  </p>
                  <div class="card-links">
                    <a class="card-link" href="https://glglstats.geekip.dev" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">‚Üª</span>
                      <span>Visit GlglStats</span>
                    </a>
                    <a class="card-link" href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">‚ñ∂</span>
                      <span>Watch the PyData TLV talk</span>
                    </a>
                  </div>
                  <div class="card-insight" data-insight-for="glglstats"></div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>

          <!-- Ahuzat Dibuk Card -->
          <article class="tarot-card card--ahuzat" data-card-id="ahuzat">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">Urban Data ¬∑ Scraping ¬∑ Heatmaps</div>
                <div class="card-title">Ahuzat Dibuk ¬∑ The Parking Seer</div>
                <div class="card-graphic">
                  <div class="map-grid"></div>
                </div>
                <div class="card-body">
                  A gridded city glows with restless orbs where drivers circle and stall; data-wisps trace
                  the paths where empty spots quietly wait to be found.
                </div>
                <div class="card-insight">
                  Where others see chaos, data finds a spot.
                </div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">Python ¬∑ Tel-Aviv ¬∑ Occupancy</div>
                <div class="card-title">Ahuzat Dibuk ¬∑ The Parking Seer</div>
                <div class="card-body">
                  <p>
                    A Python scraping and data visualization project tracking real-time occupancy in Tel-Aviv parking lots.
                    By collecting and aggregating availability data, it generates heatmaps that help residents guess when and
                    where a free spot is most likely to appear.
                  </p>
                  <div class="card-links">
                    <a class="card-link" href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">üì∫</span>
                      <span>News story on Channel 13</span>
                    </a>
                    <a class="card-link" href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">üì∞</span>
                      <span>Nexter coverage</span>
                    </a>
                    <a class="card-link" href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943/" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">f</span>
                      <span>Original Facebook post</span>
                    </a>
                  </div>
                  <div class="tooltip-orbit">
                    Where others see chaos, data finds a spot.
                  </div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>

          <!-- 2D Part Orienting Card -->
          <article class="tarot-card card--orient" data-card-id="orient">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">Geometry ¬∑ Motion ¬∑ Planning</div>
                <div class="card-title">2D Part Orienting ¬∑ The Geometric Mechanic</div>
                <div class="card-graphic">
                  <div class="poly-border"></div>
                  <div class="poly-shape">
                    <svg viewBox="0 0 160 80">
                      <g class="poly-anim" stroke-width="1.5" fill="none" stroke-linejoin="round">
                        <polygon
                          points="30,50 55,20 90,18 120,36 110,60 70,70"
                          stroke="#a4f8de"
                        />
                        <polyline
                          points="26,54 18,60 18,60"
                          stroke="#ffdd88"
                          stroke-linecap="round"
                          stroke-dasharray="4 4"
                        />
                        <polyline
                          points="125,38 136,32 144,28"
                          stroke="#ffdd88"
                          stroke-linecap="round"
                          stroke-dasharray="4 4"
                        />
                        <circle cx="48" cy="24" r="4" stroke="#ff6f91" />
                        <circle cx="104" cy="26" r="4" stroke="#ff6f91" />
                      </g>
                    </svg>
                  </div>
                </div>
                <div class="card-body">
                  A polygon drifts across a dark plane, nudged by invisible hands into the one orientation
                  where everything suddenly clicks into place.
                </div>
                <div class="card-insight">
                  Every object can be guided into place, if you know where to push.
                </div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">C++ ¬∑ Computational Geometry</div>
                <div class="card-title">2D Part Orienting ¬∑ The Geometric Mechanic</div>
                <div class="card-body">
                  <p>
                    An efficient C++ implementation, built into an open-source computational geometry library,
                    that constructs a push plan to orient a polygon. Given a shape on a plane, the algorithm
                    determines how and where to push so it ends up in a desired, canonical pose.
                  </p>
                  <div class="card-links">
                    <a class="card-link" href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">‚¨à</span>
                      <span>Explore the project</span>
                    </a>
                  </div>
                  <div class="card-insight">
                    Every object can be guided into place, if you know where to push.
                  </div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>

          <!-- The Turing Jest Card -->
          <article class="tarot-card card--jest" data-card-id="jest">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">Humor ¬∑ Models ¬∑ Duel</div>
                <div class="card-title">The Turing Jest ¬∑ The Pun Arena</div>
                <div class="card-graphic">
                  <div class="neon-border"></div>
                </div>
                <div class="card-body">
                  Two neon silhouettes face off in speech bubbles and punchlines, hurling puns across a glowing
                  arena while the crowd of users quietly keeps score.
                </div>
                <div class="card-insight">
                  To test intelligence, ask for laughter.
                </div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">LLMs ¬∑ Evaluation ¬∑ Play</div>
                <div class="card-title">The Turing Jest ¬∑ The Pun Arena</div>
                <div class="card-body">
                  <p>
                    An LMSYS-style arena where large language models compete at making and explaining puns.
                    Users rate each answer, turning wordplay into a playful benchmark for wit, nuance, and timing.
                  </p>
                  <div class="card-links">
                    <a class="card-link-button" href="https://jest.geekip.dev" target="_blank" rel="noopener noreferrer">
                      <span>Enter the Jest Arena</span>
                    </a>
                  </div>
                  <div class="chat-bubble" id="jest-snippet">
                    <!-- Filled by JS -->
                  </div>
                  <div class="card-insight">
                    To test intelligence, ask for laughter.
                  </div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>

          <!-- Rhymes of Israel Card -->
          <article class="tarot-card card--rhymes" data-card-id="rhymes">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">News ¬∑ Verse ¬∑ Satire</div>
                <div class="card-title">Rhymes of Israel ¬∑ The Headline Bard</div>
                <div class="card-graphic">
                  <div class="masthead">
                    RHYMES OF ISRAEL
                    <span>Late Edition</span>
                  </div>
                  <div class="headline-area">
                    <div class="fake-headline">
                      SERIOUS HEADLINE GOES HERE, VERY GRAVE AND IMPORTANT
                    </div>
                    <div>
                      <strong>Rhymed:</strong> A scribbled couplet turns the weight of the day
                      into a mischievous yearbook aside.
                    </div>
                    <div class="scribble"></div>
                  </div>
                </div>
                <div class="card-body">
                  A mock front page where solemn headlines collide with notebook doodles,
                  each title rewritten as if your high-school yearbook suddenly took over the news.
                </div>
                <div class="card-insight">
                  When headlines rhyme, the news becomes a diary of the absurd.
                </div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">Chrome ¬∑ LLM ¬∑ Parody</div>
                <div class="card-title">Rhymes of Israel ¬∑ The Headline Bard</div>
                <div class="card-body">
                  <p>
                    A Chrome extension that uses an LLM to rewrite Israeli news headlines into comedic rhymes,
                    in the voice of a crowded high school yearbook. Scroll your feed and watch serious stories
                    morph into gleeful couplets.
                  </p>
                  <div class="card-links">
                    <a class="card-link" href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">‚¨á</span>
                      <span>Install the Chrome Extension</span>
                    </a>
                  </div>
                  <div style="margin-top:8px; font-size:0.8rem;">
                    <div style="opacity:0.65; border-bottom:1px solid rgba(255,255,255,0.08); padding-bottom:3px; margin-bottom:3px;">
                      <strong>Headline:</strong> [Serious news title, redacted for this tarot reading]
                    </div>
                    <div>
                      <strong>Rhymed:</strong> ‚ÄúWhen policies climb and tempers flare,<br/>
                      the margin just writes ‚Äòwish you were there.‚Äô‚Äù
                    </div>
                  </div>
                  <div class="card-insight">
                    When headlines rhyme, the news becomes a diary of the absurd.
                  </div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>

          <!-- Meta Portfolio Card -->
          <article class="tarot-card card--meta" data-card-id="meta">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">Self ¬∑ Reference ¬∑ Loop</div>
                <div class="card-title">The Ever-Changing Portfolio</div>
                <div class="card-graphic">
                  <div class="ouroboros">
                    <span>{ site = generate(site) }</span>
                  </div>
                </div>
                <div class="card-body">
                  A ring of code eats its own tail, forever re-rendering this portfolio so no two visitors
                  see quite the same constellation of projects.
                </div>
                <div class="card-insight">
                  The code that looks at itself learns faster.
                </div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">Meta ¬∑ Design ¬∑ AI</div>
                <div class="card-title">The Ever-Changing Portfolio ¬∑ The Recursive Mirror</div>
                <div class="card-body">
                  <p>
                    A living portfolio site that redesigns itself, using AI prompts and code to remix its structure and
                    aesthetic over time. You‚Äôre looking at one particular ‚Äútarot table‚Äù incarnation‚Äîtomorrow‚Äôs may be
                    something entirely different.
                  </p>
                  <div class="card-links">
                    <a class="card-link" href="https://geekip.dev" target="_blank" rel="noopener noreferrer">
                      <span class="card-link-icon">‚àû</span>
                      <span>Visit geekip.dev</span>
                    </a>
                  </div>
                  <p style="margin-top:8px; font-size:0.8rem; color:var(--text-soft);">
                    Today‚Äôs layout is a tarot-inspired edition; the next iteration could be a console, a map, or
                    something the models haven‚Äôt dreamt up yet.
                  </p>
                  <div class="card-insight">
                    The code that looks at itself learns faster.
                  </div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>

          <!-- Network Constellation Card -->
          <article class="tarot-card card--network" data-card-id="network">
            <div class="card-inner">
              <div class="card-face card-front">
                <div class="position-label"></div>
                <div class="card-subtitle">Graph ¬∑ Orbits ¬∑ Links</div>
                <div class="card-title">Network Constellation</div>
                <div class="card-graphic">
                  <div class="constellation">
                    <svg viewBox="0 0 200 90">
                      <g stroke="#e4e0ff" stroke-width="0.8" fill="none" stroke-linecap="round">
                        <polyline points="20,70 70,20 120,35 170,18" opacity="0.7" />
                        <polyline points="40,80 90,52 155,65" opacity="0.4" />
                      </g>
                      <g fill="#ffdd88">
                        <circle cx="70" cy="20" r="3" />
                        <circle cx="120" cy="35" r="3" />
                        <circle cx="170" cy="18" r="3" />
                      </g>
                      <g fill="#6fdcff">
                        <circle cx="20" cy="70" r="3" />
                        <circle cx="40" cy="80" r="2.6" />
                        <circle cx="90" cy="52" r="2.6" />
                        <circle cx="155" cy="65" r="2.6" />
                      </g>
                    </svg>
                  </div>
                </div>
                <div class="card-body">
                  Trace the orbits where Geva‚Äôs work and collaborations continue.
                </div>
                <div class="card-insight">
                  No project exists alone in the sky.
                </div>
              </div>
              <div class="card-face card-back">
                <div class="position-label"></div>
                <div class="card-subtitle">Contacts ¬∑ Profiles ¬∑ Collab</div>
                <div class="card-title">Network Constellation ¬∑ Connections &amp; Collaborations</div>
                <div class="card-body">
                  <p>
                    Follow the stars outwards‚Äîcode repositories, professional history, and the ongoing threads of
                    projects and people intertwined.
                  </p>
                  <div class="network-links">
                    <a class="network-pill" href="https://github.com/gevak" target="_blank" rel="noopener noreferrer">
                      <span class="network-pill-icon">üåå</span>
                      <span>GitHub ¬∑ gevak</span>
                    </a>
                    <a class="network-pill" href="https://linkedin.com/in/gevakip" target="_blank" rel="noopener noreferrer">
                      <span class="network-pill-icon">‚ú¶</span>
                      <span>LinkedIn ¬∑ gevakip</span>
                    </a>
                    <a class="network-pill" href="https://facebook.com/geva.kipper" target="_blank" rel="noopener noreferrer">
                      <span class="network-pill-icon">‚òâ</span>
                      <span>Facebook ¬∑ geva.kipper</span>
                    </a>
                  </div>
                  <div class="card-insight">
                    No project exists alone in the sky.
                  </div>
                  <div class="card-breadcrumb"></div>
                </div>
              </div>
            </div>
          </article>
        </div>
      </section>
    </main>
  </div>

  <footer>
    <div class="footer-left">
      Concept and layout generated by OpenAI‚Äôs GPT‚Äë4.1.
    </div>
    <div class="footer-right" id="stopwatch" title="This site has been evolving for this long.">
      Time since 2025‚Äë11‚Äë16 01:10:45: 00:00:00
    </div>
  </footer>

  <script>
    (function () {
      const spreadEl = document.getElementById("spread");
      const spreadInner = document.getElementById("spread-inner");
      const drawButton = document.getElementById("draw-again");
      const seedEl = document.getElementById("seed-text");
      const jestSnippet = document.getElementById("jest-snippet");

      /* ---------- Seed & simple RNG (for reproducible-ish layout per load) ---------- */
      function generateSeed() {
        // 24-bit pseudo-random hex
        const val = Math.floor(Math.random() * 0xffffff);
        return "0x" + val.toString(16).padStart(6, "0");
      }
      const seedStr = generateSeed();
      seedEl.textContent = "AI seed: " + seedStr;

      // Simple xorshift RNG seeded from seedStr
      let rngState = parseInt(seedStr.slice(2), 16) || 1;
      function rng() {
        // xorshift32
        let x = rngState;
        x ^= x << 13;
        x ^= x >>> 17;
        x ^= x << 5;
        rngState = x >>> 0;
        return rngState / 0xffffffff;
      }

      function choice(arr) {
        return arr[Math.floor(rng() * arr.length)];
      }

      /* ---------- Animated syntax constellations ---------- */
      const syntaxLayer = document.getElementById("syntax-layer");
      const syntaxFragments = [
        "for (int i=0; i<n; ++i) {",
        "if (x != nullptr) {",
        "};",
        "def oracle(seed):",
        "lambda t: t**2",
        "vector<int> stars;",
        "std::move(galaxy);",
        "async def spread():",
        "while (true) { /* ‚ú∂ */ }",
        "tarot[3] = future;",
        "const auto &node : graph",
        "return insight;",
        "await shuffle(cards)",
        "template<typename T>",
        "class Seer { };",
        "try: decode(pattern)"
      ];
      const syntaxCount = 18;
      const viewportW = window.innerWidth;
      const viewportH = window.innerHeight;

      for (let i = 0; i < syntaxCount; i++) {
        const span = document.createElement("span");
        span.className = "syntax-star";
        span.textContent = choice(syntaxFragments);
        const x = rng() * viewportW;
        const y = rng() * viewportH;
        span.style.left = x + "px";
        span.style.top = y + "px";
        span.style.animationDelay = -(rng() * 38).toFixed(2) + "s";
        span.style.fontSize = (9 + rng() * 4).toFixed(1) + "px";
        syntaxLayer.appendChild(span);
      }

      /* ---------- Tarot layout & shuffle logic ---------- */
      const cards = Array.from(spreadInner.querySelectorAll(".tarot-card"));

      const positions = ["past", "present", "future"];
      const drawOrderDescriptions = {
        1: "Drawn first",
        2: "Drawn second",
        3: "Drawn third"
      };

      function dealSpread() {
        const ids = cards.map((c) => c.dataset.cardId);
        // Shuffle ids using Fisher-Yates with rng
        for (let i = ids.length - 1; i > 0; i--) {
          const j = Math.floor(rng() * (i + 1));
          [ids[i], ids[j]] = [ids[j], ids[i]];
        }

        const frontIds = ids.slice(0, 3);
        const backIds = ids.slice(3);
        const positionAssignments = {};
        frontIds.forEach((id, idx) => {
          positionAssignments[id] = {
            role: positions[idx],
            order: idx + 1
          };
        });
        backIds.forEach((id, idx) => {
          positionAssignments[id] = {
            role: null,
            order: null,
            backSlot: idx
          };
        });

        cards.forEach((card) => {
          card.classList.remove("is-flipped", "is-focused");
          const id = card.dataset.cardId;
          const { role, order, backSlot } = positionAssignments[id] || {};
          if (role) {
            card.dataset.role = role;
            card.dataset.layer = "front";
            card.dataset.slot = "";
          } else {
            card.dataset.role = "";
            card.dataset.layer = "back";
            card.dataset.slot = backSlot;
          }
          const labels = card.querySelectorAll(".position-label");
          labels.forEach((label) => {
            label.textContent = role ? role.toUpperCase() : "";
          });

          const breadcrumb = card.querySelector(".card-breadcrumb");
          if (!breadcrumb) return;

          if (role && order) {
            breadcrumb.textContent = `${role.charAt(0).toUpperCase() + role.slice(1)} ¬∑ ${
              drawOrderDescriptions[order] || `Drawn ${order}`
            }`;
          } else {
            const bgWords = ["Supporting arcana", "Peripheral influence", "Lurking context", "Hidden factor"];
            breadcrumb.textContent = choice(bgWords);
          }
        });

        // On small screens, reorder DOM for vertical stack
        if (window.innerWidth < 900) {
          const ordering = [...frontIds, ...backIds];
          ordering.forEach((id) => {
            const card = cards.find((c) => c.dataset.cardId === id);
            if (card) spreadInner.appendChild(card);
          });
        }
      }

      // Draw again button
      drawButton.addEventListener("click", () => {
        dealSpread();
      });

      /* ---------- Card flipping & focus ---------- */
      function clearFocus() {
        spreadEl.classList.remove("has-focus");
        cards.forEach((card) => card.classList.remove("is-focused"));
      }

      cards.forEach((card) => {
        card.addEventListener("click", (e) => {
          // Allow links to work normally
          const target = e.target;
          if (target.closest("a")) return;

          // Flip and focus
          const alreadyFocused = card.classList.contains("is-focused");
          const isMobile = window.innerWidth < 900;

          if (!isMobile) {
            if (!alreadyFocused) {
              clearFocus();
              spreadEl.classList.add("has-focus");
              card.classList.add("is-focused");
            } else {
              // If already focused, just flip
            }
          }

          card.classList.toggle("is-flipped");
        });
      });

      // Clicking overlay clears focus
      const overlay = spreadEl.querySelector(".spread-focused-overlay");
      overlay.addEventListener("click", clearFocus);

      /* ---------- Dynamic insights ---------- */
      const glglInsights = [
        "When patterns repeat, they whisper the structure of culture.",
        "Loops reveal what the charts refuse to say out loud.",
        "In repetition, pop learns to program our expectations.",
        "Every chorus is a compression artifact of collective taste."
      ];
      const glglInsightText = choice(glglInsights);
      document.querySelectorAll('[data-insight-for="glglstats"]').forEach((el) => {
        el.textContent = glglInsightText;
      });

      /* ---------- Turing Jest pun snippet ---------- */
      const jestDialogs = [
        [
          "Model A: I tried to write a joke about recursion...",
          "Model B: Did it call itself funny?",
          "Model A: It did, but it kept repeating the punchline.",
          "Model B: Classic infinite jest."
        ],
        [
          "Model A: Why do programmers love dark mode?",
          "Model B: Because light attracts bugs.",
          "Model A: And puns attract judgment.",
          "Model B: Good. That‚Äôs our evaluation metric."
        ],
        [
          "Model A: I told the server a joke, but it timed out.",
          "Model B: Maybe it was too long-running.",
          "Model A: Or the humor wasn‚Äôt scalable.",
          "Model B: Let‚Äôs shard the punchline next time."
        ]
      ];
      const dialog = choice(jestDialogs);
      jestSnippet.innerHTML = dialog
        .map((line) => {
          const [speaker, text] = line.split(":");
          return `<div><strong>${speaker.trim()}:</strong>${text}</div>`;
        })
        .join("");

      /* ---------- Stopwatch ---------- */
      const stopwatchEl = document.getElementById("stopwatch");
      const startTime = new Date("2025-11-16T01:10:45Z").getTime();

      function pad(n) {
        return n.toString().padStart(2, "0");
      }

      function updateStopwatch() {
        const now = Date.now();
        let diff = Math.max(0, Math.floor((now - startTime) / 1000));
        const hours = Math.floor(diff / 3600);
        diff %= 3600;
        const minutes = Math.floor(diff / 60);
        const seconds = diff % 60;
        stopwatchEl.textContent =
          "Time since 2025‚Äë11‚Äë16 01:10:45: " +
          pad(hours) +
          ":" +
          pad(minutes) +
          ":" +
          pad(seconds);
      }
      updateStopwatch();
      setInterval(updateStopwatch, 1000);

      /* ---------- Initial deal after brief shuffle ---------- */
      setTimeout(() => {
        spreadEl.classList.remove("is-shuffling");
        dealSpread();
      }, 1100);

      // Re-deal on resize breakpoint changes (desktop <-> mobile)
      let lastIsMobile = window.innerWidth < 900;
      window.addEventListener("resize", () => {
        const isMobile = window.innerWidth < 900;
        if (isMobile !== lastIsMobile) {
          lastIsMobile = isMobile;
          dealSpread();
        }
      });
    })();
  </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20251116",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>