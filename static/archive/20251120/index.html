<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GEVA KIPPER - TRANSACTION LOG</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #1a1a1a;
            --paper-color: #f4f4f4;
            --ink-color: #111111;
            --ink-subtle: rgba(17, 17, 17, 0.85);
            --dashed-border: 2px dashed var(--ink-color);
            --font-main: 'VT323', monospace;
        }

        * {
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            margin: 0;
            padding: 40px 0;
            font-family: var(--font-main);
            color: var(--ink-color);
            overflow-x: hidden;
            perspective: 1000px; /* For the 3D sway effect */
        }

        /* The Receipt Container */
        #receipt-container {
            width: 100%;
            display: flex;
            justify-content: center;
            transform-origin: top center;
            will-change: transform;
            transition: transform 0.1s ease-out;
        }

        .receipt {
            background-color: var(--paper-color);
            width: 380px;
            max-width: 95vw;
            position: relative;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            /* Paper texture noise overlay */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        }

        /* Jagged Bottom Edge */
        .receipt::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -10px;
            width: 100%;
            height: 10px;
            background: 
                linear-gradient(45deg, transparent 33.333%, var(--paper-color) 33.333%, var(--paper-color) 66.667%, transparent 66.667%),
                linear-gradient(-45deg, transparent 33.333%, var(--paper-color) 33.333%, var(--paper-color) 66.667%, transparent 66.667%);
            background-size: 20px 40px;
            background-position: 0 -20px;
        }

        /* Typography & General Layout */
        h1, h2, h3, p {
            margin: 0;
            line-height: 1.2;
            text-transform: uppercase;
        }

        a {
            color: var(--ink-color);
            text-decoration: none;
            cursor: pointer;
        }

        /* Hover Overstrike Effect */
        a:hover {
            text-shadow: 0.5px 0 0 var(--ink-color); /* Simulates double-strike bold */
            font-weight: 900;
        }

        .separator {
            width: 100%;
            border-bottom: var(--dashed-border);
            margin: 15px 0;
            opacity: 0.6;
        }

        .double-separator {
            border-bottom: 4px double var(--ink-color);
            margin: 15px 0;
        }

        /* Header */
        .header {
            text-align: center;
        }
        .logo {
            font-size: 3rem;
            letter-spacing: 2px;
            font-weight: bold;
            margin-bottom: 5px;
            opacity: 0.9;
        }

        .meta-row {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .disclaimer-box {
            border: var(--dashed-border);
            padding: 10px;
            font-size: 1rem;
            text-align: left;
            margin-top: 15px;
        }

        /* Project Items */
        .item-row {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .item-header {
            font-size: 1.4rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between; /* In case we want price right aligned later */
        }

        .visual-container {
            width: 100%;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.03);
            overflow: hidden;
            position: relative;
        }

        /* Canvas for Dithered Effects */
        canvas.dither-canvas {
            image-rendering: pixelated; 
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .action-links {
            font-size: 1.1rem;
            padding-left: 10px;
        }

        .sub-link {
            display: block;
            margin-left: 20px;
            font-size: 1rem;
        }
        
        .sub-link::before {
            content: "+ ";
        }

        .sku-code {
            font-family: 'VT323', monospace;
            letter-spacing: 1px;
            border: 1px solid var(--ink-color);
            padding: 2px 6px;
            display: inline-block;
            margin-top: 5px;
        }

        .star-rating {
            font-size: 1.5rem;
            line-height: 1;
        }

        .btn-install {
            border: 2px solid var(--ink-color);
            background: transparent;
            color: var(--ink-color);
            padding: 5px 15px;
            font-family: var(--font-main);
            font-size: 1.2rem;
            text-transform: uppercase;
            display: inline-block;
            margin-top: 5px;
        }

        /* Animation Specifics */
        .rotate-stepped {
            animation: spin 4s steps(8) infinite;
            transform-origin: center;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Footer */
        .loyalty-section {
            text-align: center;
            margin-top: 20px;
            margin-bottom: 30px;
        }

        .icons-row {
            display: flex;
            justify-content: space-around;
            margin-bottom: 10px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border: 2px solid var(--ink-color);
            border-radius: 50%; /* Stamp look */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .social-link-text {
            font-size: 0.9rem;
            display: block;
            font-stretch: condensed;
        }

        .total-section {
            text-align: center;
            font-size: 1.2rem;
        }

        .cashier-id {
            margin-bottom: 5px;
        }

        .stopwatch {
            font-size: 1.6rem;
            font-weight: bold;
            letter-spacing: 2px;
        }

    </style>
</head>
<body>

<div id="receipt-container">
    <div class="receipt">
        
        <!-- HEADER -->
        <header class="header">
            <div class="logo">GEVA KIPPER</div>
            <div class="double-separator"></div>
            <div class="meta-row">
                <span>ROLE: SOFTWARE ENGINEER</span>
                <span>LOC: GOOGLE HQ</span>
            </div>
            <div class="disclaimer-box">
                NOTICE: This interface is re-generated daily by AI. Design subject to algorithmic drift.
            </div>
        </header>

        <div class="separator"></div>

        <!-- ITEMS LIST -->
        <div id="items-list">

            <!-- Item 01 -->
            <div class="item-row">
                <div class="item-header">QTY 1: GLGLSTATS (PYTHON)</div>
                <div class="visual-container">
                    <canvas id="c-glgl" width="300" height="80"></canvas>
                </div>
                <div class="action-links">
                    <a href="https://glglstats.geekip.dev" target="_blank">[SKU: WEB_SITE]</a><br>
                    <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank">[SKU: PY_DATA_TALK]</a>
                </div>
            </div>
            <div class="separator"></div>

            <!-- Item 02 -->
            <div class="item-row">
                <div class="item-header">QTY 1: HEATMAP ANALYTICS</div>
                <div class="visual-container">
                    <canvas id="c-map" width="300" height="80"></canvas>
                </div>
                <div class="action-links">
                    <div>AHUZAT DIBUK COVERAGE:</div>
                    <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank" class="sub-link">REF: NEWS_13</a>
                    <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank" class="sub-link">REF: MAKO</a>
                    <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" target="_blank" class="sub-link">REF: SECRET_TLV</a>
                </div>
            </div>
            <div class="separator"></div>

            <!-- Item 03 -->
            <div class="item-row">
                <div class="item-header">QTY 1: C++ ALGO // GEOMETRY</div>
                <!-- Rotating polygon handled via CSS + Dither combo -->
                <div class="visual-container">
                     <!-- We will draw a polygon on canvas and rely on CSS to rotate the whole container slightly, 
                          but for specific wireframe rotation we can do it in JS or just CSS rotate the canvas wrapper -->
                     <div class="rotate-stepped" style="width: 100%; height: 100%; display: flex; justify-content: center; align-items:center;">
                        <canvas id="c-poly" width="100" height="80"></canvas>
                     </div>
                </div>
                <div class="action-links" style="text-align: center;">
                    <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" style="text-decoration: underline; font-weight: bold; font-size: 1.3rem;">VIEW SOURCE</a>
                </div>
            </div>
            <div class="separator"></div>

            <!-- Item 04 -->
            <div class="item-row">
                <div class="item-header">QTY 1: LLM_ARENA_PUNS</div>
                <div class="star-rating">★★★★★</div>
                <div class="visual-container">
                    <canvas id="c-jest" width="300" height="80"></canvas>
                </div>
                <div class="action-links">
                    <a href="https://jest.geekip.dev" target="_blank" class="sku-code">SURVEY CODE: JEST.DEV</a>
                </div>
            </div>
            <div class="separator"></div>

             <!-- Item 05 -->
             <div class="item-row">
                <div class="item-header">QTY 1: CHROME_EXT (COMEDY)</div>
                <div class="visual-container">
                    <canvas id="c-rhyme" width="300" height="80"></canvas>
                </div>
                <div class="action-links" style="text-align:center;">
                    <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank" class="btn-install">INSTALL EXTENSION</a>
                </div>
            </div>
            <div class="separator"></div>

             <!-- Item 06 -->
             <div class="item-row">
                <div class="item-header">QTY 1: RECURSION_ERROR</div>
                <div class="visual-container">
                    <canvas id="c-meta" width="300" height="80"></canvas>
                </div>
                <div class="action-links">
                    <a href="https://geekip.dev" target="_blank">SELF_REFERENCE: TRUE</a>
                </div>
            </div>
            <div class="separator"></div>

        </div>

        <!-- SOCIALS -->
        <div class="loyalty-section">
            <div style="margin-bottom: 10px; font-weight: bold;">*** LOYALTY CONNECT ***</div>
            <div class="icons-row">
                <a href="https://github.com/gevak" target="_blank">
                    <div class="social-icon">GH</div>
                </a>
                <a href="https://linkedin.com/in/gevakip" target="_blank">
                    <div class="social-icon">LI</div>
                </a>
                <a href="https://facebook.com/geva.kipper" target="_blank">
                    <div class="social-icon">FB</div>
                </a>
            </div>
            <div style="text-align: center; margin-top:5px;">
                <a href="https://github.com/gevak" class="social-link-text">github.com/gevak</a>
                <a href="https://linkedin.com/in/gevakip" class="social-link-text">linkedin.com/in/gevakip</a>
            </div>
        </div>

        <div class="double-separator"></div>

        <!-- FOOTER -->
        <footer class="total-section">
            <div class="cashier-id">CASHIER ID: AI_MODEL_V1</div>
            <div class="stopwatch" id="live-timer">LOADING...</div>
        </footer>

    </div>
</div>

<script>
    /* 
     * 1. GRAPHICS ENGINE (Floyd-Steinberg Dithering)
     * We draw vector shapes to a canvas, then run pixel manipulation to dither them
     * to purely black and transparent/white pixels.
     */

    function applyDither(ctx, width, height) {
        const imgData = ctx.getImageData(0, 0, width, height);
        const data = imgData.data;
        
        // Convert to grayscale first, then dither
        for (let i = 0; i < data.length; i += 4) {
            const avg = (data[i] + data[i + 1] + data[i + 2]) / 3;
            data[i] = avg;     // R
            data[i + 1] = avg; // G
            data[i + 2] = avg; // B
        }

        // Floyd-Steinberg
        for (let y = 0; y < height; y++) {
            for (let x = 0; x < width; x++) {
                const i = (y * width + x) * 4;
                const oldPixel = data[i];
                const newPixel = oldPixel < 128 ? 0 : 255;
                
                data[i] = newPixel;
                data[i + 1] = newPixel;
                data[i + 2] = newPixel;
                // data[i+3] is alpha, keep as is (usually 255 unless transparent)

                const quantError = oldPixel - newPixel;

                if (x + 1 < width) {
                    const idx = (y * width + (x + 1)) * 4;
                    data[idx] += quantError * 7 / 16;
                }
                if (x - 1 >= 0 && y + 1 < height) {
                    const idx = ((y + 1) * width + (x - 1)) * 4;
                    data[idx] += quantError * 3 / 16;
                }
                if (y + 1 < height) {
                    const idx = ((y + 1) * width + x) * 4;
                    data[idx] += quantError * 5 / 16;
                }
                if (x + 1 < width && y + 1 < height) {
                    const idx = ((y + 1) * width + (x + 1)) * 4;
                    data[idx] += quantError * 1 / 16;
                }
            }
        }
        ctx.putImageData(imgData, 0, 0);
    }

    // Drawing Functions for specific items
    
    function drawGlgl(id) {
        const cvs = document.getElementById(id);
        const ctx = cvs.getContext('2d');
        // Draw white background
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,300,80);
        
        // Draw Sparkline
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(0, 40);
        for(let x=0; x<300; x+=5) {
            // Random noise to look like audio waveform
            const y = 40 + (Math.random() * 60 - 30);
            ctx.lineTo(x, y);
        }
        ctx.stroke();
        
        // Apply dither to make it look printed
        applyDither(ctx, 300, 80);
    }

    function drawMap(id) {
        const cvs = document.getElementById(id);
        const ctx = cvs.getContext('2d');
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,300,80);

        // Draw Heatmap Grid
        for(let y=0; y<80; y+=10) {
            for(let x=0; x<300; x+=10) {
                // Random gray intensity
                const intensity = Math.floor(Math.random() * 255);
                ctx.fillStyle = `rgb(${intensity},${intensity},${intensity})`;
                ctx.fillRect(x, y, 10, 10);
            }
        }
        applyDither(ctx, 300, 80);
    }

    function drawPoly(id) {
        const cvs = document.getElementById(id);
        const ctx = cvs.getContext('2d');
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,100,80);
        
        // Draw Shape
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(50, 10);
        ctx.lineTo(90, 30);
        ctx.lineTo(70, 70);
        ctx.lineTo(30, 70);
        ctx.lineTo(10, 30);
        ctx.closePath();
        ctx.stroke();
        
        // Internal triangulation lines
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(50,10); ctx.lineTo(70,70);
        ctx.moveTo(50,10); ctx.lineTo(30,70);
        ctx.stroke();

        applyDither(ctx, 100, 80);
    }

    function drawJest(id) {
        const cvs = document.getElementById(id);
        const ctx = cvs.getContext('2d');
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,300,80);

        // Draw split face
        // Left Robot
        ctx.fillStyle = '#aaa';
        ctx.fillRect(120, 10, 30, 60);
        ctx.fillStyle = 'black';
        ctx.fillRect(125, 25, 10, 10); // eye

        // Right Jester
        ctx.fillStyle = '#555';
        ctx.beginPath();
        ctx.moveTo(150, 10);
        ctx.lineTo(180, 10);
        ctx.lineTo(185, 30); // Hat tip
        ctx.lineTo(165, 70);
        ctx.lineTo(150, 70);
        ctx.fill();
        
        applyDither(ctx, 300, 80);
    }

    function drawRhyme(id) {
        const cvs = document.getElementById(id);
        const ctx = cvs.getContext('2d');
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,300,80);

        // Newspaper Layout
        ctx.fillStyle = 'black';
        // Headline blocks
        ctx.fillRect(50, 10, 200, 15);
        // Columns
        ctx.fillStyle = '#888';
        for(let row=0; row<3; row++) {
            ctx.fillRect(50, 35 + (row*12), 90, 8);
            ctx.fillRect(150, 35 + (row*12), 100, 8);
        }
        applyDither(ctx, 300, 80);
    }

    function drawMeta(id) {
        const cvs = document.getElementById(id);
        const ctx = cvs.getContext('2d');
        ctx.fillStyle = 'white';
        ctx.fillRect(0,0,300,80);
        
        // Recursion Rectangles
        ctx.strokeStyle = 'black';
        let w = 60, h = 70;
        let x = 150 - w/2;
        let y = 40 - h/2;
        
        for(let i=0; i<5; i++) {
            ctx.strokeRect(x, y, w, h);
            x += 5;
            y += 5;
            w -= 10;
            h -= 10;
        }

        applyDither(ctx, 300, 80);
    }

    // Run Dithering
    window.addEventListener('load', () => {
        drawGlgl('c-glgl');
        drawMap('c-map');
        drawPoly('c-poly');
        drawJest('c-jest');
        drawRhyme('c-rhyme');
        drawMeta('c-meta');
    });


    /* 
     * 2. SCROLL SWAY ANIMATION
     * Calculates scroll velocity to rotate the receipt in 3D space.
     */
    
    let lastScrollY = window.scrollY;
    const container = document.querySelector('.receipt');
    
    function swayLoop() {
        const currentScrollY = window.scrollY;
        const velocity = currentScrollY - lastScrollY;
        
        // Clamp velocity to prevent extreme swinging
        const rotation = Math.max(Math.min(velocity * 0.1, 5), -5);
        
        // Apply transform. Note: Container needs perspective in CSS.
        container.style.transform = `rotateX(${rotation}deg) translateY(${rotation > 0 ? -rotation : rotation}px)`;
        
        lastScrollY = currentScrollY;
        requestAnimationFrame(swayLoop);
    }
    swayLoop();


    /* 
     * 3. TIMER / STOPWATCH
     * Counts from reference date: 2025-11-20 01:04:37
     */

    const timerEl = document.getElementById('live-timer');
    const targetDate = new Date('2025-11-20T01:04:37').getTime();

    function updateTimer() {
        const now = new Date().getTime();
        const diff = now - targetDate;
        const isFuture = diff < 0;
        const absDiff = Math.abs(diff);

        const hours = Math.floor(absDiff / (1000 * 60 * 60));
        const minutes = Math.floor((absDiff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((absDiff % (1000 * 60)) / 1000);

        // Format with leading zeros
        const hh = String(hours).padStart(2, '0');
        const mm = String(minutes).padStart(2, '0');
        const ss = String(seconds).padStart(2, '0');

        // Flicker effect on seconds: random chance opacity
        const flicker = Math.random() > 0.9 ? 0.5 : 1;
        
        const prefix = isFuture ? "ETA: -" : "T+: ";
        timerEl.innerHTML = `${prefix}${hh}:${mm}<span style="opacity:${flicker}">:${ss}</span>`;
    }

    setInterval(updateTimer, 100); // Updates 10 times a second for responsiveness

</script>

<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20251120",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>