<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper | Software Engineer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- CSS VARIABLES & RESET --- */
        :root {
            --bg-dark: #0d1117;
            --glass-bg: rgba(22, 27, 34, 0.65);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-main: #c9d1d9;
            --text-muted: #8b949e;
            --accent-dim: #0e4429;
            --accent-mid: #238636;
            --accent-bright: #39d353;
            
            --rare-gold: #d29922;
            --rare-blue: #58a6ff;
            --rare-magenta: #bc8cff;

            --font-mono: 'JetBrains Mono', monospace;
            --font-sans: 'Inter', sans-serif;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: var(--font-sans);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* --- BACKGROUND CANVAS --- */
        #game-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.4; /* Subtle background mesh effect */
        }

        /* --- LAYOUT & WRAPPER --- */
        .wrapper {
            position: relative;
            z-index: 1;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            margin-bottom: 40px;
            margin-top: 40px;
        }

        h1 {
            font-family: var(--font-mono);
            font-size: 2.5rem;
            font-weight: 700;
            color: #fff;
            letter-spacing: -1px;
        }

        .cursor {
            display: inline-block;
            width: 12px;
            height: 2.5rem;
            background-color: var(--accent-bright);
            vertical-align: bottom;
            animation: blink 1s step-end infinite;
        }

        .role {
            font-family: var(--font-sans);
            color: var(--text-muted);
            margin-top: 8px;
            font-size: 1.1rem;
        }

        .meta-badge {
            display: inline-block;
            margin-top: 16px;
            padding: 6px 12px;
            border-radius: 20px;
            background: rgba(56, 139, 253, 0.1);
            border: 1px solid rgba(56, 139, 253, 0.4);
            color: var(--rare-blue);
            font-family: var(--font-mono);
            font-size: 0.75rem;
            position: relative;
            overflow: hidden;
        }
        
        .meta-badge::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: badge-shine 3s infinite;
        }

        /* --- GRID --- */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            flex-grow: 1;
            margin-bottom: 60px;
        }

        /* --- CARDS --- */
        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 24px;
            transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--text-muted);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Active state triggered by snake eating rare food */
        .card.card-highlight {
            animation: pulse-card 0.6s ease-in-out;
            border-color: var(--accent-bright);
            box-shadow: 0 0 20px rgba(57, 211, 83, 0.2);
        }

        .commit-hash {
            position: absolute;
            top: 16px;
            right: 16px;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--text-muted);
            text-decoration: none;
            opacity: 0.7;
        }
        .commit-hash:hover { color: var(--accent-bright); opacity: 1; }

        .card-visual {
            height: 80px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .card h3 {
            font-family: var(--font-mono);
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: #fff;
        }

        .card p {
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--text-muted);
            flex-grow: 1;
            margin-bottom: 16px;
        }

        .actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-block;
            padding: 4px 8px;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--glass-border);
            border-radius: 4px;
            color: var(--text-main);
            text-decoration: none;
            transition: all 0.2s;
        }

        .btn:hover {
            background: var(--accent-dim);
            border-color: var(--accent-mid);
            color: #fff;
        }

        /* --- SPECIFIC CARD VISUALS --- */
        /* 1. GlglStats: Waveform */
        .visual-waveform { display: flex; gap: 4px; align-items: flex-end; height: 40px; }
        .bar { width: 8px; background: var(--accent-bright); border-radius: 2px; animation: wave 1s infinite ease-in-out; }
        .bar:nth-child(1) { height: 40%; animation-delay: 0.1s; }
        .bar:nth-child(2) { height: 80%; animation-delay: 0.2s; }
        .bar:nth-child(3) { height: 60%; animation-delay: 0.3s; }
        .bar:nth-child(4) { height: 90%; animation-delay: 0.4s; }
        .bar:nth-child(5) { height: 50%; animation-delay: 0.5s; }

        /* 2. Ahuzat Dibuk: Heatmap Strip */
        .visual-heatmap {
            width: 100%; height: 30px; border-radius: 4px;
            background: linear-gradient(90deg, #ff4444 0%, #ffbb33 40%, #39d353 100%);
            opacity: 0.8;
        }

        /* 3. 2D Part: Wireframe Polygon */
        .visual-polygon svg { width: 50px; height: 50px; animation: spin 10s linear infinite; stroke: var(--rare-blue); fill: none; stroke-width: 2; }
        
        /* 4. Turing Jest: Chat Bubbles */
        .visual-chat { position: relative; width: 60px; height: 40px; }
        .bubble { position: absolute; width: 30px; height: 25px; border-radius: 4px; }
        .bubble-1 { background: var(--text-muted); top: 0; left: 0; clip-path: polygon(0% 0%, 100% 0%, 100% 75%, 75% 75%, 75% 100%, 50% 75%, 0% 75%); opacity: 0.5; }
        .bubble-2 { background: var(--rare-magenta); bottom: 0; right: 0; clip-path: polygon(0% 0%, 100% 0%, 100% 75%, 50% 75%, 25% 100%, 25% 75%, 0% 75%); }

        /* 5. Rhymes: Jester Icon */
        .visual-jester { font-size: 2.5rem; filter: grayscale(100%); transition: filter 0.3s; }
        .card:hover .visual-jester { filter: none; }

        /* 6. Recursion: Snakes */
        .visual-loop svg { width: 50px; stroke: var(--accent-bright); fill: none; stroke-width: 3; stroke-linecap: round; }

        /* 7. Social Card */
        .card-social { border: 1px solid var(--accent-mid); box-shadow: 0 0 15px rgba(35, 134, 54, 0.1); }
        .social-icons { display: flex; gap: 24px; width: 100%; justify-content: center; align-items: center; height: 100%; }
        .s-icon { width: 32px; height: 32px; fill: var(--text-main); transition: fill 0.2s; position: relative; }
        .s-icon:hover { fill: var(--accent-bright); cursor: pointer; }
        
        /* Tooltip simple implementation */
        .s-icon-wrapper { position: relative; }
        .tooltip {
            position: absolute; top: -30px; left: 50%; transform: translateX(-50%);
            background: #000; color: #fff; padding: 2px 6px; font-size: 0.7rem; font-family: var(--font-mono);
            border-radius: 4px; opacity: 0; transition: opacity 0.2s; pointer-events: none; white-space: nowrap;
        }
        .s-icon-wrapper:hover .tooltip { opacity: 1; }

        /* --- FOOTER --- */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(13, 17, 23, 0.9);
            backdrop-filter: blur(5px);
            border-top: 1px solid var(--glass-border);
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: var(--font-mono);
            font-size: 0.75rem;
            color: var(--text-muted);
            z-index: 10;
        }

        .uptime-counter { color: var(--accent-bright); }

        /* --- ANIMATIONS --- */
        @keyframes blink { 50% { opacity: 0; } }
        @keyframes badge-shine { 0% { left: -100%; } 20% { left: 100%; } 100% { left: 100%; } }
        @keyframes wave { 0%, 100% { transform: scaleY(1); } 50% { transform: scaleY(0.5); } }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes pulse-card { 
            0% { transform: scale(1); border-color: var(--accent-bright); } 
            50% { transform: scale(1.05); background: rgba(57, 211, 83, 0.1); } 
            100% { transform: scale(1); } 
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .role { font-size: 0.9rem; }
            .grid { grid-template-columns: 1fr; }
            footer { flex-direction: column; gap: 5px; }
        }
    </style>
</head>
<body>

    <!-- BACKGROUND GAME -->
    <canvas id="game-canvas"></canvas>

    <!-- MAIN CONTENT -->
    <div class="wrapper">
        
        <header>
            <h1>Geva Kipper<span class="cursor"></span></h1>
            <div class="role">Software Engineer at Google</div>
            <div class="meta-badge">Site re-architected daily by AI</div>
        </header>

        <section class="grid">
            
            <!-- 1. GlglStats -->
            <div class="card" id="card-0">
                <a href="https://glglstats.geekip.dev" class="commit-hash">7a3f9c</a>
                <div class="card-visual visual-waveform">
                    <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                </div>
                <h3>GlglStats</h3>
                <p>Measuring Israeli pop-chart repetitiveness via LZ77 compression algorithms.</p>
                <div class="actions">
                    <a href="https://glglstats.geekip.dev" class="btn">[Live Site]</a>
                    <a href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" class="btn">[PyData Talk]</a>
                </div>
            </div>

            <!-- 2. Ahuzat Dibuk -->
            <div class="card" id="card-1">
                <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" class="commit-hash">b2e14x</a>
                <div class="card-visual">
                    <div class="visual-heatmap"></div>
                </div>
                <h3>Ahuzat Dibuk</h3>
                <p>Tel-Aviv parking occupancy visualized through Python scraping.</p>
                <div class="actions">
                    <a href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" class="btn">[Press Ch13]</a>
                    <a href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" class="btn">[Mako]</a>
                    <a href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" class="btn">[Post]</a>
                </div>
            </div>

            <!-- 3. 2D Part Orienting -->
            <div class="card" id="card-2">
                <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" class="commit-hash">9d4a1z</a>
                <div class="card-visual visual-polygon">
                    <svg viewBox="0 0 100 100">
                        <polygon points="50,5 90,25 90,75 50,95 10,75 10,25" />
                    </svg>
                </div>
                <h3>2D Part Orienting</h3>
                <p>C++ implementation of push-plans for orienting polygons in computational geometry.</p>
                <div class="actions">
                    <a href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" class="btn">[Source Code & Docs]</a>
                </div>
            </div>

            <!-- 4. The Turing Jest -->
            <div class="card" id="card-3">
                <a href="https://jest.geekip.dev" class="commit-hash">f10a8b</a>
                <div class="card-visual visual-chat">
                    <div class="bubble bubble-1"></div>
                    <div class="bubble bubble-2"></div>
                </div>
                <h3>The Turing Jest</h3>
                <p>An LMSYS-style arena for ranking LLM-generated puns.</p>
                <div class="actions">
                    <a href="https://jest.geekip.dev" class="btn">[Enter Arena]</a>
                </div>
            </div>

            <!-- 5. Rhymes of Israel -->
            <div class="card" id="card-4">
                <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" class="commit-hash">c4r0me</a>
                <div class="card-visual">
                    <div class="visual-jester">ðŸŽ­</div>
                </div>
                <h3>Rhymes of Israel</h3>
                <p>Chrome extension: Transforming news headlines into high school yearbook rhymes.</p>
                <div class="actions">
                    <a href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" class="btn">[Add to Chrome]</a>
                </div>
            </div>

            <!-- 6. Portfolio Recursion -->
            <div class="card" id="card-5">
                <a href="https://geekip.dev" class="commit-hash">âˆžâˆžâˆžâˆžâˆž</a>
                <div class="card-visual visual-loop">
                    <svg viewBox="0 0 100 50">
                        <path d="M25,25 C25,10 5,10 5,25 C5,40 25,40 25,25 C25,10 75,10 75,25 C75,40 95,40 95,25 C95,10 75,10 75,25" />
                    </svg>
                </div>
                <h3>Portfolio Recursion</h3>
                <p>This website. A self-referential loop.</p>
                <div class="actions">
                    <a href="https://geekip.dev" class="btn">[geekip.dev]</a>
                </div>
            </div>

            <!-- 7. Social Commit -->
            <div class="card card-social" id="card-6">
                <a href="#" class="commit-hash">contact</a>
                <div class="card-visual" style="height:100%">
                    <div class="social-icons">
                        <a href="https://github.com/gevak" target="_blank" class="s-icon-wrapper">
                            <div class="tooltip">gevak</div>
                            <svg class="s-icon" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        </a>
                        
                        <a href="https://linkedin.com/in/gevakip" target="_blank" class="s-icon-wrapper">
                            <div class="tooltip">gevakip</div>
                            <svg class="s-icon" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                        </a>

                        <a href="https://facebook.com/geva.kipper" target="_blank" class="s-icon-wrapper">
                            <div class="tooltip">Geva Kipper</div>
                            <svg class="s-icon" viewBox="0 0 24 24"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg>
                        </a>
                    </div>
                </div>
            </div>

        </section>
    </div>

    <footer>
        <div class="architect">Architect: Claude 3.5 Sonnet</div>
        <div class="uptime" id="time-capsule">UPTIME: CALCULATING...</div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        /**
         * THE LIVING COMMIT GRID (SNAKE ENGINE)
         * Re-purposed as an interactive background element.
         */
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');

        // Config
        const GRID_SIZE = 20;
        const FPS = 15;
        const CARD_COUNT = 7; // Correspond to grid items
        
        // Colors
        const COLOR_BG = '#0d1117';
        const COLOR_SNAKE = '#39d353'; // Brightest green
        const COLOR_GRID = '#161b22';
        // Rare items mapped to the colors requested
        const RARE_COLORS = ['#d29922', '#58a6ff', '#bc8cff'];

        let tileCountX, tileCountY;
        let snake = [{x: 10, y: 10}];
        let velocity = {x: 1, y: 0}; // Default moving right
        let foods = []; 
        let userInteracted = false;
        let autoMoveTimer = 0;

        // Initialize Logic
        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            tileCountX = Math.floor(canvas.width / GRID_SIZE);
            tileCountY = Math.floor(canvas.height / GRID_SIZE);
            spawnFood(5); // Initial density
        }

        window.addEventListener('resize', resize);
        
        // Handling User Input (Hijacks the AI)
        document.addEventListener('keydown', (e) => {
            userInteracted = true;
            switch (e.key) {
                case 'ArrowUp': if (velocity.y !== 1) velocity = {x: 0, y: -1}; break;
                case 'ArrowDown': if (velocity.y !== -1) velocity = {x: 0, y: 1}; break;
                case 'ArrowLeft': if (velocity.x !== 1) velocity = {x: -1, y: 0}; break;
                case 'ArrowRight': if (velocity.x !== -1) velocity = {x: 1, y: 0}; break;
            }
        });

        // Touch for mobile
        let touchStartX = 0;
        let touchStartY = 0;
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, {passive:true});
        
        document.addEventListener('touchend', e => {
            userInteracted = true;
            let touchEndX = e.changedTouches[0].screenX;
            let touchEndY = e.changedTouches[0].screenY;
            if (Math.abs(touchStartX - touchEndX) > Math.abs(touchStartY - touchEndY)) {
                if (touchEndX < touchStartX && velocity.x !== 1) velocity = {x: -1, y: 0};
                if (touchEndX > touchStartX && velocity.x !== -1) velocity = {x: 1, y: 0};
            } else {
                if (touchEndY < touchStartY && velocity.y !== 1) velocity = {x: 0, y: -1};
                if (touchEndY > touchStartY && velocity.y !== -1) velocity = {x: 0, y: 1};
            }
        }, {passive:true});

        // Game Entities
        function spawnFood(count = 1) {
            for(let i=0; i<count; i++) {
                // Ensure we have max 7 "rare" foods corresponding to cards
                if (foods.length > 10) break; 
                
                // 30% chance of being a "Rare Commit" (linked to a card)
                let isRare = Math.random() > 0.7;
                let targetId = isRare ? Math.floor(Math.random() * CARD_COUNT) : null;
                
                foods.push({
                    x: Math.floor(Math.random() * tileCountX),
                    y: Math.floor(Math.random() * tileCountY),
                    isRare: isRare,
                    target: targetId,
                    color: isRare ? RARE_COLORS[Math.floor(Math.random() * RARE_COLORS.length)] : '#238636'
                });
            }
        }

        // AI Logic (Auto Pilot)
        function autoPilot() {
            // Find nearest food
            if (foods.length === 0) spawnFood();
            
            let nearest = foods[0];
            let minDist = 9999;
            
            foods.forEach(f => {
                let d = Math.abs(f.x - snake[0].x) + Math.abs(f.y - snake[0].y);
                if (d < minDist) {
                    minDist = d;
                    nearest = f;
                }
            });

            // Simple Move Towards Logic
            let potentialDirs = [];
            if (nearest.x > snake[0].x) potentialDirs.push({x:1, y:0});
            if (nearest.x < snake[0].x) potentialDirs.push({x:-1, y:0});
            if (nearest.y > snake[0].y) potentialDirs.push({x:0, y:1});
            if (nearest.y < snake[0].y) potentialDirs.push({x:0, y:-1});

            // If blocked or arrived on one axis, try remaining valid directions to keep moving
            potentialDirs.push({x:0, y:1}, {x:0, y:-1}, {x:1, y:0}, {x:-1, y:0}); 
            
            for (let dir of potentialDirs) {
                // Don't reverse
                if (dir.x === -velocity.x && dir.y === -velocity.y) continue;
                
                // Check bounds
                let nextX = snake[0].x + dir.x;
                let nextY = snake[0].y + dir.y;
                
                if (nextX >= 0 && nextX < tileCountX && nextY >= 0 && nextY < tileCountY) {
                    velocity = dir;
                    break;
                }
            }
        }

        function gameLoop() {
            // Logic
            if (!userInteracted) {
                autoMoveTimer++;
                if(autoMoveTimer > 0) autoPilot();
            }

            // Move Head
            let head = {x: snake[0].x + velocity.x, y: snake[0].y + velocity.y};

            // Wall Wrap
            if (head.x < 0) head.x = tileCountX - 1;
            if (head.x >= tileCountX) head.x = 0;
            if (head.y < 0) head.y = tileCountY - 1;
            if (head.y >= tileCountY) head.y = 0;

            snake.unshift(head);

            // Eat Food
            let ate = false;
            for (let i = 0; i < foods.length; i++) {
                if (head.x === foods[i].x && head.y === foods[i].y) {
                    // Highlight Card
                    if (foods[i].isRare && foods[i].target !== null) {
                        triggerCardHighlight(foods[i].target);
                    }
                    
                    foods.splice(i, 1);
                    ate = true;
                    spawnFood(1);
                    break;
                }
            }

            if (!ate) {
                snake.pop();
            }

            // Draw
            ctx.fillStyle = COLOR_BG;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw Grid (Faint)
            ctx.strokeStyle = COLOR_GRID;
            ctx.lineWidth = 1;
            /* 
            // Drawing full grid every frame is expensive. 
            // Keeping it clean/dark is more "GitHub" style.
            // We only draw the active elements.
            */

            // Draw Food
            foods.forEach(f => {
                ctx.fillStyle = f.color;
                ctx.shadowColor = f.color;
                ctx.shadowBlur = f.isRare ? 15 : 0; // Glow correct foods
                ctx.fillRect(f.x * GRID_SIZE + 2, f.y * GRID_SIZE + 2, GRID_SIZE - 4, GRID_SIZE - 4);
                ctx.shadowBlur = 0;
            });

            // Draw Snake
            ctx.fillStyle = COLOR_SNAKE;
            ctx.shadowColor = COLOR_SNAKE;
            ctx.shadowBlur = 10;
            snake.forEach(part => {
                ctx.fillRect(part.x * GRID_SIZE, part.y * GRID_SIZE, GRID_SIZE - 2, GRID_SIZE - 2);
            });
            ctx.shadowBlur = 0;
        }

        function triggerCardHighlight(index) {
            const card = document.getElementById(`card-${index}`);
            if (card) {
                card.classList.remove('card-highlight');
                void card.offsetWidth; // trigger reflow
                card.classList.add('card-highlight');
            }
        }

        // Start
        resize();
        setInterval(gameLoop, 1000 / FPS);


        /**
         * THE TIME CAPSULE (FOOTER LOGIC)
         */
        function updateUptime() {
            const start = new Date("2025-11-22T01:03:22").getTime();
            const now = new Date().getTime();
            
            // Calculate absolute difference in milliseconds
            let diff = Math.abs(now - start);
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            
            // Prefix logic for future vs past
            const prefix = now < start ? "T-MINUS: " : "UPTIME: ";

            document.getElementById('time-capsule').innerText = 
                `${prefix}${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        setInterval(updateUptime, 1000);
        updateUptime();

    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20251122",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>