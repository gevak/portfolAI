<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Geva Kipper — Portfolio</title>
  <style>
    :root{
      --bg0:#07090d;
      --bg1:#0a0d14;
      --panel:#0e121b;
      --panel2: rgba(18, 24, 36, .58);
      --text:#eef2ff;
      --muted:#aab3c9;
      --muted2:#7f8aa6;
      --stroke: rgba(255,255,255,.10);
      --stroke2: rgba(255,255,255,.07);

      --accent: #4b7dff; /* set by JS daily */
      --accent2: rgba(75,125,255,.32);
      --accentGlow: rgba(75,125,255,.22);

      --radius: 18px;
      --radiusKey: 16px;
      --shadowKey: 0 18px 40px rgba(0,0,0,.55), 0 2px 0 rgba(255,255,255,.06) inset;
      --shadowKeyDown: 0 10px 26px rgba(0,0,0,.62), 0 1px 0 rgba(255,255,255,.05) inset;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --sans2: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

      --grainOpacity: .11; /* set by JS daily */
      --legendStyle: 0;    /* 0..2 */
      --keycapStyle: 0;    /* 0..2 */
      --kbdCompact: 0;     /* mobile collapse state */
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--sans2);
      color: var(--text);
      background:
        radial-gradient(1200px 500px at 50% -10%, rgba(255,255,255,.06), transparent 60%),
        radial-gradient(900px 650px at 90% 20%, rgba(255,255,255,.05), transparent 55%),
        radial-gradient(800px 600px at 20% 25%, rgba(255,255,255,.04), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 60%, #05070c);
      overflow-x:hidden;
    }

    /* Ambient grain + desk dust */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background:
        repeating-linear-gradient(0deg,
          rgba(255,255,255,.015) 0px,
          rgba(255,255,255,.015) 1px,
          transparent 2px,
          transparent 4px),
        radial-gradient(2px 2px at 12% 18%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(1px 1px at 83% 62%, rgba(255,255,255,.09), transparent 60%),
        radial-gradient(1px 1px at 36% 78%, rgba(255,255,255,.08), transparent 60%),
        radial-gradient(1px 1px at 64% 35%, rgba(255,255,255,.06), transparent 60%);
      opacity: var(--grainOpacity);
      mix-blend-mode: overlay;
      filter: contrast(115%) saturate(90%);
    }

    a{ color:inherit; text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .wrap{
      width:min(1200px, calc(100vw - 40px));
      margin:0 auto;
    }

    /* Sticky keyboard “instrument” */
    .instrument{
      position:sticky;
      top:0;
      z-index:20;
      padding: 18px 0 12px;
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(7,9,13,.78), rgba(7,9,13,.38) 70%, rgba(7,9,13,0));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }

    .hero{
      text-align:center;
      padding: 8px 0 14px;
      position:relative;
    }
    .hero h1{
      margin:0;
      font-family: var(--sans);
      font-weight: 650;
      letter-spacing: -0.02em;
      font-size: clamp(28px, 3.2vw, 44px);
      line-height:1.08;
    }
    .hero .lead{
      margin:10px auto 0;
      color: var(--muted);
      max-width: 880px;
      font-size: clamp(14px, 1.3vw, 17px);
      line-height:1.55;
    }
    .hero .sub{
      margin:8px auto 0;
      color: var(--muted2);
      max-width: 880px;
      font-size: 13px;
      line-height:1.5;
    }

    .todayTag{
      position:absolute;
      right:0;
      top:0;
      transform: translateY(2px);
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(10, 14, 22, .55);
      box-shadow: 0 16px 40px rgba(0,0,0,.45);
      font-family: var(--mono);
      font-size: 12px;
      color: rgba(240,245,255,.86);
      white-space:nowrap;
    }
    .dot{
      width:8px; height:8px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 0 3px rgba(255,255,255,.04), 0 0 18px var(--accentGlow);
    }

    /* Keyboard surface */
    .kbdShell{
      position:relative;
      border-radius: 26px;
      padding: 16px 16px 14px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.09);
      box-shadow: 0 22px 60px rgba(0,0,0,.65);
      overflow:hidden;
    }

    /* Slow glow under keyboard */
    .kbdShell::before{
      content:"";
      position:absolute;
      inset:-30% -20%;
      background:
        radial-gradient(600px 260px at 20% 30%, var(--accentGlow), transparent 62%),
        radial-gradient(520px 260px at 80% 20%, rgba(255,255,255,.06), transparent 62%),
        radial-gradient(650px 260px at 55% 65%, rgba(255,255,255,.05), transparent 62%);
      filter: blur(6px);
      opacity:.85;
      animation: drift 10s linear infinite;
      pointer-events:none;
    }

    @keyframes drift{
      0%{ transform: translate3d(-2%, -1%, 0); }
      50%{ transform: translate3d(2%, 1%, 0); }
      100%{ transform: translate3d(-2%, -1%, 0); }
    }

    .kbdTopRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 10px;
      position:relative;
      z-index:1;
      margin-bottom: 10px;
    }
    .kbdHint{
      font-family: var(--mono);
      color: rgba(240,245,255,.72);
      font-size: 12px;
      letter-spacing:.01em;
    }
    .kbdControls{
      display:flex;
      gap: 10px;
      align-items:center;
    }
    .toggleMini{
      display:none;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.28);
      color: rgba(240,245,255,.86);
      padding: 8px 10px;
      border-radius: 999px;
      font-family: var(--mono);
      font-size: 12px;
      cursor:pointer;
    }
    .toggleMini:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    .kbd{
      position:relative;
      z-index:1;
      display:grid;
      grid-template-columns: repeat(14, minmax(0, 1fr));
      gap: 10px;
      align-items:stretch;
    }

    .key{
      position:relative;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap: 6px;
      padding: 12px 10px;
      min-height: 58px;
      border-radius: var(--radiusKey);
      border: 1px solid rgba(255,255,255,.10);
      background:
        linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.03));
      box-shadow: var(--shadowKey);
      cursor:pointer;
      user-select:none;
      transform: translateZ(0);
      transition: transform 110ms ease, box-shadow 110ms ease, border-color 160ms ease, background 160ms ease;
      -webkit-tap-highlight-color: transparent;
    }

    /* subtle “bevel/chamfer” */
    .key::after{
      content:"";
      position:absolute;
      inset: 1px;
      border-radius: calc(var(--radiusKey) - 2px);
      background: linear-gradient(180deg, rgba(0,0,0,.12), transparent 44%);
      pointer-events:none;
      opacity: .9;
    }

    /* key underglow */
    .key::before{
      content:"";
      position:absolute;
      inset:-10px -12px;
      border-radius: calc(var(--radiusKey) + 14px);
      background: radial-gradient(120px 60px at 50% 105%, rgba(255,255,255,.06), transparent 60%),
                  radial-gradient(160px 90px at 50% 110%, var(--accent2), transparent 62%);
      opacity: .55;
      filter: blur(9px);
      pointer-events:none;
      transition: opacity 160ms ease, transform 160ms ease;
      transform: translateY(1px);
    }

    .key:hover{
      border-color: rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(255,255,255,.11), rgba(255,255,255,.035));
    }
    .key:active, .key.isDown{
      transform: translateY(2px);
      box-shadow: var(--shadowKeyDown);
    }
    .key.isActive::before{
      opacity: .95;
      transform: translateY(0);
    }

    .key[disabled]{
      cursor:default;
      opacity:.55;
      filter: saturate(70%);
    }

    .legendTop{
      font-family: var(--mono);
      font-size: 13px;
      letter-spacing: .04em;
      color: rgba(240,245,255,.88);
      text-transform: uppercase;
      line-height:1.05;
    }
    .legendBottom{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(205,214,236,.66);
      letter-spacing: .06em;
      text-transform: uppercase;
      line-height:1.05;
    }

    /* Daily legend style variants */
    [data-legend-style="1"] .legendTop{ letter-spacing:.10em; }
    [data-legend-style="1"] .legendBottom{ opacity:.85; }
    [data-legend-style="2"] .legendTop{ font-variation-settings: "wght" 700; }
    [data-legend-style="2"] .legendBottom{ letter-spacing:.02em; }

    /* Daily keycap surface variants */
    [data-keycap-style="1"] .key{
      background: linear-gradient(180deg, rgba(255,255,255,.075), rgba(255,255,255,.02));
      border-color: rgba(255,255,255,.095);
    }
    [data-keycap-style="2"] .key{
      background:
        radial-gradient(180px 80px at 20% 20%, rgba(255,255,255,.11), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,.075), rgba(255,255,255,.025));
    }

    /* Grid placement for a “keyboard-ish” layout */
    .k-esc{ grid-column: span 2; }
    .k-tab{ grid-column: span 2; }
    .k-caps{ grid-column: span 2; }
    .k-shift{ grid-column: span 3; }
    .k-space{ grid-column: span 6; }
    .k-enter{ grid-column: span 2; }
    .k-wide{ grid-column: span 2; }
    .k-span3{ grid-column: span 3; }

    .key .kbdIcon{
      position:absolute;
      right:10px;
      top:10px;
      opacity:.6;
      color: rgba(220,230,255,.75);
      font-family: var(--mono);
      font-size: 10px;
      letter-spacing:.08em;
    }

    .tray{
      margin-top: 12px;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.10);
      background: var(--panel2);
      box-shadow: 0 26px 70px rgba(0,0,0,.66);
      overflow:hidden;
      display:none;
      position:relative;
    }
    .tray.isOpen{ display:block; }

    .tray::before{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0));
      pointer-events:none;
    }

    .trayInner{
      padding: 18px 18px 16px;
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }
    .trayHeader{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 12px;
      margin-bottom: 10px;
    }
    .crumb{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap: 10px;
      font-family: var(--mono);
      color: rgba(220,230,255,.82);
      font-size: 12px;
    }
    .crumb .pill{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      box-shadow: 0 0 0 1px rgba(0,0,0,.2) inset;
    }
    .pill .accentPip{
      width:7px; height:7px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 12px var(--accentGlow);
    }

    .trayTitle{
      margin:0;
      font-family: var(--sans);
      letter-spacing:-0.01em;
      font-weight: 650;
      font-size: 18px;
      line-height:1.2;
    }
    .trayLegend{
      margin-top:4px;
      font-family: var(--mono);
      color: rgba(205,214,236,.70);
      letter-spacing: .08em;
      text-transform: uppercase;
      font-size: 11px;
    }
    .trayBody{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 12px;
      align-items:start;
    }
    .trayBody p{
      margin:0;
      color: var(--muted);
      line-height:1.6;
      font-size: 14px;
    }
    .trayActions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      box-shadow: 0 16px 40px rgba(0,0,0,.45);
      font-family: var(--mono);
      font-size: 12px;
      letter-spacing:.04em;
      color: rgba(240,245,255,.9);
      text-decoration:none;
      transition: border-color 160ms ease, transform 110ms ease, background 160ms ease;
      cursor:pointer;
    }
    .btn:hover{ border-color: rgba(255,255,255,.18); text-decoration:none; }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      border-color: rgba(255,255,255,.18);
      background: linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.28));
      position:relative;
    }
    .btn.primary::before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      box-shadow: 0 0 0 1px rgba(0,0,0,.28) inset, 0 0 24px var(--accentGlow);
      pointer-events:none;
    }
    .btn:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .btn .arrow{ opacity:.9; }

    .divider{
      height:1px;
      background: rgba(255,255,255,.08);
      margin: 12px 0 0;
    }

    /* Main content */
    main{
      padding: 18px 0 34px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    @media (min-width: 980px){
      .grid{
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      .span2{ grid-column: 1 / -1; }
    }

    .card{
      position:relative;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
      box-shadow: 0 20px 60px rgba(0,0,0,.55);
      overflow:hidden;
      padding: 16px 16px 14px;
    }
    .card::before{
      content:"";
      position:absolute;
      left:0; right:0; top:0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      opacity:.9;
    }
    .cardHeader{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 10px;
      margin-bottom: 8px;
    }
    .cardTitle{
      margin:0;
      font-family: var(--sans);
      font-weight: 680;
      letter-spacing:-0.01em;
      font-size: 18px;
      line-height:1.2;
    }
    .cardLegend{
      margin-top:4px;
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: .10em;
      color: rgba(205,214,236,.70);
      text-transform: uppercase;
    }
    .card p{
      margin: 10px 0 0;
      color: var(--muted);
      line-height:1.6;
      font-size: 14px;
    }
    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 7px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(240,245,255,.84);
      text-decoration:none;
    }
    .chip:hover{ border-color: rgba(255,255,255,.18); text-decoration:none; }
    .chip:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .chip .miniDot{
      width:6px; height:6px; border-radius:50%;
      background: rgba(240,245,255,.58);
    }

    /* Embedded video preview */
    .videoFrame{
      margin-top: 12px;
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      box-shadow: 0 18px 40px rgba(0,0,0,.55);
      position:relative;
    }
    .videoFrame::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      border-radius: 18px;
      box-shadow: 0 0 0 1px rgba(0,0,0,.35) inset, 0 0 28px rgba(0,0,0,.35);
    }
    .videoFrame iframe{
      display:block;
      width:100%;
      aspect-ratio: 16 / 9;
      border:0;
    }

    /* ORIENT diagram accent */
    .diagram{
      width: 96px;
      height: 44px;
      opacity: .9;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.45));
    }
    .diagram path, .diagram polygon, .diagram line{
      stroke: rgba(235,242,255,.78);
      stroke-width: 1.6;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }
    .diagram .accent{ stroke: var(--accent); opacity:.95; }

    /* JEST pun motif */
    .punMotif{
      position:absolute;
      inset:-40px -40px auto -40px;
      height: 220px;
      pointer-events:none;
      opacity:.12;
      background:
        radial-gradient(500px 180px at 22% 50%, rgba(255,255,255,.18), transparent 60%),
        repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0px, rgba(255,255,255,.06) 1px, transparent 1px, transparent 10px);
      mask-image: linear-gradient(180deg, black, transparent 72%);
    }
    .punGlyphs{
      position:absolute;
      inset: 10px 10px auto 10px;
      height: 72px;
      pointer-events:none;
      font-family: var(--mono);
      letter-spacing: .35em;
      font-size: 14px;
      color: rgba(240,245,255,.35);
      opacity:.22;
      overflow:hidden;
      white-space:nowrap;
    }

    /* Rhymes before/after strip */
    .yearbook{
      margin-top: 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      padding: 12px 12px;
      font-family: var(--mono);
      color: rgba(240,245,255,.86);
      box-shadow: 0 18px 42px rgba(0,0,0,.55);
    }
    .yearbook .row{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 10px;
      align-items:start;
    }
    .yearbook .cap{
      font-size: 11px;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: rgba(205,214,236,.66);
      margin-bottom: 6px;
    }
    .yearbook .txt{
      font-size: 12px;
      line-height:1.5;
      color: rgba(240,245,255,.84);
    }
    .yearbook .arrow{
      align-self:center;
      opacity:.75;
      padding-top: 14px;
    }

    /* Meta badge */
    .badge{
      display:inline-flex;
      gap: 10px;
      align-items:center;
      padding: 9px 11px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(240,245,255,.86);
      white-space:nowrap;
    }
    .badge strong{ font-weight:700; }
    .badge .kv{ color: rgba(205,214,236,.72); }

    /* Links “special keys” */
    .linkKeys{
      display:grid;
      gap: 10px;
      margin-top: 12px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 980px){
      .linkKeys{
        grid-template-columns: 1.25fr .9fr .9fr;
        align-items:stretch;
      }
    }
    .linkKey{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 14px 14px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background:
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      box-shadow: var(--shadowKey);
      text-decoration:none;
      transition: transform 110ms ease, border-color 160ms ease;
    }
    .linkKey:hover{ border-color: rgba(255,255,255,.18); text-decoration:none; }
    .linkKey:active{ transform: translateY(1px); }
    .linkKey:focus-visible{
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .lkLeft{
      display:flex;
      align-items:center;
      gap: 12px;
      min-width: 0;
    }
    .lkIcon{
      width: 30px; height: 30px;
      display:grid; place-items:center;
      border-radius: 10px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      box-shadow: 0 0 0 1px rgba(0,0,0,.25) inset;
      flex: 0 0 auto;
    }
    .lkText{
      min-width:0;
    }
    .lkText .name{
      font-family: var(--sans);
      font-weight: 650;
      letter-spacing:-0.01em;
      font-size: 15px;
      line-height:1.2;
      color: rgba(240,245,255,.92);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .lkText .url{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(205,214,236,.70);
      letter-spacing:.06em;
      margin-top: 2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .lkRight{
      font-family: var(--mono);
      font-size: 11px;
      color: rgba(205,214,236,.68);
      letter-spacing:.08em;
      text-transform: uppercase;
    }
    .spacebar{ grid-column: 1 / -1; }
    @media (min-width: 980px){
      .spacebar{ grid-column: 1 / 2; }
    }

    /* Footer chassis */
    footer{
      margin-top: 18px;
      border-top: 1px solid rgba(255,255,255,.08);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.015));
      box-shadow: 0 -18px 60px rgba(0,0,0,.55);
    }
    .footerBar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      padding: 14px 0;
      color: rgba(205,214,236,.70);
      font-size: 12px;
    }
    .stopwatch{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      font-family: var(--mono);
      color: rgba(240,245,255,.86);
      letter-spacing:.04em;
      box-shadow: 0 0 18px rgba(0,0,0,.35), 0 0 18px var(--accentGlow);
      white-space:nowrap;
    }
    .stopwatch .label{ color: rgba(205,214,236,.76); }
    .stopwatch .time{ font-variant-numeric: tabular-nums; }

    /* Mobile: mini keyboard strip */
    @media (max-width: 720px){
      .todayTag{ display:none; }
      .toggleMini{ display:inline-flex; }

      .kbdShell{
        padding: 12px 12px 10px;
        border-radius: 22px;
      }
      .kbd{
        grid-template-columns: repeat(7, minmax(0,1fr));
        gap: 8px;
        max-height: 280px;
        overflow:hidden;
        transition: max-height 220ms ease;
      }
      .instrument[data-compact="1"] .kbd{ max-height: 86px; }
      .instrument[data-compact="1"] .kbd .key{ min-height: 54px; }
      .kbd .key{ min-height: 56px; padding: 10px 10px; }
      .k-space{ grid-column: span 7; }
      .k-shift{ grid-column: span 3; }
      .k-esc,.k-tab,.k-caps,.k-enter,.k-wide,.k-span3{ grid-column: span 2; }

      .trayBody{ grid-template-columns: 1fr; }
      .trayActions{ justify-content:flex-start; }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      html:focus-within{ scroll-behavior:auto; }
      .kbdShell::before{ animation:none; }
      .key, .btn, .linkKey, .kbd{ transition:none !important; }
    }
    html{ scroll-behavior:smooth; }
  </style>
</head>

<body>
  <header class="instrument" id="instrument" data-legend-style="0" data-keycap-style="0" data-compact="0">
    <div class="wrap">
      <div class="hero">
        <div class="todayTag" id="todayTag" aria-label="Today's layout variations">
          <span class="dot" aria-hidden="true"></span>
          <span id="todayText">Today’s layout</span>
        </div>

        <h1>Geva Kipper</h1>
        <div class="lead">Software engineer at Google, currently building and improving large-scale systems that power real user experiences.</div>
        <div class="sub">This portfolio is re-designed each day by AI—so it’s always a little different.</div>
      </div>

      <section class="kbdShell" aria-label="Keyboard navigation">
        <div class="kbdTopRow">
          <div class="kbdHint">Tap a key to open the tray • Same page • Smooth transitions</div>
          <div class="kbdControls">
            <button class="toggleMini" id="toggleMini" type="button" aria-expanded="true" aria-controls="kbdGrid">Mini</button>
          </div>
        </div>

        <div class="kbd" id="kbdGrid" role="navigation" aria-label="Project keys">
          <!-- Decorative/familiar keys (disabled) -->
          <button class="key k-esc" type="button" disabled aria-disabled="true">
            <div class="legendTop">ESC</div><div class="legendBottom">DESK</div>
          </button>
          <button class="key k-wide" type="button" disabled aria-disabled="true">
            <div class="legendTop">TAB</div><div class="legendBottom">SHIFT</div>
          </button>

          <!-- Interactive project keys -->
          <button class="key k-span3" type="button" data-key="GLGL" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">F1</span>
            <div class="legendTop">GLGL</div><div class="legendBottom">STATS</div>
          </button>

          <button class="key k-span3" type="button" data-key="DIBUK" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">F2</span>
            <div class="legendTop">DIBUK</div><div class="legendBottom">HEATMAPS</div>
          </button>

          <button class="key k-span3" type="button" data-key="ORIENT" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">F3</span>
            <div class="legendTop">ORIENT</div><div class="legendBottom">POLYGONS</div>
          </button>

          <button class="key k-span3" type="button" data-key="JEST" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">F4</span>
            <div class="legendTop">JEST</div><div class="legendBottom">ARENA</div>
          </button>

          <button class="key k-span3" type="button" data-key="RHYME" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">F5</span>
            <div class="legendTop">RHYME</div><div class="legendBottom">NEWS</div>
          </button>

          <button class="key k-span3" type="button" data-key="META" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">F6</span>
            <div class="legendTop">META</div><div class="legendBottom">THIS SITE</div>
          </button>

          <button class="key k-enter" type="button" data-key="LINKS" aria-controls="tray" aria-expanded="false">
            <span class="kbdIcon">ENTER</span>
            <div class="legendTop">LINKS</div><div class="legendBottom">CONNECT</div>
          </button>

          <!-- More familiar filler keys for “keyboard feel” -->
          <button class="key k-tab" type="button" disabled aria-disabled="true">
            <div class="legendTop">CAPS</div><div class="legendBottom">LOCK</div>
          </button>
          <button class="key k-shift" type="button" disabled aria-disabled="true">
            <div class="legendTop">SHIFT</div><div class="legendBottom">LAYER</div>
          </button>
          <button class="key k-space" type="button" disabled aria-disabled="true">
            <div class="legendTop">SPACE</div><div class="legendBottom">DESK MAT</div>
          </button>
        </div>

        <!-- Sliding tray area -->
        <div class="tray" id="tray" aria-live="polite">
          <div class="trayInner">
            <div class="trayHeader">
              <div>
                <div class="crumb" aria-label="Breadcrumb">
                  <span class="pill"><span class="accentPip" aria-hidden="true"></span><span id="crumbKey">KEY</span></span>
                  <span style="opacity:.6">/</span>
                  <span id="crumbTitle">Title</span>
                </div>
                <h2 class="trayTitle" id="trayTitle">Title</h2>
                <div class="trayLegend" id="trayLegend">LEGEND</div>
              </div>
              <div class="trayActions">
                <a class="btn primary" id="trayCta" href="#" target="_blank" rel="noreferrer">
                  Open <span class="arrow">→</span>
                </a>
                <button class="btn" id="trayClose" type="button">Close</button>
              </div>
            </div>

            <div class="trayBody">
              <p id="trayDesc"></p>
              <div style="display:flex; justify-content:flex-end; align-items:flex-start; gap:10px; flex-wrap:wrap;">
                <a class="btn" id="trayJump" href="#glglstats">Jump to section <span class="arrow">↓</span></a>
              </div>
            </div>
            <div class="divider"></div>
          </div>
        </div>
      </section>
    </div>
  </header>

  <main class="wrap">
    <section class="grid" aria-label="Projects">
      <!-- 1: GlglStats -->
      <article class="card span2" id="glglstats">
        <div class="cardHeader">
          <div>
            <h3 class="cardTitle">GlglStats</h3>
            <div class="cardLegend">PYTHON • COMPRESSION • VISUALIZATION</div>
          </div>
        </div>
        <p>
          A Python project measuring repetitiveness in Israeli pop-chart songs using <strong>LZ77 compression</strong>, plus
          visualizations that reveal repetition patterns across famous tracks.
        </p>
        <div class="actions">
          <a class="btn primary" href="https://glglstats.geekip.dev" target="_blank" rel="noreferrer">Visit: glglstats.geekip.dev <span class="arrow">→</span></a>
          <a class="btn" href="https://www.youtube.com/watch?v=jrKAtOsj1Lo" target="_blank" rel="noreferrer">Watch talk <span class="arrow">→</span></a>
        </div>

        <div class="videoFrame" aria-label="GlglStats talk video preview">
          <iframe
            src="https://www.youtube-nocookie.com/embed/jrKAtOsj1Lo"
            title="GlglStats talk (YouTube preview)"
            loading="lazy"
            referrerpolicy="strict-origin-when-cross-origin"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        </div>
      </article>

      <!-- 2: Ahuzat Dibuk -->
      <article class="card" id="dibuk">
        <div class="cardHeader">
          <div>
            <h3 class="cardTitle">Ahuzat Dibuk</h3>
            <div class="cardLegend">SCRAPING • DATA VIZ • TEL AVIV</div>
          </div>
        </div>
        <p>
          A scraping + data visualization project that collects Tel-Aviv parking-lot occupancy stats and generates heatmaps
          to help residents understand patterns and timing.
        </p>

        <div class="chips" aria-label="Press links">
          <a class="chip" href="https://13tv.co.il/item/news/domestic/internal/parking-902956407/" target="_blank" rel="noreferrer">
            <span class="miniDot" aria-hidden="true"></span> Press: 13tv
          </a>
          <a class="chip" href="https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" target="_blank" rel="noreferrer">
            <span class="miniDot" aria-hidden="true"></span> Press: mako
          </a>
          <a class="chip" href="https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943/" target="_blank" rel="noreferrer">
            <span class="miniDot" aria-hidden="true"></span> Original post
          </a>
        </div>
      </article>

      <!-- 3: 2D Part Orienting -->
      <article class="card" id="orient">
        <div class="cardHeader">
          <div>
            <h3 class="cardTitle">2D Part Orienting</h3>
            <div class="cardLegend">C++ • COMPUTATIONAL GEOMETRY • OPEN SOURCE</div>
          </div>

          <svg class="diagram" viewBox="0 0 120 54" aria-hidden="true">
            <path d="M16 35 L38 14 L64 20 L96 14 L104 36 L78 44 L46 40 Z"></path>
            <line class="accent" x1="28" y1="41" x2="44" y2="33"></line>
            <polygon class="accent" points="44,33 40,33 42,36" fill="none"></polygon>
            <line class="accent" x1="70" y1="12" x2="88" y2="22"></line>
            <polygon class="accent" points="88,22 84,20 85,24" fill="none"></polygon>
          </svg>
        </div>

        <p>
          A C++ implementation (in an open-source computational geometry library) of an efficient algorithm that constructs
          a “push plan” to orient a polygon.
        </p>
        <div class="actions">
          <a class="btn primary" href="https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" target="_blank" rel="noreferrer">
            https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/ <span class="arrow">→</span>
          </a>
        </div>
      </article>

      <!-- 4: The Turing Jest -->
      <article class="card" id="jest" style="position:relative;">
        <div class="punMotif" aria-hidden="true"></div>
        <div class="punGlyphs" aria-hidden="true">
          PUN//PUN//JEST//PUN//TWIST//PUN//EXPLAIN//PUN//RATE//PUN//JEST//
        </div>

        <div class="cardHeader" style="position:relative;">
          <div>
            <h3 class="cardTitle">The Turing Jest</h3>
            <div class="cardLegend">LLM ARENA • HUMOR • USER RATING</div>
          </div>
        </div>
        <p>
          An LMSYS-like arena where LLMs compete at making (and explaining) puns—then users rate the results. Built to make
          judging feel quick, clean, and oddly satisfying.
        </p>
        <div class="actions">
          <a class="btn primary" href="https://jest.geekip.dev" target="_blank" rel="noreferrer">Visit: jest.geekip.dev <span class="arrow">→</span></a>
          <a class="btn" href="https://jest.geekip.dev" target="_blank" rel="noreferrer" style="border-color: rgba(255,255,255,.18);">
            Vote / Judge
          </a>
        </div>
      </article>

      <!-- 5: Rhymes of Israel -->
      <article class="card" id="rhymes">
        <div class="cardHeader">
          <div>
            <h3 class="cardTitle">Rhymes of Israel</h3>
            <div class="cardLegend">CHROME EXTENSION • LLM • SATIRE</div>
          </div>
        </div>
        <p>
          A Chrome extension that rewrites Israeli news headlines into comedic rhymes—in a highschool-yearbook style:
          earnest, dramatic, and just a bit too proud of itself.
        </p>

        <div class="yearbook" aria-label="Before and after headline snippet">
          <div class="row">
            <div>
              <div class="cap">Before</div>
              <div class="txt">“Committee approves late-night budget after tense debate.”</div>
            </div>
            <div class="arrow">→</div>
            <div>
              <div class="cap">After</div>
              <div class="txt">“Budget at midnight—sparks still ignite it; debate got loud, but they signed it.”</div>
            </div>
          </div>
        </div>

        <div class="actions">
          <a class="btn primary" href="https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" target="_blank" rel="noreferrer">
            Install (Chrome Web Store) <span class="arrow">→</span>
          </a>
        </div>
      </article>

      <!-- 6: Portfolio (Meta) -->
      <article class="card" id="meta">
        <div class="cardHeader">
          <div>
            <h3 class="cardTitle">Portfolio (Meta)</h3>
            <div class="cardLegend">DESIGN • INTERACTION • SINGLE-PAGE</div>
          </div>
          <div class="badge" id="metaBadge" aria-label="Today's layout generator choices">
            <span><strong>Today</strong></span>
            <span class="kv" id="metaKv">Accent: — / Keycap: — / Grain: —</span>
          </div>
        </div>
        <p>
          This site is also a project: a single-file portfolio with a keyboard-as-navigation interface, a glassy “tray”
          drawer, and a daily AI-driven aesthetic variation (without changing the information architecture). How meta.
        </p>
        <div class="actions">
          <a class="btn primary" href="https://geekip.dev" target="_blank" rel="noreferrer">https://geekip.dev <span class="arrow">→</span></a>
        </div>
      </article>

      <!-- 7: Links -->
      <article class="card span2" id="links">
        <div class="cardHeader">
          <div>
            <h3 class="cardTitle">Links</h3>
            <div class="cardLegend">CONNECT</div>
          </div>
        </div>

        <div class="linkKeys" aria-label="Social links">
          <a class="linkKey spacebar" href="https://github.com/gevak" target="_blank" rel="noreferrer">
            <div class="lkLeft">
              <div class="lkIcon" aria-hidden="true">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2C6.48 2 2 6.6 2 12.26c0 4.52 2.87 8.35 6.84 9.7.5.1.68-.22.68-.48 0-.24-.01-.86-.01-1.68-2.78.62-3.37-1.09-3.37-1.09-.46-1.2-1.12-1.52-1.12-1.52-.91-.64.07-.63.07-.63 1.01.07 1.54 1.06 1.54 1.06.9 1.59 2.36 1.13 2.94.86.09-.66.35-1.13.63-1.39-2.22-.26-4.56-1.14-4.56-5.09 0-1.12.39-2.04 1.03-2.75-.1-.26-.45-1.33.1-2.77 0 0 .84-.28 2.75 1.05.8-.23 1.65-.34 2.5-.35.85.01 1.71.12 2.5.35 1.91-1.33 2.75-1.05 2.75-1.05.55 1.44.2 2.51.1 2.77.64.71 1.03 1.63 1.03 2.75 0 3.96-2.34 4.82-4.57 5.08.36.32.68.94.68 1.9 0 1.37-.01 2.47-.01 2.8 0 .26.18.58.69.48A10.27 10.27 0 0 0 22 12.26C22 6.6 17.52 2 12 2Z" fill="rgba(240,245,255,.86)"/>
                </svg>
              </div>
              <div class="lkText">
                <div class="name">GitHub</div>
                <div class="url">github.com/gevak</div>
              </div>
            </div>
            <div class="lkRight">SPACEBAR</div>
          </a>

          <a class="linkKey" href="https://linkedin.com/in/gevakip" target="_blank" rel="noreferrer">
            <div class="lkLeft">
              <div class="lkIcon" aria-hidden="true">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5ZM.5 24h4V7.98h-4V24Zm7.5 0h4v-8.42c0-2.01.38-3.96 2.87-3.96 2.45 0 2.48 2.29 2.48 4.09V24h4V14.73c0-4.55-.98-8.05-6.3-8.05-2.56 0-4.28 1.4-4.98 2.73h-.06V7.98h-3.81V24Z" fill="rgba(240,245,255,.86)"/>
                </svg>
              </div>
              <div class="lkText">
                <div class="name">LinkedIn</div>
                <div class="url">linkedin.com/in/gevakip</div>
              </div>
            </div>
            <div class="lkRight">ENTER</div>
          </a>

          <a class="linkKey" href="https://facebook.com/geva.kipper" target="_blank" rel="noreferrer">
            <div class="lkLeft">
              <div class="lkIcon" aria-hidden="true">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                  <path d="M22 12.07C22 6.5 17.52 2 12 2S2 6.5 2 12.07c0 5.03 3.66 9.2 8.44 9.93v-7.03H7.9v-2.9h2.54V9.85c0-2.52 1.49-3.92 3.78-3.92 1.1 0 2.25.2 2.25.2v2.47h-1.27c-1.25 0-1.64.78-1.64 1.58v1.9h2.8l-.45 2.9h-2.35V22c4.78-.73 8.44-4.9 8.44-9.93Z" fill="rgba(240,245,255,.86)"/>
                </svg>
              </div>
              <div class="lkText">
                <div class="name">Facebook</div>
                <div class="url">facebook.com/geva.kipper</div>
              </div>
            </div>
            <div class="lkRight">KEY</div>
          </a>
        </div>
      </article>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div class="footerBar">
        <div>Site concept and daily redesign authored by ChatGPT (OpenAI).</div>
        <div class="stopwatch" aria-label="Stopwatch">
          <span class="label">Time since 2025-12-28 01:18:47:</span>
          <span class="time" id="stopwatch">00:00:00</span>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // ---------- Daily redesign (deterministic per local day) ----------
    function hashStringToInt(str){
      // Simple deterministic hash
      let h = 2166136261;
      for (let i=0; i<str.length; i++){
        h ^= str.charCodeAt(i);
        h = Math.imul(h, 16777619);
      }
      return (h >>> 0);
    }

    function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

    const themes = [
      { name:"cobalt",  accent:"#4b7dff", glow:"rgba(75,125,255,.24)" },
      { name:"emerald", accent:"#22c55e", glow:"rgba(34,197,94,.20)" },
      { name:"amber",   accent:"#f59e0b", glow:"rgba(245,158,11,.20)" },
      { name:"violet",  accent:"#a78bfa", glow:"rgba(167,139,250,.22)" },
    ];

    const today = new Date();
    const key = `${today.getFullYear()}-${String(today.getMonth()+1).padStart(2,'0')}-${String(today.getDate()).padStart(2,'0')}`;
    const h = hashStringToInt(key);

    const theme = themes[h % themes.length];
    const legendStyle = (h >>> 3) % 3;  // 0..2
    const keycapStyle = (h >>> 5) % 3;  // 0..2
    const grain = 0.07 + ((h >>> 7) % 9) * 0.01; // 0.07..0.15

    document.documentElement.style.setProperty("--accent", theme.accent);
    document.documentElement.style.setProperty("--accentGlow", theme.glow);
    document.documentElement.style.setProperty("--accent2", theme.glow.replace(")", "").replace("rgba", "rgba").replace(/,?\s*\.?\d+\)?$/, ", .34)")); // safe-ish tweak
    document.documentElement.style.setProperty("--grainOpacity", String(grain));

    const instrument = document.getElementById("instrument");
    instrument.dataset.legendStyle = String(legendStyle);
    instrument.dataset.keycapStyle = String(keycapStyle);

    const keycapNames = ["matte", "soft-gloss", "specular"];
    const grainNames = grain <= 0.09 ? "low" : (grain <= 0.12 ? "mid" : "high");

    document.getElementById("todayText").textContent =
      `Today’s layout • Accent: ${theme.name} • Keycap: ${keycapNames[keycapStyle]} • Grain: ${grainNames}`;

    document.getElementById("metaKv").textContent =
      `Accent: ${theme.name} / Keycap: ${keycapNames[keycapStyle]} / Grain: ${grainNames}`;

    // ---------- Keyboard tray navigation ----------
    const tray = document.getElementById("tray");
    const trayTitle = document.getElementById("trayTitle");
    const trayLegend = document.getElementById("trayLegend");
    const trayDesc = document.getElementById("trayDesc");
    const trayCta = document.getElementById("trayCta");
    const trayJump = document.getElementById("trayJump");
    const trayClose = document.getElementById("trayClose");
    const crumbKey = document.getElementById("crumbKey");
    const crumbTitle = document.getElementById("crumbTitle");

    const sectionsByKey = {
      GLGL: {
        title: "GlglStats",
        legend: "PYTHON • COMPRESSION • VISUALIZATION",
        desc: "Measures repetitiveness in Israeli pop-chart songs using LZ77 compression, then visualizes repetition patterns across tracks.",
        ctaText: "Visit glglstats.geekip.dev",
        ctaHref: "https://glglstats.geekip.dev",
        jump: "#glglstats",
      },
      DIBUK: {
        title: "Ahuzat Dibuk",
        legend: "SCRAPING • DATA VIZ • TEL AVIV",
        desc: "Scrapes Tel-Aviv parking-lot occupancy stats and turns them into resident-friendly heatmaps.",
        ctaText: "See press & sources",
        ctaHref: "https://13tv.co.il/item/news/domestic/internal/parking-902956407/",
        jump: "#dibuk",
      },
      ORIENT: {
        title: "2D Part Orienting",
        legend: "C++ • COMPUTATIONAL GEOMETRY • OPEN SOURCE",
        desc: "C++ implementation of an efficient algorithm that constructs a push plan to orient a polygon (open-source CG library).",
        ctaText: "Open project page",
        ctaHref: "https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/",
        jump: "#orient",
      },
      JEST: {
        title: "The Turing Jest",
        legend: "LLM ARENA • HUMOR • USER RATING",
        desc: "An arena where LLMs compete at making and explaining puns—then users vote and judge the results.",
        ctaText: "Visit jest.geekip.dev",
        ctaHref: "https://jest.geekip.dev",
        jump: "#jest",
      },
      RHYME: {
        title: "Rhymes of Israel",
        legend: "CHROME EXTENSION • LLM • SATIRE",
        desc: "Chrome extension rewriting Israeli news headlines into comedic rhymes in a highschool-yearbook style.",
        ctaText: "Install extension",
        ctaHref: "https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb",
        jump: "#rhymes",
      },
      META: {
        title: "Portfolio (Meta)",
        legend: "DESIGN • INTERACTION • SINGLE-PAGE",
        desc: "This single-file portfolio is intentionally meta: keyboard navigation, a glassy tray, and a daily AI-driven aesthetic variation.",
        ctaText: "Open geekip.dev",
        ctaHref: "https://geekip.dev",
        jump: "#meta",
      },
      LINKS: {
        title: "Links",
        legend: "CONNECT",
        desc: "Direct links to GitHub, LinkedIn, and Facebook—styled like special keys.",
        ctaText: "Go to link keys",
        ctaHref: "#links",
        jump: "#links",
      }
    };

    const keyButtons = Array.from(document.querySelectorAll(".key[data-key]"));

    function setActiveKey(activeKey){
      keyButtons.forEach(btn => {
        const isActive = btn.dataset.key === activeKey;
        btn.classList.toggle("isActive", isActive);
        btn.setAttribute("aria-expanded", isActive ? "true" : "false");
      });
    }

    function openTray(activeKey, {scrollTrayIntoView=true} = {}){
      const data = sectionsByKey[activeKey];
      if (!data) return;

      crumbKey.textContent = activeKey;
      crumbTitle.textContent = data.title;

      trayTitle.textContent = data.title;
      trayLegend.textContent = data.legend;
      trayDesc.textContent = data.desc;

      trayCta.textContent = data.ctaText + " →";
      trayCta.href = data.ctaHref;

      trayJump.href = data.jump;

      tray.classList.add("isOpen");
      setActiveKey(activeKey);

      if (scrollTrayIntoView){
        // Align tray just under the keyboard shell.
        tray.scrollIntoView({behavior: (matchMedia("(prefers-reduced-motion: reduce)").matches ? "auto" : "smooth"), block:"nearest"});
      }
    }

    function closeTray(){
      tray.classList.remove("isOpen");
      setActiveKey(null);
      keyButtons.forEach(btn => btn.setAttribute("aria-expanded", "false"));
    }

    keyButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const k = btn.dataset.key;
        // Micro “depress” feel even on quick taps
        btn.classList.add("isDown");
        setTimeout(() => btn.classList.remove("isDown"), 130);

        // Toggle if same key
        const isAlready = btn.classList.contains("isActive") && tray.classList.contains("isOpen");
        if (isAlready){
          closeTray();
        } else {
          openTray(k);
        }
      });
    });

    trayClose.addEventListener("click", closeTray);

    // Close tray on Escape
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && tray.classList.contains("isOpen")) closeTray();
    });

    // ---------- Mobile “mini keyboard” toggle ----------
    const toggleMini = document.getElementById("toggleMini");
    function setCompact(on){
      instrument.dataset.compact = on ? "1" : "0";
      toggleMini.setAttribute("aria-expanded", on ? "false" : "true");
      toggleMini.textContent = on ? "Expand" : "Mini";
    }
    // Default to compact on small screens
    const mq = matchMedia("(max-width: 720px)");
    function syncCompactToMedia(){
      if (mq.matches) setCompact(true);
      else setCompact(false);
    }
    mq.addEventListener?.("change", syncCompactToMedia);
    syncCompactToMedia();

    toggleMini.addEventListener("click", () => {
      const isCompact = instrument.dataset.compact === "1";
      setCompact(!isCompact);
    });

    // ---------- Stopwatch: Time since 2025-12-28 01:18:47 ----------
    const start = new Date("2025-12-28T01:18:47");
    const swEl = document.getElementById("stopwatch");

    function pad2(n){ return String(n).padStart(2,"0"); }

    function tick(){
      const now = new Date();
      let diff = Math.max(0, now - start);
      const totalSeconds = Math.floor(diff / 1000);
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      swEl.textContent = `${pad2(hours)}:${pad2(minutes)}:${pad2(seconds)}`;
    }
    tick();
    setInterval(tick, 1000);

    // ---------- Nice default: open first key once (non-invasive) ----------
    // Only if user hasn't interacted yet in this session.
    let userInteracted = false;
    ["pointerdown","keydown","wheel","touchstart"].forEach(evt => {
      window.addEventListener(evt, () => (userInteracted = true), {once:true, passive:true});
    });
    setTimeout(() => {
      if (!userInteracted) openTray("GLGL", {scrollTrayIntoView:false});
    }, 400);
  </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20251228",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>