<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geva Kipper - Snow Globe Portfolio</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            background: radial-gradient(ellipse at center, #1a2a4a 0%, #0a1628 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        #globe-canvas {
            width: 100%;
            height: 100%;
        }
        
        .bokeh {
            position: fixed;
            border-radius: 50%;
            filter: blur(20px);
            opacity: 0.3;
            animation: float 8s ease-in-out infinite;
            z-index: 0;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.1); }
        }
        
        #ui-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }
        
        #project-panel {
            position: fixed;
            right: -450px;
            top: 50%;
            transform: translateY(-50%);
            width: 420px;
            max-height: 80vh;
            background: linear-gradient(135deg, #faf8f5 0%, #f0ebe3 100%);
            border-radius: 20px 0 0 20px;
            box-shadow: -10px 0 40px rgba(0,0,0,0.3);
            padding: 30px;
            transition: right 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: auto;
            overflow-y: auto;
            z-index: 100;
        }
        
        #project-panel.active {
            right: 0;
        }
        
        #project-panel h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: #2a1810;
            margin-bottom: 10px;
        }
        
        #project-panel .subtitle {
            font-size: 0.9rem;
            color: #8b7355;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        #project-panel p {
            color: #4a3f35;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        #project-panel .links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        #project-panel .link-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background: linear-gradient(135deg, #c9a86c 0%, #a08050 100%);
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(169, 128, 80, 0.3);
        }
        
        #project-panel .link-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(169, 128, 80, 0.5);
        }
        
        #close-panel {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            border: none;
            background: #d4c4b0;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            color: #5a4a3a;
            transition: all 0.3s ease;
        }
        
        #close-panel:hover {
            background: #c4b4a0;
            transform: rotate(90deg);
        }
        
        #footer-base {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(180deg, #5a3d2b 0%, #3a2518 100%);
            padding: 15px 40px;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1);
            pointer-events: auto;
            z-index: 50;
        }
        
        #footer-base .plaque {
            text-align: center;
            color: #c9a86c;
            font-size: 0.75rem;
            margin-bottom: 10px;
            font-family: 'Playfair Display', serif;
            letter-spacing: 1px;
        }
        
        #flip-clock {
            display: flex;
            justify-content: center;
            gap: 5px;
        }
        
        .clock-segment {
            display: flex;
            align-items: center;
        }
        
        .clock-digit {
            background: linear-gradient(180deg, #1a1a1a 0%, #2a2a2a 50%, #1a1a1a 50%, #0a0a0a 100%);
            color: #f0d890;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: bold;
            padding: 8px 6px;
            border-radius: 4px;
            margin: 0 1px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.5), 0 2px 5px rgba(0,0,0,0.3);
            min-width: 20px;
            text-align: center;
        }
        
        .clock-separator {
            color: #c9a86c;
            font-size: 1.2rem;
            margin: 0 3px;
        }
        
        .clock-label {
            font-size: 0.6rem;
            color: #8b7355;
            margin-left: 5px;
            text-transform: uppercase;
        }
        
        #instructions {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255,255,255,0.5);
            font-size: 0.8rem;
            text-align: center;
            pointer-events: none;
            z-index: 40;
        }
        
        .social-tooltip {
            position: fixed;
            background: rgba(42, 24, 16, 0.95);
            color: #f0d890;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.85rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 200;
            font-family: 'Playfair Display', serif;
        }
        
        .social-tooltip.visible {
            opacity: 1;
        }
        
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0a1628;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
        }
        
        #loading.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-snowflake {
            font-size: 3rem;
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        #loading p {
            color: #c9a86c;
            margin-top: 20px;
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>
<body>
    <div id="loading">
        <div class="loading-snowflake">‚ùÑ</div>
        <p>Preparing your snow globe...</p>
    </div>
    
    <div id="canvas-container">
        <canvas id="globe-canvas"></canvas>
    </div>
    
    <div id="ui-overlay">
        <div id="project-panel">
            <button id="close-panel">√ó</button>
            <h2 id="panel-title"></h2>
            <div class="subtitle" id="panel-subtitle"></div>
            <p id="panel-description"></p>
            <div class="links" id="panel-links"></div>
        </div>
    </div>
    
    <div id="instructions">
        Move cursor to swirl snow ‚Ä¢ Click buildings to explore ‚Ä¢ Drag to rotate view
    </div>
    
    <div id="footer-base">
        <div class="plaque">Designed by Claude (Anthropic) ‚Äî an AI assistant</div>
        <div id="flip-clock">
            <div class="clock-segment">
                <span class="clock-digit" id="days-h">0</span>
                <span class="clock-digit" id="days-l">0</span>
                <span class="clock-label">days</span>
            </div>
            <span class="clock-separator">:</span>
            <div class="clock-segment">
                <span class="clock-digit" id="hours-h">0</span>
                <span class="clock-digit" id="hours-l">0</span>
                <span class="clock-label">hrs</span>
            </div>
            <span class="clock-separator">:</span>
            <div class="clock-segment">
                <span class="clock-digit" id="mins-h">0</span>
                <span class="clock-digit" id="mins-l">0</span>
                <span class="clock-label">min</span>
            </div>
            <span class="clock-separator">:</span>
            <div class="clock-segment">
                <span class="clock-digit" id="secs-h">0</span>
                <span class="clock-digit" id="secs-l">0</span>
                <span class="clock-label">sec</span>
            </div>
        </div>
    </div>
    
    <div class="social-tooltip" id="social-tooltip"></div>

    <script>
        // Project data
        const projects = {
            glglstats: {
                title: "GlglStats",
                subtitle: "The Music Box Theater",
                description: "An innovative project measuring Israeli pop-chart repetitiveness using LZ77 compression algorithms. This unique analysis reveals patterns in famous songs, showing how repetitive melodies correlate with chart success. The visualizations bring data science to music appreciation.",
                links: [
                    { text: "üé≠ Visit GlglStats", url: "https://glglstats.geekip.dev" },
                    { text: "üé¨ PyData TLV Talk", url: "https://www.youtube.com/watch?v=jrKAtOsj1Lo" }
                ]
            },
            ahuzat: {
                title: "Ahuzat Dibuk",
                subtitle: "The Parking Garage",
                description: "A comprehensive Tel-Aviv parking data visualization project that transforms complex occupancy data into intuitive heat-maps. The project gained media attention for revealing parking patterns across the city, helping residents find available spots.",
                links: [
                    { text: "üì∫ 13TV Coverage", url: "https://13tv.co.il/item/news/domestic/internal/parking-902956407/" },
                    { text: "üì∞ Mako Article", url: "https://www.mako.co.il/nexter-news/Article-ae43964b891bf71027.htm" },
                    { text: "üë• Secret Tel Aviv", url: "https://www.facebook.com/groups/secrettelaviv/posts/10159636301195943" }
                ]
            },
            orienting: {
                title: "2D Part Orienting",
                subtitle: "The Factory Workshop",
                description: "A sophisticated CGAL C++ algorithm implementation for optimal 2D polygon orientation. This computational geometry project solves complex manufacturing challenges by determining the best way to orient parts for automated assembly.",
                links: [
                    { text: "üìê TAU CGL Project", url: "https://www.cgl.cs.tau.ac.il/projects/2d-part-orienting/" }
                ]
            },
            jest: {
                title: "The Turing Jest",
                subtitle: "The Comedy Club",
                description: "An LMSYS-style arena where Large Language Models compete in the ancient art of pun-making! Watch AI models battle wit against wit in this entertaining exploration of machine humor and natural language understanding.",
                links: [
                    { text: "üé§ Enter the Arena", url: "https://jest.geekip.dev" }
                ]
            },
            rhymes: {
                title: "Rhymes of Israel",
                subtitle: "The Newsstand Kiosk",
                description: "A whimsical Chrome extension that transforms everyday news headlines into yearbook-style comedic rhymes. Bringing levity to current events, this extension proves that even serious news can have a poetic side.",
                links: [
                    { text: "üîß Chrome Web Store", url: "https://chromewebstore.google.com/detail/eainginjgdkpgolpjniijdihfbeeeklb" }
                ]
            },
            portfolio: {
                title: "Portfolio Website",
                subtitle: "The Snow Globe Shop",
                description: "You're looking at it! This recursive masterpiece contains itself infinitely, like mirrors facing mirrors. A portfolio within a portfolio within a portfolio... This meta-creation celebrates the joy of creative web development.",
                links: [
                    { text: "üåê Visit geekip.dev", url: "https://geekip.dev" }
                ]
            }
        };

        const socialLinks = {
            github: { name: "GitHub", url: "https://github.com/gevak" },
            linkedin: { name: "LinkedIn", url: "https://linkedin.com/in/gevakip" },
            facebook: { name: "Facebook", url: "https://facebook.com/geva.kipper" }
        };

        // Canvas and context
        const canvas = document.getElementById('globe-canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height, centerX, centerY, globeRadius;
        let mouseX = 0, mouseY = 0;
        let targetRotation = 0, currentRotation = 0;
        let isDragging = false, dragStartX = 0;
        let zoomedProject = null;
        let zoomProgress = 0;
        
        // Snowflakes
        const snowflakes = [];
        const SNOWFLAKE_COUNT = 200;
        
        // Buildings/dioramas
        let buildings = [];
        let hoveredBuilding = null;
        
        // Initialize
        function init() {
            resize();
            createBokeh();
            createSnowflakes();
            setupBuildings();
            setupEventListeners();
            updateClock();
            setInterval(updateClock, 1000);
            
            // Hide loading
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
            }, 1500);
            
            requestAnimationFrame(animate);
        }
        
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            centerX = width / 2;
            centerY = height / 2 - 50;
            globeRadius = Math.min(width, height) * 0.38;
            setupBuildings();
        }
        
        function createBokeh() {
            const colors = ['#f0d890', '#90c0f0', '#f0a090', '#a0f0c0'];
            for (let i = 0; i < 15; i++) {
                const bokeh = document.createElement('div');
                bokeh.className = 'bokeh';
                bokeh.style.width = Math.random() * 100 + 50 + 'px';
                bokeh.style.height = bokeh.style.width;
                bokeh.style.left = Math.random() * 100 + '%';
                bokeh.style.top = Math.random() * 100 + '%';
                bokeh.style.background = colors[Math.floor(Math.random() * colors.length)];
                bokeh.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(bokeh);
            }
        }
        
        function createSnowflakes() {
            for (let i = 0; i < SNOWFLAKE_COUNT; i++) {
                snowflakes.push({
                    x: (Math.random() - 0.5) * globeRadius * 1.8,
                    y: (Math.random() - 0.5) * globeRadius * 1.8,
                    z: (Math.random() - 0.5) * globeRadius,
                    size: Math.random() * 3 + 1,
                    speed: Math.random() * 0.5 + 0.2,
                    wobble: Math.random() * Math.PI * 2,
                    wobbleSpeed: Math.random() * 0.02 + 0.01
                });
            }
        }
        
        function setupBuildings() {
            const baseY = centerY + globeRadius * 0.3;
            const radius = globeRadius * 0.5;
            const projectKeys = Object.keys(projects);
            
            buildings = projectKeys.map((key, i) => {
                const angle = (i / projectKeys.length) * Math.PI + Math.PI;
                const x = centerX + Math.cos(angle + currentRotation) * radius;
                const y = baseY + Math.sin(angle + currentRotation) * radius * 0.3;
                
                return {
                    key,
                    x, y,
                    baseX: Math.cos(angle) * radius,
                    baseY: Math.sin(angle) * radius * 0.3,
                    angle,
                    width: 60,
                    height: 80,
                    hovered: false,
                    hoverAmount: 0,
                    ...getBuildingStyle(key)
                };
            });
        }
        
        function getBuildingStyle(key) {
            const styles = {
                glglstats: { color: '#8b4513', accent: '#ffd700', icon: 'üéµ' },
                ahuzat: { color: '#708090', accent: '#32cd32', icon: 'üÖøÔ∏è' },
                orienting: { color: '#696969', accent: '#ff6347', icon: '‚öôÔ∏è' },
                jest: { color: '#8b0000', accent: '#ff69b4', icon: 'üé≠' },
                rhymes: { color: '#2f4f4f', accent: '#87ceeb', icon: 'üì∞' },
                portfolio: { color: '#4a3728', accent: '#c9a86c', icon: 'üîÆ' }
            };
            return styles[key] || styles.portfolio;
        }
        
        function setupEventListeners() {
            window.addEventListener('resize', resize);
            
            canvas.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                
                if (isDragging) {
                    const dx = e.clientX - dragStartX;
                    targetRotation = dx * 0.003;
                }
                
                checkBuildingHover(e.clientX, e.clientY);
            });
            
            canvas.addEventListener('mousedown', (e) => {
                isDragging = true;
                dragStartX = e.clientX - targetRotation / 0.003;
            });
            
            canvas.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            canvas.addEventListener('click', (e) => {
                if (hoveredBuilding && !isDragging) {
                    openProjectPanel(hoveredBuilding.key);
                }
                
                // Check social links click
                checkSocialClick(e.clientX, e.clientY);
            });
            
            document.getElementById('close-panel').addEventListener('click', closeProjectPanel);
        }
        
        function checkBuildingHover(mx, my) {
            hoveredBuilding = null;
            const tooltip = document.getElementById('social-tooltip');
            
            buildings.forEach(b => {
                const dx = mx - b.x;
                const dy = my - b.y;
                b.hovered = Math.abs(dx) < b.width/2 && dy > -b.height && dy < 10;
                if (b.hovered) hoveredBuilding = b;
            });
            
            // Check social signpost
            const signpostX = centerX;
            const signpostY = centerY + globeRadius * 0.15;
            const dx = mx - signpostX;
            const dy = my - signpostY;
            
            if (Math.abs(dx) < 80 && Math.abs(dy) < 60) {
                let socialHovered = null;
                if (dy < -10 && dx < 0) socialHovered = 'github';
                else if (dy < -10 && dx > 0) socialHovered = 'linkedin';
                else if (dy > 10) socialHovered = 'facebook';
                
                if (socialHovered) {
                    tooltip.textContent = socialLinks[socialHovered].name;
                    tooltip.style.left = mx + 15 + 'px';
                    tooltip.style.top = my - 10 + 'px';
                    tooltip.classList.add('visible');
                    canvas.style.cursor = 'pointer';
                } else {
                    tooltip.classList.remove('visible');
                }
            } else {
                tooltip.classList.remove('visible');
            }
            
            canvas.style.cursor = hoveredBuilding ? 'pointer' : 'default';
        }
        
        function checkSocialClick(mx, my) {
            const signpostX = centerX;
            const signpostY = centerY + globeRadius * 0.15;
            const dx = mx - signpostX;
            const dy = my - signpostY;
            
            if (Math.abs(dx) < 80 && Math.abs(dy) < 60) {
                let socialClicked = null;
                if (dy < -10 && dx < 0) socialClicked = 'github';
                else if (dy < -10 && dx > 0) socialClicked = 'linkedin';
                else if (dy > 10) socialClicked = 'facebook';
                
                if (socialClicked) {
                    window.open(socialLinks[socialClicked].url, '_blank');
                }
            }
        }
        
        function openProjectPanel(key) {
            const project = projects[key];
            const panel = document.getElementById('project-panel');
            
            document.getElementById('panel-title').textContent = project.title;
            document.getElementById('panel-subtitle').textContent = project.subtitle;
            document.getElementById('panel-description').textContent = project.description;
            
            const linksContainer = document.getElementById('panel-links');
            linksContainer.innerHTML = '';
            project.links.forEach(link => {
                const a = document.createElement('a');
                a.href = link.url;
                a.target = '_blank';
                a.className = 'link-btn';
                a.textContent = link.text;
                linksContainer.appendChild(a);
            });
            
            panel.classList.add('active');
            zoomedProject = key;
        }
        
        function closeProjectPanel() {
            document.getElementById('project-panel').classList.remove('active');
            zoomedProject = null;
        }
        
        function updateClock() {
            const startDate = new Date('2025-12-05T01:08:25');
            const now = new Date();
            const diff = now - startDate;
            
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const secs = Math.floor((diff % (1000 * 60)) / 1000);
            
            document.getElementById('days-h').textContent = Math.floor(days / 10) % 10;
            document.getElementById('days-l').textContent = days % 10;
            document.getElementById('hours-h').textContent = Math.floor(hours / 10);
            document.getElementById('hours-l').textContent = hours % 10;
            document.getElementById('mins-h').textContent = Math.floor(mins / 10);
            document.getElementById('mins-l').textContent = mins % 10;
            document.getElementById('secs-h').textContent = Math.floor(secs / 10);
            document.getElementById('secs-l').textContent = secs % 10;
        }
        
        function animate() {
            ctx.clearRect(0, 0, width, height);
            
            // Smooth rotation
            currentRotation += (targetRotation - currentRotation) * 0.05;
            
            // Update building positions
            buildings.forEach(b => {
                b.x = centerX + Math.cos(b.angle + currentRotation) * globeRadius * 0.5;
                b.y = centerY + globeRadius * 0.3 + Math.sin(b.angle + currentRotation) * globeRadius * 0.15;
                b.hoverAmount += (b.hovered ? 1 : -1) * 0.1;
                b.hoverAmount = Math.max(0, Math.min(1, b.hoverAmount));
            });
            
            // Update and draw snowflakes
            updateSnowflakes();
            
            // Draw globe
            drawGlobe();
            
            requestAnimationFrame(animate);
        }
        
        function updateSnowflakes() {
            const windX = (mouseX - centerX) * 0.0003;
            const windY = (mouseY - centerY) * 0.0003;
            
            snowflakes.forEach(s => {
                s.y += s.speed;
                s.wobble += s.wobbleSpeed;
                s.x += Math.sin(s.wobble) * 0.3 + windX * 10;
                s.z += windY * 5;
                
                // Reset if out of bounds
                if (s.y > globeRadius * 0.8) {
                    s.y = -globeRadius * 0.8;
                    s.x = (Math.random() - 0.5) * globeRadius * 1.5;
                }
                if (Math.abs(s.x) > globeRadius * 0.9) {
                    s.x = -Math.sign(s.x) * globeRadius * 0.9;
                }
            });
        }
        
        function drawGlobe() {
            // Globe shadow
            ctx.save();
            ctx.beginPath();
            ctx.ellipse(centerX, centerY + globeRadius + 30, globeRadius * 0.8, 30, 0, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            ctx.filter = 'blur(20px)';
            ctx.fill();
            ctx.filter = 'none';
            ctx.restore();
            
            // Globe base
            drawBase();
            
            // Globe glass (back)
            ctx.save();
            ctx.beginPath();
            ctx.arc(centerX, centerY, globeRadius, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(200, 220, 255, 0.1)';
            ctx.fill();
            ctx.restore();
            
            // Snow ground
            drawSnowGround();
            
            // Draw buildings (sorted by y for depth)
            buildings.sort((a, b) => a.y - b.y).forEach(drawBuilding);
            
            // Draw signpost
            drawSignpost();
            
            // Draw header text
            drawHeader();
            
            // Draw snowflakes
            drawSnowflakes();
            
            // Globe glass reflection (front)
            ctx.save();
            ctx.beginPath();
            ctx.arc(centerX, centerY, globeRadius, 0, Math.PI * 2);
            const glassGradient = ctx.createRadialGradient(
                centerX - globeRadius * 0.3, centerY - globeRadius * 0.3, 0,
                centerX, centerY, globeRadius
            );
            glassGradient.addColorStop(0, 'rgba(255, 255, 255, 0.3)');
            glassGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.05)');
            glassGradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)');
            ctx.fillStyle = glassGradient;
            ctx.fill();
            
            // Glass edge
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 3;
            ctx.stroke();
            ctx.restore();
            
            // Highlight reflection
            ctx.save();
            ctx.beginPath();
            ctx.ellipse(
                centerX - globeRadius * 0.4,
                centerY - globeRadius * 0.4,
                globeRadius * 0.15,
                globeRadius * 0.08,
                -Math.PI / 4,
                0, Math.PI * 2
            );
            ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';
            ctx.fill();
            ctx.restore();
        }
        
        function drawBase() {
            const baseY = centerY + globeRadius;
            const baseWidth = globeRadius * 1.3;
            const baseHeight = 80;
            
            // Main base
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(centerX - baseWidth/2, baseY);
            ctx.lineTo(centerX - baseWidth/2 + 20, baseY + baseHeight);
            ctx.lineTo(centerX + baseWidth/2 - 20, baseY + baseHeight);
            ctx.lineTo(centerX + baseWidth/2, baseY);
            ctx.closePath();
            
            const baseGradient = ctx.createLinearGradient(0, baseY, 0, baseY + baseHeight);
            baseGradient.addColorStop(0, '#6b4423');
            baseGradient.addColorStop(0.5, '#4a2f15');
            baseGradient.addColorStop(1, '#2d1a0b');
            ctx.fillStyle = baseGradient;
            ctx.fill();
            
            ctx.strokeStyle = '#8b5a2b';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Decorative ring
            ctx.beginPath();
            ctx.ellipse(centerX, baseY, baseWidth/2, 15, 0, 0, Math.PI * 2);
            const ringGradient = ctx.createLinearGradient(centerX - baseWidth/2, 0, centerX + baseWidth/2, 0);
            ringGradient.addColorStop(0, '#c9a86c');
            ringGradient.addColorStop(0.5, '#e8d4a8');
            ringGradient.addColorStop(1, '#c9a86c');
            ctx.fillStyle = ringGradient;
            ctx.fill();
            ctx.restore();
        }
        
        function drawSnowGround() {
            ctx.save();
            ctx.beginPath();
            ctx.arc(centerX, centerY, globeRadius - 5, 0, Math.PI * 2);
            ctx.clip();
            
            // Snow hills
            ctx.beginPath();
            ctx.moveTo(centerX - globeRadius, centerY + globeRadius * 0.5);
            
            for (let x = -globeRadius; x <= globeRadius; x += 20) {
                const hillHeight = Math.sin(x * 0.02) * 20 + Math.sin(x * 0.05) * 10;
                ctx.lineTo(centerX + x, centerY + globeRadius * 0.4 + hillHeight);
            }
            
            ctx.lineTo(centerX + globeRadius, centerY + globeRadius);
            ctx.lineTo(centerX - globeRadius, centerY + globeRadius);
            ctx.closePath();
            
            const snowGradient = ctx.createLinearGradient(0, centerY + globeRadius * 0.3, 0, centerY + globeRadius);
            snowGradient.addColorStop(0, '#f0f5ff');
            snowGradient.addColorStop(0.5, '#e0e8f5');
            snowGradient.addColorStop(1, '#c8d4e8');
            ctx.fillStyle = snowGradient;
            ctx.fill();
            ctx.restore();
        }
        
        function drawBuilding(b) {
            ctx.save();
            
            const lift = b.hoverAmount * 10;
            const glow = b.hoverAmount;
            const scale = 1 + b.hoverAmount * 0.1;
            
            const bx = b.x;
            const by = b.y - lift;
            const bw = b.width * scale;
            const bh = b.height * scale;
            
            // Glow effect
            if (glow > 0) {
                ctx.shadowColor = b.accent;
                ctx.shadowBlur = 30 * glow;
            }
            
            // Building body
            ctx.fillStyle = b.color;
            ctx.fillRect(bx - bw/2, by - bh, bw, bh);
            
            // Roof
            ctx.beginPath();
            ctx.moveTo(bx - bw/2 - 5, by - bh);
            ctx.lineTo(bx, by - bh - 25);
            ctx.lineTo(bx + bw/2 + 5, by - bh);
            ctx.closePath();
            ctx.fillStyle = '#2a1a0a';
            ctx.fill();
            
            // Snow on roof
            ctx.beginPath();
            ctx.moveTo(bx - bw/2, by - bh);
            ctx.quadraticCurveTo(bx, by - bh - 20, bx + bw/2, by - bh);
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 4;
            ctx.stroke();
            
            // Windows
            ctx.fillStyle = b.accent;
            ctx.shadowColor = b.accent;
            ctx.shadowBlur = 10;
            for (let row = 0; row < 2; row++) {
                for (let col = 0; col < 2; col++) {
                    ctx.fillRect(
                        bx - bw/4 + col * bw/2.5,
                        by - bh + 15 + row * 25,
                        12, 15
                    );
                }
            }
            
            // Door
            ctx.shadowBlur = 0;
            ctx.fillStyle = '#1a0a00';
            ctx.fillRect(bx - 8, by - 30, 16, 30);
            
            // Icon above door
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(b.icon, bx, by - bh - 30);
            
            // Label
            ctx.font = 'bold 10px Inter';
            ctx.fillStyle = '#fff';
            ctx.textAlign = 'center';
            ctx.fillText(projects[b.key].title.toUpperCase(), bx, by + 15);
            
            ctx.restore();
        }
        
        function drawSignpost() {
            const sx = centerX;
            const sy = centerY + globeRadius * 0.15;
            
            ctx.save();
            
            // Pole
            ctx.fillStyle = '#5a3d2b';
            ctx.fillRect(sx - 4, sy - 50, 8, 100);
            
            // Signs
            const signs = [
                { text: '‚Üê GitHub', angle: -0.3, y: -40 },
                { text: 'LinkedIn ‚Üí', angle: 0.3, y: -40 },
                { text: 'Facebook ‚Üì', angle: 0, y: 20 }
            ];
            
            signs.forEach(sign => {
                ctx.save();
                ctx.translate(sx, sy + sign.y);
                ctx.rotate(sign.angle);
                
                ctx.fillStyle = '#3a2518';
                ctx.beginPath();
                ctx.roundRect(-40, -12, 80, 24, 3);
                ctx.fill();
                
                ctx.fillStyle = '#e8d4a8';
                ctx.font = '11px "Playfair Display"';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(sign.text, 0, 0);
                
                ctx.restore();
            });
            
            ctx.restore();
        }
        
        function drawHeader() {
            ctx.save();
            ctx.beginPath();
            ctx.arc(centerX, centerY, globeRadius - 5, 0, Math.PI * 2);
            ctx.clip();
            
            // Name
            ctx.font = 'bold 42px "Playfair Display"';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Shadow
            ctx.fillStyle = 'rgba(0,0,0,0.3)';
            ctx.fillText('GEVA KIPPER', centerX + 2, centerY - globeRadius * 0.55 + 2);
            
            // Metallic gradient
            const nameGradient = ctx.createLinearGradient(0, centerY - globeRadius * 0.6, 0, centerY - globeRadius * 0.5);
            nameGradient.addColorStop(0, '#e8d4a8');
            nameGradient.addColorStop(0.5, '#fff5e0');
            nameGradient.addColorStop(1, '#c9a86c');
            ctx.fillStyle = nameGradient;
            ctx.fillText('GEVA KIPPER', centerX, centerY - globeRadius * 0.55);
            
            // Subtitle
            ctx.font = '14px "Playfair Display"';
            ctx.fillStyle = '#b8a888';
            ctx.fillText('Software Engineer crafting developer tools at Google', centerX, centerY - globeRadius * 0.42);
            
            // AI note
            ctx.font = 'italic 11px Inter';
            ctx.fillStyle = 'rgba(200, 180, 140, 0.8)';
            ctx.fillText('This portfolio is reimagined daily by AI‚Äîyou\'re seeing today\'s unique creation', centerX, centerY - globeRadius * 0.32);
            
            ctx.restore();
        }
        
        function drawSnowflakes() {
            ctx.save();
            ctx.beginPath();
            ctx.arc(centerX, centerY, globeRadius - 5, 0, Math.PI * 2);
            ctx.clip();
            
            snowflakes.forEach(s => {
                const depth = (s.z + globeRadius) / (globeRadius * 2);
                const alpha = 0.3 + depth * 0.5;
                const size = s.size * (0.5 + depth * 0.5);
                
                ctx.beginPath();
                ctx.arc(centerX + s.x, centerY + s.y, size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
                ctx.fill();
            });
            
            ctx.restore();
        }
        
        // Start
        init();
    </script>
<!-- Add this block to embed the like button -->
    <script src="/static/js/like_button.js"></script>
    <script>
        LikeButton.init({
          pageId: "20251205",
          position: "bottom-right", // Options: bottom-right, bottom-left, top-right, top-left
        });
    </script>

</body>
</html>